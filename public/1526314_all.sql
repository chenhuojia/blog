SET FOREIGN_KEY_CHECKS = 0;

DROP TABLE IF EXISTS  `bk_access_token`;
CREATE TABLE `bk_access_token` (
  `id` int(10) unsigned NOT NULL COMMENT '测试号id',
  `appid` varchar(100) COLLATE utf8mb4_bin NOT NULL COMMENT 'APPID',
  `appsecret` varchar(255) COLLATE utf8mb4_bin NOT NULL COMMENT 'appsecret',
  `access_token` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'access_token',
  `time` int(11) unsigned DEFAULT NULL COMMENT '过期时间',
  `addtime` int(11) unsigned NOT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='配置表';

insert into `bk_access_token`(`id`,`appid`,`appsecret`,`access_token`,`time`,`addtime`) values
('1','wx17e9c603ce6bbfd2','d7411f0ff2bf96fffc6a189bbc957f2f','6edBQB8dG5uA9kmcD096UbkA7pYCJdYiiMhOXBjZ4aD9ZtcxBXc_UeI_y4baoAgwfVk7fqhaBEQuL5nLvGdhswgbk7sZJC9g-f8u-stfuINEtd5ajolVanVM4cW6pmZbCKOcAFASAE','7200','1484384071'),
('2','wx8ea258c0833e4e0c','891e7d19d7649535c8626e2c207fb1c8','OIkpte7ifNJ-2FXlYuK-BuKrfYSTISmbVtpKy3YVe43oHKVf6X8TzkEXR3AsD1CNylF-5GcQWmBSbHLMafMrj2F6gd6De3IGdKOgGZgyqbAp74VP913CLjt-mx9CBP78RPWfABALJQ','7200','1495335637');
DROP TABLE IF EXISTS  `bk_admin`;
CREATE TABLE `bk_admin` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '管理员id',
  `name` varchar(20) COLLATE utf8mb4_bin NOT NULL COMMENT '管理员昵称',
  `password` varchar(32) COLLATE utf8mb4_bin NOT NULL COMMENT '管理员密码',
  `addtime` datetime NOT NULL COMMENT '添加时间',
  `last_login_time` datetime DEFAULT NULL COMMENT '上次登录时间',
  `login_num` int(10) NOT NULL DEFAULT '0' COMMENT '登录次数',
  `login_ip` varchar(20) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '登录IP',
  `encrypt_code` varchar(32) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '二次加密数字',
  `is_show` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否显示1是 0否',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='管理员表';

insert into `bk_admin`(`id`,`name`,`password`,`addtime`,`last_login_time`,`login_num`,`login_ip`,`encrypt_code`,`is_show`) values
('1','admin','8025cb945700b88a6be5370fb9926671','2017-02-23 09:23:22','2017-05-06 12:33:41','36','127.0.0.1','0907','1');
DROP TABLE IF EXISTS  `bk_approve`;
CREATE TABLE `bk_approve` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `art_id` int(10) unsigned NOT NULL COMMENT '文章id',
  `user_id` int(10) unsigned NOT NULL COMMENT '点赞用户id   0游客',
  `addtime` int(10) unsigned NOT NULL COMMENT '点赞时间',
  `is_approve` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否点赞 1 是 0否',
  `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示 1 是 0否',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=78 DEFAULT CHARSET=utf8mb4 COMMENT='点赞表';

insert into `bk_approve`(`id`,`art_id`,`user_id`,`addtime`,`is_approve`,`is_show`) values
('1','2','4','1481272171','1','1'),
('2','2','4','1481272172','1','1'),
('3','2','4','1481272173','1','1'),
('4','2','4','1481272173','1','1'),
('5','2','4','1481272175','1','1'),
('6','1','4','1481272177','1','1'),
('7','1','4','1481272178','1','1'),
('8','1','4','1481272178','1','1'),
('9','1','4','1481272179','1','1'),
('10','1','4','1481272179','1','1'),
('11','2','5','1481522082','1','1'),
('12','2','5','1481522082','1','1'),
('13','2','5','1481522083','1','1'),
('14','2','5','1481522083','1','1'),
('15','2','5','1481522083','1','1'),
('16','3','4','1481605590','1','1'),
('17','3','4','1481605590','1','1'),
('18','3','4','1481605591','1','1'),
('19','3','4','1481605591','1','1'),
('20','3','4','1481605592','1','1'),
('21','4','4','1481605597','1','1'),
('22','4','4','1481605597','1','1'),
('23','4','4','1481605598','1','1'),
('24','4','4','1481605598','1','1'),
('25','4','4','1481605598','1','1'),
('26','2','4','1481606633','1','1'),
('27','2','4','1481606782','1','1'),
('28','2','4','1481607227','1','1'),
('29','1','4','1481607880','1','1'),
('30','2','0','1481607897','1','1'),
('31','2','0','1481607898','1','1'),
('32','2','0','1481607898','1','1'),
('33','2','0','1481607898','1','1'),
('34','2','0','1481608043','1','1'),
('35','2','0','1481608045','1','1'),
('36','2','0','1481608049','1','1'),
('37','2','0','1481608050','1','1'),
('38','2','0','1481608053','1','1'),
('39','2','0','1481608055','1','1'),
('40','2','0','1481608055','1','1'),
('41','2','0','1481608056','1','1'),
('42','2','0','1481608134','1','1'),
('43','2','11','1481615683','1','1'),
('44','4','0','1482757068','1','1'),
('45','4','0','1482757070','1','1'),
('46','2','0','1482757229','1','1'),
('47','2','0','1482760440','1','1'),
('48','2','0','1482760471','1','1'),
('49','1','1','1483947436','1','1'),
('50','10','1','1483947443','1','1'),
('51','20','1','1483948804','1','1'),
('52','8','0','1484296675','1','1'),
('53','8','0','1484296873','1','1'),
('54','8','0','1484296874','1','1'),
('55','8','0','1484296877','1','1'),
('56','8','0','1484296879','1','1'),
('57','8','0','1484296879','1','1'),
('58','8','0','1484296880','1','1'),
('59','8','0','1484296880','1','1'),
('60','8','0','1484296880','1','1'),
('61','8','0','1484296881','1','1'),
('62','8','0','1484296883','1','1'),
('63','1','0','1484296914','1','1'),
('64','1','0','1484296916','1','1'),
('65','1','0','1484296923','1','1'),
('66','1','0','1484300103','1','1'),
('67','1','0','1484300105','1','1'),
('68','1','0','1484300107','1','1'),
('69','1','0','1484300109','1','1'),
('70','1','0','1484304866','1','1'),
('71','1','0','1484304870','1','1'),
('72','8','0','1484304938','1','1'),
('73','1','0','1486611033','1','1'),
('74','10','0','1486611035','1','1'),
('75','1','0','1489510537','1','1'),
('76','13','0','1489749908','1','1'),
('77','1','0','1489749920','1','1');
DROP TABLE IF EXISTS  `bk_article`;
CREATE TABLE `bk_article` (
  `art_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `user_id` int(10) unsigned NOT NULL DEFAULT '1' COMMENT '发布用户id 默认自己',
  `title` varchar(200) NOT NULL COMMENT '标题',
  `cate_id` int(11) NOT NULL DEFAULT '0' COMMENT '分类id',
  `introduction` varchar(255) NOT NULL COMMENT '简介',
  `content` longtext NOT NULL COMMENT '内容',
  `discuss_total` int(10) unsigned DEFAULT '0' COMMENT '评论数',
  `approve_total` int(10) unsigned DEFAULT '0' COMMENT '点赞数',
  `addtime` int(10) unsigned NOT NULL COMMENT '发表时间',
  `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示 1 是 0否',
  PRIMARY KEY (`art_id`)
) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=utf8mb4 COMMENT='发布文章表';

insert into `bk_article`(`art_id`,`user_id`,`title`,`cate_id`,`introduction`,`content`,`discuss_total`,`approve_total`,`addtime`,`is_show`) values
('2','1','PHP7的编译安装','1','PHP7的编译安装','&lt;h2 id=&quot;articleHeader6&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;依赖环境&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;惯例是先解决一些编译的依赖包&lt;/p&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;yum&amp;nbsp;-y&amp;nbsp;install&amp;nbsp;libxml2&amp;nbsp;libxml2-devel&amp;nbsp;openssl&amp;nbsp;openssl-devel&amp;nbsp;curl-devel&amp;nbsp;libjpeg-devel&amp;nbsp;libpng-devel&amp;nbsp;freetype-devel&amp;nbsp;libmcrypt-devel&lt;/pre&gt;&lt;h2 id=&quot;articleHeader7&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;编译安装php7&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;在《&lt;a href=&quot;http://www.tangshuang.net/1765.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;lamp升级php至php7&lt;/a&gt;》一文中，我谈到了如何在apache的服务器环境中升级php到7，而到nginx环境下，我们不再使用php的apxs模块，而是直接使用php-fpm模块。接下来，我们来尝试编译安装php7。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;先从官方网站下载php7，并且解压，由于上面这篇文章已经有了相关步骤，就不做过多详解：&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;wget&amp;nbsp;http://am1.php.net/get/php-7.0.0.tar.gz/from/this/mirror$&amp;nbsp;tar&amp;nbsp;zvxf&amp;nbsp;php-7.0.0.tar.gz$&amp;nbsp;cd&amp;nbsp;php-7.0.0&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;接下来要进行编译前的配置，和上面一篇文章不同，我们不提供apxs参数，相反，我们提供php-fpm相关参数：&lt;/p&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;./configure&amp;nbsp;--prefix=/usr/local/php7&amp;nbsp;\\--with-config-file-path=/usr/local/php7/etc&amp;nbsp;\\--with-config-file-scan-dir=/usr/local/php7/etc/php.d&amp;nbsp;\\--with-mcrypt=/usr/include&amp;nbsp;\\--enable-mysqlnd&amp;nbsp;\\--with-mysqli&amp;nbsp;\\--with-pdo-mysql&amp;nbsp;\\--enable-fpm&amp;nbsp;\\--with-fpm-user=nginx&amp;nbsp;\\--with-fpm-group=nginx&amp;nbsp;\\--with-gd&amp;nbsp;\\--with-iconv&amp;nbsp;\\--with-zlib&amp;nbsp;\\--enable-xml&amp;nbsp;\\--enable-shmop&amp;nbsp;\\--enable-sysvsem&amp;nbsp;\\--enable-inline-optimization&amp;nbsp;\\--enable-mbregex&amp;nbsp;\\--enable-mbstring&amp;nbsp;\\--enable-ftp&amp;nbsp;\\--enable-gd-native-ttf&amp;nbsp;\\--with-openssl&amp;nbsp;\\--enable-pcntl&amp;nbsp;\\--enable-sockets&amp;nbsp;\\--with-xmlrpc&amp;nbsp;\\--enable-zip&amp;nbsp;\\--enable-soap&amp;nbsp;\\--without-pear&amp;nbsp;\\--with-gettext&amp;nbsp;\\--enable-session&amp;nbsp;\\--with-curl&amp;nbsp;\\--with-jpeg-dir&amp;nbsp;\\--with-freetype-dir&amp;nbsp;\\--enable-opcache&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;配置无误后执行：&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;make$&amp;nbsp;make&amp;nbsp;install&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;同样可以使用-j2哦。如果安装成功，OK，那么php7的安装就OK了。&lt;/p&gt;&lt;h2 id=&quot;articleHeader8&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;调整php配置&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;默认安装好之后，你会发现/usr/local/php7/etc下面没有php.ini文件，这个去哪里要呢？在php7的源码安装包都有。&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;cd&amp;nbsp;/usr/src/php-7.0.0/$&amp;nbsp;ls&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;可以看到有两个php.ini-xxx文件，我们可以分别vi打开来看下，一个是产品模式，一个是开发模式。&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;cp&amp;nbsp;php.ini-production&amp;nbsp;/usr/local/php7/etc/php.ini
$&amp;nbsp;vi&amp;nbsp;/usr/local/php7/etc/php.ini&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;可以看到php的配置。本文就不做过多的配置解释了。&lt;/p&gt;&lt;h2 id=&quot;articleHeader9&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;启用php-fpm服务&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;上面我们在编译php7的时候，已经将fpm模块编译了，那么接下来，我们要启用php-fpm。但是默认情况下它的配置文件和服务都没有启用，所以要我们自己来搞定。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;搞定配置文件：&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;cd&amp;nbsp;/usr/local/php7/etc$&amp;nbsp;mv&amp;nbsp;php-fpm.conf.default&amp;nbsp;php-fpm.conf$&amp;nbsp;mv&amp;nbsp;php-fpm.d/www.conf.default&amp;nbsp;php-fpm.d/www.conf&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;php-fpm的具体配置我们也不做深入去详解，因为在编译之前./configure的时候，我们都已经确定了一些配置，比如运行fpm的用户和用户组之类的，所以默认配置应该不会存在路径问题和权限问题。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;搞定php-fpm的服务载入：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;就像上面的nginx一样，我们希望使用service php-fpm start|stop|restart这些操作来实现服务的重启，但没有像nginx那么复杂，php编译好之后，给我们提供了一个php-fpm的程序，不需要我再编写分享了。这个文件放在php编译源码目录中：&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;cd&amp;nbsp;/usr/src/php-7.0.0/sapi/fpm$&amp;nbsp;ls$&amp;nbsp;cp&amp;nbsp;init.d.php-fpm&amp;nbsp;/etc/init.d/php-fpm$&amp;nbsp;chmod&amp;nbsp;+x&amp;nbsp;/etc/init.d/php-fpm$&amp;nbsp;chkconfig&amp;nbsp;--add&amp;nbsp;php-fpm$&amp;nbsp;chkconfig&amp;nbsp;php-fpm&amp;nbsp;on&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;通过上面这个操作，我们就可以使用&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 3px;&quot;&gt;sevice php-fpm start&lt;/code&gt;来启用php-fpm了。用&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 3px;&quot;&gt;ps -ef | grep php-fpm&lt;/code&gt;看看进程吧。&lt;/p&gt;&lt;h1 id=&quot;articleHeader10&quot; style=&quot;box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;nginx代理php实现访问&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;通过上面的操作，nginx和php-fpm服务都被我们跑起来了，但是php-fpm走的是127.0.0.1:9000，外网是无法访问的，而且我们也不可能直接通过php-fpm给外网提供服务，我们用nginx去代理9000端口执行php。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;实际上这个过程只需要对nginx进行配置即可，fpm已经在后台运行了，我们需要在nginx的配置文件中增加代理的规则，即可让用户在访问80端口，请求php的时候，交由后端的fpm去执行，并返回结果。&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;vi&amp;nbsp;/usr/local/nginx/conf/nginx.conf&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;如果你大致了解过nginx的配置，应该能够很快分辨出这个配置文件里面的结构，并且知道server代表一个虚拟主机，要增加虚拟主机就再增加一个server，而且这个conf文件中也给出了例子。那么怎么代理php-fpm呢？找到：&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;#location&amp;nbsp;~&amp;nbsp;\\.php$&amp;nbsp;{
&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;html;
&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;fastcgi_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;127.0.0.1:9000;
&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;fastcgi_index&amp;nbsp;&amp;nbsp;index.php;
&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;fastcgi_param&amp;nbsp;&amp;nbsp;SCRIPT_FILENAME&amp;nbsp;&amp;nbsp;/script$fastcgi_script_name;
&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;include&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fastcgi_params;#}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;把前面的#注释符号去掉，把script改为$document_root最终如下：&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;location&amp;nbsp;~&amp;nbsp;\\.php$&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;html;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fastcgi_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;127.0.0.1:9000;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fastcgi_index&amp;nbsp;&amp;nbsp;index.php;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fastcgi_param&amp;nbsp;&amp;nbsp;SCRIPT_FILENAME&amp;nbsp;&amp;nbsp;/$document_root$fastcgi_script_name;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;include&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;fastcgi_params;
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;这样就OK了，重新载入nginx配置即可&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$&amp;nbsp;service&amp;nbsp;nginx&amp;nbsp;reload&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后到/usr/local/nginx/html去写一个php文档，进行测试吧。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;如果你的程序能够正常运行起来，用ip作为外网访问地址访问成功，那么恭喜你，本篇文章的目的就达到了。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483939849','1'),
('3','1','安装Web服务器--Mysql5.7.12安装','2','安装Web服务器--Mysql5.7.12安装','&lt;h2 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1.&lt;a href=&quot;http://dev.mysql.com/downloads/mysql/&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;下载源码安装包&lt;/a&gt;&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;因为安装mysql需要对应的boost文件（&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;必须是相应版本，不能高也不能低&lt;/strong&gt;），所以，为了不再麻烦的搜索对应的boost文件，下载包含boost的Mysql包&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;img data-src=&quot;/img/bVvhCX?w=1090&amp;amp;h=72&quot; src=&quot;https://segmentfault.com/img/bVvhCX?w=1090&amp;h=72&quot; style=&quot;box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline;&quot;/&gt;&lt;/p&gt;&lt;h2 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2.查看是否有编译器&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;#&amp;nbsp;gcc&amp;nbsp;-v&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;如果没有的话，安装文件时会报错，可以根据提示安装相应文件；&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;我是通过yum install安装的gcc 、c++、&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;cmake(mysql5.6.*以后需要cmake来编译)&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;[root@root]#&amp;nbsp;yum&amp;nbsp;install&amp;nbsp;gcc&amp;nbsp;-y[root@root]#&amp;nbsp;yum&amp;nbsp;install&amp;nbsp;gcc-c++&amp;nbsp;-y[root@root]#&amp;nbsp;yum&amp;nbsp;install&amp;nbsp;cmake&amp;nbsp;-y&lt;/pre&gt;&lt;h2 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3.&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.7/en/binary-installation.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;安装关联文件&lt;/a&gt;&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root]#&amp;nbsp;yum&amp;nbsp;install&amp;nbsp;libaio&amp;nbsp;-y[root@root]#&amp;nbsp;yum&amp;nbsp;install&amp;nbsp;ncurses-devel&amp;nbsp;-y&lt;/pre&gt;&lt;h2 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;4.创建mysql的安装目录及数据库存放目录&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mkdir&amp;nbsp;-p&amp;nbsp;/usr/local/mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//安装mysql[root@root]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mkdir&amp;nbsp;-p&amp;nbsp;/usr/local/mysql/data&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//存放数据库（-p自建，如果无上级目录，自建之）&lt;/pre&gt;&lt;h2 id=&quot;articleHeader4&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;5.创建mysql用户及用户组&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;groupadd&amp;nbsp;mysql
[root@root]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;useradd&amp;nbsp;-r&amp;nbsp;-g&amp;nbsp;mysql&amp;nbsp;mysql
或[root@root]&amp;nbsp;useradd&amp;nbsp;mysql&amp;nbsp;-g&amp;nbsp;mysql&amp;nbsp;-M&amp;nbsp;-s&amp;nbsp;/sbin/nologin(**这个错误，但设置了mysql无登录权限权限，上边那个怎么加权限呢**)&lt;/pre&gt;&lt;h2 id=&quot;articleHeader5&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;6.编译安装mysql&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;[root@root local]# tar -zxvf mysql-5.7.12.tar.gz //解压&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;[root@root local]# cd mysql-5.7.12&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;[root@root mysql-5.7.12]#&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;//配置安装目录、字符集等信息；&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;//关联Mysql压缩包中的boost&lt;/p&gt;&lt;pre class=&quot;hljs diff&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;cmake&amp;nbsp;-DCMAKE_INSTALL_PREFIX=/usr/local/mysql&amp;nbsp;\\-DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock&amp;nbsp;\\-DDEFAULT_CHARSET=utf8&amp;nbsp;\\-DDEFAULT_COLLATION=utf8_general_ci&amp;nbsp;\\-DWITH_MYISAM_STORAGE_ENGINE=1&amp;nbsp;\\-DWITH_INNOBASE_STORAGE_ENGINE=1&amp;nbsp;\\-DWITH_MEMORY_STORAGE_ENGINE=1&amp;nbsp;\\-DWITH_READLINE=1&amp;nbsp;\\-DENABLED_LOCAL_INFILE=1&amp;nbsp;\\-DMYSQL_DATADIR=/usr/local/mysql/data&amp;nbsp;\\-DMYSQL_USER=mysql&amp;nbsp;\\-DMYSQL_TCP_PORT=3306&amp;nbsp;\\-DDOWNLOAD_BOOST=1&amp;nbsp;-DWITH_BOOST=/home/mysql-5.7.12/boost[root@root&amp;nbsp;mysql-5.7.12]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;make
[root@root&amp;nbsp;mysql-5.7.12]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;make&amp;nbsp;install&lt;/pre&gt;&lt;h2 id=&quot;articleHeader6&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;7.检验是否安装成功&lt;/h2&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql-5.7.12]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cd&amp;nbsp;/usr/local/mysql/[root@root&amp;nbsp;mysql]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;lsbin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data&amp;nbsp;&amp;nbsp;include&amp;nbsp;&amp;nbsp;man&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql.sock.lock&amp;nbsp;&amp;nbsp;README&amp;nbsp;&amp;nbsp;support-filesCOPYING&amp;nbsp;&amp;nbsp;docs&amp;nbsp;&amp;nbsp;lib&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql.sock&amp;nbsp;&amp;nbsp;mysql-test&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;share&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;有bin等以上文件的话，恭喜你已经成功安装了mysql。&lt;/p&gt;&lt;h2 id=&quot;articleHeader7&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;8.设置mysql目录权限&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@localhost&amp;nbsp;mysql]#&amp;nbsp;cd&amp;nbsp;/usr/local/mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把当前目录中所有文件的所有者设为root，所属组为mysql[root@root&amp;nbsp;mysql]#&amp;nbsp;chown&amp;nbsp;-R&amp;nbsp;root:mysql&amp;nbsp;.[root@root&amp;nbsp;mysql]#&amp;nbsp;chown&amp;nbsp;-R&amp;nbsp;mysql:mysql&amp;nbsp;data&lt;/pre&gt;&lt;h2 id=&quot;articleHeader8&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;9.将mysql的配置文件移动到全局中&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;cp&amp;nbsp;support-files/my-default.cnf&amp;nbsp;/etc/my.cnfcp：是否覆盖&amp;quot;/etc/my.cnf&amp;quot;？&amp;nbsp;y&lt;/pre&gt;&lt;h2 id=&quot;articleHeader9&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;10.初始化数据库并生成初始密码&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;！！一定要记住初始密码&lt;/strong&gt;（没记住自行百度怎么改密码吧）&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;cd&amp;nbsp;/usr/local/mysql[root@root&amp;nbsp;mysql]#&amp;nbsp;bin/mysqld&amp;nbsp;--initialize&amp;nbsp;--user=mysql[root@root&amp;nbsp;mysql]#&amp;nbsp;bin/mysql_ssl_rsa_setup生成如下密码：
A&amp;nbsp;temporary&amp;nbsp;password&amp;nbsp;is&amp;nbsp;generated&amp;nbsp;for&amp;nbsp;root@localhost:&amp;nbsp;=il&amp;amp;jeuyz5aK&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;=il&amp;amp;jeuyz5aK&lt;/strong&gt;就是初始密码！！&lt;/p&gt;&lt;h2 id=&quot;articleHeader10&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;11.设置环境变量（使得mysql服务可以全局访问）&lt;/h2&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;~]#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;vi&amp;nbsp;/root/.bash_profile在修改PATH=$PATH:$HOME/bin为：
PATH=$PATH:$HOME/bin:/usr/local/mysql/bin:/usr/local/mysql/lib
[root@root&amp;nbsp;~]#&amp;nbsp;source&amp;nbsp;/root/.bash_profile&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//使刚才的修改生效&lt;/pre&gt;&lt;h2 id=&quot;articleHeader11&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;12.将mysql的启动服务添加到系统服务中&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;cp&amp;nbsp;support-files/mysql.server&amp;nbsp;/etc/init.d/mysql&lt;/pre&gt;&lt;h2 id=&quot;articleHeader12&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;13.启动mysql&lt;/h2&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;service&amp;nbsp;mysql&amp;nbsp;startStarting&amp;nbsp;MySQL...&amp;nbsp;ERROR!&amp;nbsp;The&amp;nbsp;server&amp;nbsp;quit&amp;nbsp;without&amp;nbsp;updating&amp;nbsp;PID&amp;nbsp;file&amp;nbsp;(/usr/local/mysql/data/bogon.pid).

启动失败：
这里是权限问题，先改变权限
[root@root&amp;nbsp;mysql]#&amp;nbsp;chown&amp;nbsp;-R&amp;nbsp;mysql:mysql&amp;nbsp;/usr/local/mysql

重新启动服务器
[root@root&amp;nbsp;mysql]#&amp;nbsp;service&amp;nbsp;mysql&amp;nbsp;start&lt;/pre&gt;&lt;h2 id=&quot;articleHeader13&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;14.登录并修改初始密码（不修改密码不让你操作，就是这么任性）&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;mysql&amp;nbsp;-u&amp;nbsp;root&amp;nbsp;-pEnter&amp;nbsp;password:=il&amp;amp;jeuyz5aK（初始密码）
如果报错：
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Can&amp;#39;t&amp;nbsp;connect&amp;nbsp;to&amp;nbsp;local&amp;nbsp;MySQL&amp;nbsp;server&amp;nbsp;through&amp;nbsp;socket&amp;nbsp;&amp;#39;/tmp/mysql.sock&amp;#39;
说明Mysql服务没有启动；----请确保服务已经启动

[root@root&amp;nbsp;mysql]#&amp;nbsp;mysql&amp;gt;&amp;nbsp;SET&amp;nbsp;PASSWORD&amp;nbsp;FOR&amp;nbsp;&amp;#39;root&amp;#39;@&amp;#39;localhost&amp;#39;&amp;nbsp;=&amp;nbsp;PASSWORD(&amp;#39;123456&amp;#39;);&lt;/pre&gt;&lt;h2 id=&quot;articleHeader14&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;15.重新登录&lt;/h2&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;[root@root&amp;nbsp;mysql]#&amp;nbsp;&amp;nbsp;mysql&amp;gt;&amp;nbsp;exit[root@root&amp;nbsp;mysql]#&amp;nbsp;&amp;nbsp;mysql&amp;nbsp;-u&amp;nbsp;root&amp;nbsp;-pEnter&amp;nbsp;password:123456&lt;/pre&gt;&lt;h2 id=&quot;articleHeader15&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;16.赋予Mysql远程连接功能&lt;/h2&gt;&lt;pre class=&quot;hljs css&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;mysql&amp;gt;&amp;nbsp;GRANT&amp;nbsp;ALL&amp;nbsp;PRIVILEGES&amp;nbsp;ON&amp;nbsp;*.*&amp;nbsp;TO&amp;nbsp;root@&amp;quot;%&amp;quot;&amp;nbsp;IDENTIFIED&amp;nbsp;BY&amp;nbsp;&amp;quot;root&amp;quot;;
授与root用户从任何其它主机发起的访问（通配符％）--------通过密码root;&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;注意：在程序里连接数据库，通过以上方法有可能不成功，需要附加当前IP访问数据库的权限；&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483939951','1'),
('4','1','CentOS 搭建SVN并用钩子自动实现同步到web目录教程','1','CentOS 搭建SVN并用钩子自动实现同步到web目录教程','&lt;h1 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;前言&lt;/h1&gt;&lt;h4 style=&quot;box-sizing: border-box;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);margin: 1.5em 0px;font-size: 1.25em;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;笔者服务器环境、目录情况：&lt;/h4&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;系统：CentOS 6.5&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;网站根目录：/home/wwwroot/test/web&lt;/p&gt;&lt;h4 style=&quot;box-sizing: border-box;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);margin: 1.5em 0px;font-size: 1.25em;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;为什么要用svn？&lt;/h4&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;a.方便多人协作，查看成员工作内容和工作量。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;b.即便是独自一人开发项目，也非常方便代码的部署（Sublime, Zend Studio都有svn的常见，配合快捷键，提交代码非常简单），同时可以找回历史版本的文件。&lt;/p&gt;&lt;h1 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;1.安装&lt;/h1&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 1.5em !important&quot;&gt;yum&amp;nbsp;install&amp;nbsp;subversion&lt;/pre&gt;&lt;h1 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;2.检查是否安装成功&lt;/h1&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 1.5em !important&quot;&gt;svnserve&amp;nbsp;–version&lt;/pre&gt;&lt;h1 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;3.创建仓库目录&lt;/h1&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 1.5em !important&quot;&gt;mkdir&amp;nbsp;–p&amp;nbsp;/home/svn/test&lt;/pre&gt;&lt;h1 id=&quot;articleHeader4&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;4.创建项目&lt;/h1&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 1.5em !important&quot;&gt;svnadmin&amp;nbsp;create&amp;nbsp;/home/svn/test&lt;/pre&gt;&lt;h1 id=&quot;articleHeader5&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;5.检查是否创建成功&lt;/h1&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 1.5em !important&quot;&gt;cd&amp;nbsp;/home/svn/test&amp;nbsp;ll&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;如果成功，test目录下会多出几个文件夹&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;&lt;img data-src=&quot;http://segmentfault.com/img/bVqVbh&quot; src=&quot;http://segmentfault.com/img/bVqVbh&quot; style=&quot;box-sizing: border-box;border: 1px solid rgb(221, 221, 221);vertical-align: middle;max-width: 100%;position: static !important;padding: 3px;cursor: pointer;display: inline&quot;/&gt;&lt;/p&gt;&lt;h1 id=&quot;articleHeader6&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;6.进入conf目录会看到3个配置文件，生成的文件中都有英文注释说明&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;authz:用户权限配置&lt;/p&gt;&lt;pre class=&quot;hljs makefile&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;###&amp;nbsp;This&amp;nbsp;file&amp;nbsp;is&amp;nbsp;an&amp;nbsp;example&amp;nbsp;authorization&amp;nbsp;file&amp;nbsp;for&amp;nbsp;svnserve.&amp;nbsp;###&amp;nbsp;Its&amp;nbsp;format&amp;nbsp;is&amp;nbsp;identical&amp;nbsp;to&amp;nbsp;that&amp;nbsp;of&amp;nbsp;mod_authz_svn&amp;nbsp;authorization&amp;nbsp;###&amp;nbsp;files.&amp;nbsp;###&amp;nbsp;As&amp;nbsp;shown&amp;nbsp;below&amp;nbsp;each&amp;nbsp;section&amp;nbsp;defines&amp;nbsp;authorizations&amp;nbsp;for&amp;nbsp;the&amp;nbsp;path&amp;nbsp;and&amp;nbsp;###&amp;nbsp;(optional)&amp;nbsp;repository&amp;nbsp;specified&amp;nbsp;by&amp;nbsp;the&amp;nbsp;section&amp;nbsp;name.&amp;nbsp;###&amp;nbsp;The&amp;nbsp;authorizations&amp;nbsp;follow.&amp;nbsp;An&amp;nbsp;authorization&amp;nbsp;line&amp;nbsp;can&amp;nbsp;refer&amp;nbsp;to:&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;a&amp;nbsp;single&amp;nbsp;user,&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;a&amp;nbsp;group&amp;nbsp;of&amp;nbsp;users&amp;nbsp;defined&amp;nbsp;in&amp;nbsp;a&amp;nbsp;special&amp;nbsp;[groups]&amp;nbsp;section,&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;an&amp;nbsp;alias&amp;nbsp;defined&amp;nbsp;in&amp;nbsp;a&amp;nbsp;special&amp;nbsp;[aliases]&amp;nbsp;section,&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;all&amp;nbsp;authenticated&amp;nbsp;users,&amp;nbsp;using&amp;nbsp;the&amp;nbsp;&amp;#39;$authenticated&amp;#39;&amp;nbsp;token,&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;only&amp;nbsp;anonymous&amp;nbsp;users,&amp;nbsp;using&amp;nbsp;the&amp;nbsp;&amp;#39;$anonymous&amp;#39;&amp;nbsp;token,&amp;nbsp;###&amp;nbsp;&amp;nbsp;-&amp;nbsp;anyone,&amp;nbsp;using&amp;nbsp;the&amp;nbsp;&amp;#39;*&amp;#39;&amp;nbsp;wildcard.&amp;nbsp;###&amp;nbsp;###&amp;nbsp;A&amp;nbsp;match&amp;nbsp;can&amp;nbsp;be&amp;nbsp;inverted&amp;nbsp;by&amp;nbsp;prefixing&amp;nbsp;the&amp;nbsp;rule&amp;nbsp;with&amp;nbsp;&amp;#39;~&amp;#39;.&amp;nbsp;Rules&amp;nbsp;can&amp;nbsp;###&amp;nbsp;grant&amp;nbsp;read&amp;nbsp;(&amp;#39;r&amp;#39;)&amp;nbsp;access,&amp;nbsp;read-write&amp;nbsp;(&amp;#39;rw&amp;#39;)&amp;nbsp;access,&amp;nbsp;or&amp;nbsp;no&amp;nbsp;access&amp;nbsp;###&amp;nbsp;(&amp;#39;&amp;#39;).&amp;nbsp;[aliases]&amp;nbsp;#&amp;nbsp;joe&amp;nbsp;=&amp;nbsp;/C=XZ/ST=Dessert/L=Snake&amp;nbsp;City/O=Snake&amp;nbsp;Oil,&amp;nbsp;Ltd./OU=Research&amp;nbsp;Institute/CN=Joe&amp;nbsp;Average&amp;nbsp;[groups]&amp;nbsp;#&amp;nbsp;harry_and_sally&amp;nbsp;=&amp;nbsp;harry,sally&amp;nbsp;#&amp;nbsp;harry_sally_and_joe&amp;nbsp;=&amp;nbsp;harry,sally,&amp;amp;joe&amp;nbsp;[/]&amp;nbsp;testusername&amp;nbsp;=&amp;nbsp;rw&amp;nbsp;#&amp;nbsp;[/foo/bar]&amp;nbsp;#&amp;nbsp;harry&amp;nbsp;=&amp;nbsp;rw&amp;nbsp;#&amp;nbsp;&amp;amp;joe&amp;nbsp;=&amp;nbsp;r&amp;nbsp;#&amp;nbsp;*&amp;nbsp;=&amp;nbsp;#&amp;nbsp;[repository:/baz/fuz]&amp;nbsp;#&amp;nbsp;@harry_and_sally&amp;nbsp;=&amp;nbsp;rw&amp;nbsp;#&amp;nbsp;*&amp;nbsp;=&amp;nbsp;r&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;passwd:用户密码&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;###&amp;nbsp;This&amp;nbsp;file&amp;nbsp;is&amp;nbsp;an&amp;nbsp;example&amp;nbsp;password&amp;nbsp;file&amp;nbsp;for&amp;nbsp;svnserve.&amp;nbsp;###&amp;nbsp;Its&amp;nbsp;format&amp;nbsp;is&amp;nbsp;similar&amp;nbsp;to&amp;nbsp;that&amp;nbsp;of&amp;nbsp;svnserve.conf.&amp;nbsp;As&amp;nbsp;shown&amp;nbsp;in&amp;nbsp;the&amp;nbsp;###&amp;nbsp;example&amp;nbsp;below&amp;nbsp;it&amp;nbsp;contains&amp;nbsp;one&amp;nbsp;section&amp;nbsp;labelled&amp;nbsp;[users].&amp;nbsp;###&amp;nbsp;The&amp;nbsp;name&amp;nbsp;and&amp;nbsp;password&amp;nbsp;for&amp;nbsp;each&amp;nbsp;user&amp;nbsp;follow,&amp;nbsp;one&amp;nbsp;account&amp;nbsp;per&amp;nbsp;line.&amp;nbsp;[users]&amp;nbsp;#&amp;nbsp;harry&amp;nbsp;=&amp;nbsp;harryssecret&amp;nbsp;#&amp;nbsp;sally&amp;nbsp;=&amp;nbsp;sallyssecret&amp;nbsp;testusername&amp;nbsp;=123456&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;svnserve.conf:&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;###&amp;nbsp;This&amp;nbsp;file&amp;nbsp;controls&amp;nbsp;the&amp;nbsp;configuration&amp;nbsp;of&amp;nbsp;the&amp;nbsp;svnserve&amp;nbsp;daemon,&amp;nbsp;if&amp;nbsp;you&amp;nbsp;###&amp;nbsp;use&amp;nbsp;it&amp;nbsp;to&amp;nbsp;allow&amp;nbsp;access&amp;nbsp;to&amp;nbsp;this&amp;nbsp;repository.&amp;nbsp;&amp;nbsp;(If&amp;nbsp;you&amp;nbsp;only&amp;nbsp;allow&amp;nbsp;###&amp;nbsp;access&amp;nbsp;through&amp;nbsp;http:&amp;nbsp;and/or&amp;nbsp;file:&amp;nbsp;URLs,&amp;nbsp;then&amp;nbsp;this&amp;nbsp;file&amp;nbsp;is&amp;nbsp;###&amp;nbsp;irrelevant.)&amp;nbsp;###&amp;nbsp;Visit&amp;nbsp;http://subversion.tigris.org/&amp;nbsp;for&amp;nbsp;more&amp;nbsp;information.&amp;nbsp;[general]&amp;nbsp;###&amp;nbsp;These&amp;nbsp;options&amp;nbsp;control&amp;nbsp;access&amp;nbsp;to&amp;nbsp;the&amp;nbsp;repository&amp;nbsp;for&amp;nbsp;unauthenticated&amp;nbsp;###&amp;nbsp;and&amp;nbsp;authenticated&amp;nbsp;users.&amp;nbsp;&amp;nbsp;Valid&amp;nbsp;values&amp;nbsp;are&amp;nbsp;&amp;quot;write&amp;quot;,&amp;nbsp;&amp;quot;read&amp;quot;,&amp;nbsp;###&amp;nbsp;and&amp;nbsp;&amp;quot;none&amp;quot;.&amp;nbsp;&amp;nbsp;The&amp;nbsp;sample&amp;nbsp;settings&amp;nbsp;below&amp;nbsp;are&amp;nbsp;the&amp;nbsp;defaults.&amp;nbsp;anon-access&amp;nbsp;=&amp;nbsp;read&amp;nbsp;auth-access&amp;nbsp;=&amp;nbsp;write&amp;nbsp;###&amp;nbsp;The&amp;nbsp;password-db&amp;nbsp;option&amp;nbsp;controls&amp;nbsp;the&amp;nbsp;location&amp;nbsp;of&amp;nbsp;the&amp;nbsp;password&amp;nbsp;###&amp;nbsp;database&amp;nbsp;file.&amp;nbsp;&amp;nbsp;Unless&amp;nbsp;you&amp;nbsp;specify&amp;nbsp;a&amp;nbsp;path&amp;nbsp;starting&amp;nbsp;with&amp;nbsp;a&amp;nbsp;/,&amp;nbsp;###&amp;nbsp;the&amp;nbsp;file&amp;#39;s&amp;nbsp;location&amp;nbsp;is&amp;nbsp;relative&amp;nbsp;to&amp;nbsp;the&amp;nbsp;directory&amp;nbsp;containing&amp;nbsp;###&amp;nbsp;this&amp;nbsp;configuration&amp;nbsp;file.&amp;nbsp;###&amp;nbsp;If&amp;nbsp;SASL&amp;nbsp;is&amp;nbsp;enabled&amp;nbsp;(see&amp;nbsp;below),&amp;nbsp;this&amp;nbsp;file&amp;nbsp;will&amp;nbsp;NOT&amp;nbsp;be&amp;nbsp;used.&amp;nbsp;###&amp;nbsp;Uncomment&amp;nbsp;the&amp;nbsp;line&amp;nbsp;below&amp;nbsp;to&amp;nbsp;use&amp;nbsp;the&amp;nbsp;default&amp;nbsp;password&amp;nbsp;file.&amp;nbsp;password-db&amp;nbsp;=&amp;nbsp;passwd&amp;nbsp;###&amp;nbsp;The&amp;nbsp;authz-db&amp;nbsp;option&amp;nbsp;controls&amp;nbsp;the&amp;nbsp;location&amp;nbsp;of&amp;nbsp;the&amp;nbsp;authorization&amp;nbsp;###&amp;nbsp;rules&amp;nbsp;for&amp;nbsp;path-based&amp;nbsp;access&amp;nbsp;control.&amp;nbsp;&amp;nbsp;Unless&amp;nbsp;you&amp;nbsp;specify&amp;nbsp;a&amp;nbsp;path&amp;nbsp;###&amp;nbsp;starting&amp;nbsp;with&amp;nbsp;a&amp;nbsp;/,&amp;nbsp;the&amp;nbsp;file&amp;#39;s&amp;nbsp;location&amp;nbsp;is&amp;nbsp;relative&amp;nbsp;to&amp;nbsp;the&amp;nbsp;the&amp;nbsp;###&amp;nbsp;directory&amp;nbsp;containing&amp;nbsp;this&amp;nbsp;file.&amp;nbsp;&amp;nbsp;If&amp;nbsp;you&amp;nbsp;don&amp;#39;t&amp;nbsp;specify&amp;nbsp;an&amp;nbsp;###&amp;nbsp;authz-db,&amp;nbsp;no&amp;nbsp;path-based&amp;nbsp;access&amp;nbsp;control&amp;nbsp;is&amp;nbsp;done.&amp;nbsp;###&amp;nbsp;Uncomment&amp;nbsp;the&amp;nbsp;line&amp;nbsp;below&amp;nbsp;to&amp;nbsp;use&amp;nbsp;the&amp;nbsp;default&amp;nbsp;authorization&amp;nbsp;file.&amp;nbsp;authz-db&amp;nbsp;=&amp;nbsp;authz&amp;nbsp;###&amp;nbsp;This&amp;nbsp;option&amp;nbsp;specifies&amp;nbsp;the&amp;nbsp;authentication&amp;nbsp;realm&amp;nbsp;of&amp;nbsp;the&amp;nbsp;repository.&amp;nbsp;###&amp;nbsp;If&amp;nbsp;two&amp;nbsp;repositories&amp;nbsp;have&amp;nbsp;the&amp;nbsp;same&amp;nbsp;authentication&amp;nbsp;realm,&amp;nbsp;they&amp;nbsp;should&amp;nbsp;###&amp;nbsp;have&amp;nbsp;the&amp;nbsp;same&amp;nbsp;password&amp;nbsp;database,&amp;nbsp;and&amp;nbsp;vice&amp;nbsp;versa.&amp;nbsp;&amp;nbsp;The&amp;nbsp;default&amp;nbsp;realm&amp;nbsp;###&amp;nbsp;is&amp;nbsp;repository&amp;#39;s&amp;nbsp;uuid.&amp;nbsp;realm&amp;nbsp;=&amp;nbsp;/home/svn/test&amp;nbsp;[sasl]&amp;nbsp;###&amp;nbsp;This&amp;nbsp;option&amp;nbsp;specifies&amp;nbsp;whether&amp;nbsp;you&amp;nbsp;want&amp;nbsp;to&amp;nbsp;use&amp;nbsp;the&amp;nbsp;Cyrus&amp;nbsp;SASL&amp;nbsp;###&amp;nbsp;library&amp;nbsp;for&amp;nbsp;authentication.&amp;nbsp;Default&amp;nbsp;is&amp;nbsp;false.&amp;nbsp;###&amp;nbsp;This&amp;nbsp;section&amp;nbsp;will&amp;nbsp;be&amp;nbsp;ignored&amp;nbsp;if&amp;nbsp;svnserve&amp;nbsp;is&amp;nbsp;not&amp;nbsp;built&amp;nbsp;with&amp;nbsp;Cyrus&amp;nbsp;###&amp;nbsp;SASL&amp;nbsp;support;&amp;nbsp;to&amp;nbsp;check,&amp;nbsp;run&amp;nbsp;&amp;#39;svnserve&amp;nbsp;--version&amp;#39;&amp;nbsp;and&amp;nbsp;look&amp;nbsp;for&amp;nbsp;a&amp;nbsp;line&amp;nbsp;###&amp;nbsp;reading&amp;nbsp;&amp;#39;Cyrus&amp;nbsp;SASL&amp;nbsp;authentication&amp;nbsp;is&amp;nbsp;available.&amp;#39;&amp;nbsp;#&amp;nbsp;use-sasl&amp;nbsp;=&amp;nbsp;true&amp;nbsp;###&amp;nbsp;These&amp;nbsp;options&amp;nbsp;specify&amp;nbsp;the&amp;nbsp;desired&amp;nbsp;strength&amp;nbsp;of&amp;nbsp;the&amp;nbsp;security&amp;nbsp;layer&amp;nbsp;###&amp;nbsp;that&amp;nbsp;you&amp;nbsp;want&amp;nbsp;SASL&amp;nbsp;to&amp;nbsp;provide.&amp;nbsp;0&amp;nbsp;means&amp;nbsp;no&amp;nbsp;encryption,&amp;nbsp;1&amp;nbsp;means&amp;nbsp;###&amp;nbsp;integrity-checking&amp;nbsp;only,&amp;nbsp;values&amp;nbsp;larger&amp;nbsp;than&amp;nbsp;1&amp;nbsp;are&amp;nbsp;correlated&amp;nbsp;###&amp;nbsp;to&amp;nbsp;the&amp;nbsp;effective&amp;nbsp;key&amp;nbsp;length&amp;nbsp;for&amp;nbsp;encryption&amp;nbsp;(e.g.&amp;nbsp;128&amp;nbsp;means&amp;nbsp;128-bit&lt;/pre&gt;&lt;h1 id=&quot;articleHeader7&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;7.启动SVN服务&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;svnserve -d -r /home/svn&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;注意：不是svnserve -d -r /home/svn/test&lt;/p&gt;&lt;h1 id=&quot;articleHeader8&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;8.在本机安装TortoiseSVN&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;输入svn://你的ip地址/test&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;如果弹出输入账号密码的对话框，表示上述设置正确。&lt;/p&gt;&lt;h1 id=&quot;articleHeader9&quot; style=&quot;box-sizing: border-box;font-size: 2.25em;margin: 1.5em 0px 0px;font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-weight: 500;line-height: 1.2;color: rgb(51, 51, 51);border-bottom: 1px solid rgb(238, 238, 238);padding-bottom: 10px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;9.Svn commit后自动同步到网站根目录的方法&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;为什么需要同步呢？原因是我们commit的文件其实是提交到了svn的仓库中，svn仓库不是一个实际的网站根目录。流程如下：本地文件commit到仓库-&amp;gt;仓库同步到根目录，可以把仓库理解为一个中转站。进入到项目下的hooks文件夹&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;cd&amp;nbsp;/home/svn/test/hooks&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;把post-commit.tmpl的扩展名去掉，并赋予777权限。然后vim post-commit写入如下内容。&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;#!/bin/sh&amp;nbsp;&amp;nbsp;export.UTF-8&amp;nbsp;svn&amp;nbsp;co&amp;nbsp;svn://你的ip/test&amp;nbsp;/home/wwwroot/test/web&amp;nbsp;#&amp;nbsp;POST-COMMIT&amp;nbsp;HOOK&amp;nbsp;#&amp;nbsp;The&amp;nbsp;post-commit&amp;nbsp;hook&amp;nbsp;is&amp;nbsp;invoked&amp;nbsp;after&amp;nbsp;a&amp;nbsp;commit.&amp;nbsp;&amp;nbsp;Subversion&amp;nbsp;runs&amp;nbsp;#&amp;nbsp;this&amp;nbsp;hook&amp;nbsp;by&amp;nbsp;invoking&amp;nbsp;a&amp;nbsp;program&amp;nbsp;(script,&amp;nbsp;executable,&amp;nbsp;binary,&amp;nbsp;etc.)&amp;nbsp;#&amp;nbsp;named&amp;nbsp;&amp;#39;post-commit&amp;#39;&amp;nbsp;(for&amp;nbsp;which&amp;nbsp;this&amp;nbsp;file&amp;nbsp;is&amp;nbsp;a&amp;nbsp;template)&amp;nbsp;with&amp;nbsp;the&amp;nbsp;#&amp;nbsp;following&amp;nbsp;ordered&amp;nbsp;arguments:&amp;nbsp;#&amp;nbsp;#&amp;nbsp;&amp;nbsp;&amp;nbsp;[1]&amp;nbsp;REPOS-PATH&amp;nbsp;&amp;nbsp;&amp;nbsp;(the&amp;nbsp;path&amp;nbsp;to&amp;nbsp;this&amp;nbsp;repository)&amp;nbsp;#&amp;nbsp;&amp;nbsp;&amp;nbsp;[2]&amp;nbsp;REV&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(the&amp;nbsp;number&amp;nbsp;of&amp;nbsp;the&amp;nbsp;revision&amp;nbsp;just&amp;nbsp;committed)&amp;nbsp;#&amp;nbsp;#&amp;nbsp;The&amp;nbsp;default&amp;nbsp;working&amp;nbsp;directory&amp;nbsp;for&amp;nbsp;the&amp;nbsp;invocation&amp;nbsp;is&amp;nbsp;undefined,&amp;nbsp;so&amp;nbsp;#&amp;nbsp;the&amp;nbsp;program&amp;nbsp;should&amp;nbsp;set&amp;nbsp;one&amp;nbsp;explicitly&amp;nbsp;if&amp;nbsp;it&amp;nbsp;cares.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;Because&amp;nbsp;the&amp;nbsp;commit&amp;nbsp;has&amp;nbsp;already&amp;nbsp;completed&amp;nbsp;and&amp;nbsp;cannot&amp;nbsp;be&amp;nbsp;undone,&amp;nbsp;#&amp;nbsp;the&amp;nbsp;exit&amp;nbsp;code&amp;nbsp;of&amp;nbsp;the&amp;nbsp;hook&amp;nbsp;program&amp;nbsp;is&amp;nbsp;ignored.&amp;nbsp;&amp;nbsp;The&amp;nbsp;hook&amp;nbsp;program&amp;nbsp;#&amp;nbsp;can&amp;nbsp;use&amp;nbsp;the&amp;nbsp;&amp;#39;svnlook&amp;#39;&amp;nbsp;utility&amp;nbsp;to&amp;nbsp;help&amp;nbsp;it&amp;nbsp;examine&amp;nbsp;the&amp;nbsp;#&amp;nbsp;newly-committed&amp;nbsp;tree.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;On&amp;nbsp;a&amp;nbsp;Unix&amp;nbsp;system,&amp;nbsp;the&amp;nbsp;normal&amp;nbsp;procedure&amp;nbsp;is&amp;nbsp;to&amp;nbsp;have&amp;nbsp;&amp;#39;post-commit&amp;#39;&amp;nbsp;#&amp;nbsp;invoke&amp;nbsp;other&amp;nbsp;programs&amp;nbsp;to&amp;nbsp;do&amp;nbsp;the&amp;nbsp;real&amp;nbsp;work,&amp;nbsp;though&amp;nbsp;it&amp;nbsp;may&amp;nbsp;do&amp;nbsp;the&amp;nbsp;#&amp;nbsp;work&amp;nbsp;itself&amp;nbsp;too.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;Note&amp;nbsp;that&amp;nbsp;&amp;#39;post-commit&amp;#39;&amp;nbsp;must&amp;nbsp;be&amp;nbsp;executable&amp;nbsp;by&amp;nbsp;the&amp;nbsp;user(s)&amp;nbsp;who&amp;nbsp;will&amp;nbsp;#&amp;nbsp;invoke&amp;nbsp;it&amp;nbsp;(typically&amp;nbsp;the&amp;nbsp;user&amp;nbsp;httpd&amp;nbsp;runs&amp;nbsp;as),&amp;nbsp;and&amp;nbsp;that&amp;nbsp;user&amp;nbsp;must&amp;nbsp;#&amp;nbsp;have&amp;nbsp;filesystem-level&amp;nbsp;permission&amp;nbsp;to&amp;nbsp;access&amp;nbsp;the&amp;nbsp;repository.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;On&amp;nbsp;a&amp;nbsp;Windows&amp;nbsp;system,&amp;nbsp;you&amp;nbsp;should&amp;nbsp;name&amp;nbsp;the&amp;nbsp;hook&amp;nbsp;program&amp;nbsp;#&amp;nbsp;&amp;#39;post-commit.bat&amp;#39;&amp;nbsp;or&amp;nbsp;&amp;#39;post-commit.exe&amp;#39;,&amp;nbsp;#&amp;nbsp;but&amp;nbsp;the&amp;nbsp;basic&amp;nbsp;idea&amp;nbsp;is&amp;nbsp;the&amp;nbsp;same.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;The&amp;nbsp;hook&amp;nbsp;program&amp;nbsp;typically&amp;nbsp;does&amp;nbsp;not&amp;nbsp;inherit&amp;nbsp;the&amp;nbsp;environment&amp;nbsp;of&amp;nbsp;#&amp;nbsp;its&amp;nbsp;parent&amp;nbsp;process.&amp;nbsp;&amp;nbsp;For&amp;nbsp;example,&amp;nbsp;a&amp;nbsp;common&amp;nbsp;problem&amp;nbsp;is&amp;nbsp;for&amp;nbsp;the&amp;nbsp;#&amp;nbsp;PATH&amp;nbsp;environment&amp;nbsp;variable&amp;nbsp;to&amp;nbsp;not&amp;nbsp;be&amp;nbsp;set&amp;nbsp;to&amp;nbsp;its&amp;nbsp;usual&amp;nbsp;value,&amp;nbsp;so&amp;nbsp;#&amp;nbsp;that&amp;nbsp;subprograms&amp;nbsp;fail&amp;nbsp;to&amp;nbsp;launch&amp;nbsp;unless&amp;nbsp;invoked&amp;nbsp;via&amp;nbsp;absolute&amp;nbsp;path.&amp;nbsp;#&amp;nbsp;If&amp;nbsp;you&amp;#39;re&amp;nbsp;having&amp;nbsp;unexpected&amp;nbsp;problems&amp;nbsp;with&amp;nbsp;a&amp;nbsp;hook&amp;nbsp;program,&amp;nbsp;the&amp;nbsp;#&amp;nbsp;culprit&amp;nbsp;may&amp;nbsp;be&amp;nbsp;unusual&amp;nbsp;(or&amp;nbsp;missing)&amp;nbsp;environment&amp;nbsp;variables.&amp;nbsp;#&amp;nbsp;#&amp;nbsp;Here&amp;nbsp;is&amp;nbsp;an&amp;nbsp;example&amp;nbsp;hook&amp;nbsp;script,&amp;nbsp;for&amp;nbsp;a&amp;nbsp;Unix&amp;nbsp;/bin/sh&amp;nbsp;interpreter.&amp;nbsp;#&amp;nbsp;For&amp;nbsp;more&amp;nbsp;examples&amp;nbsp;and&amp;nbsp;pre-written&amp;nbsp;hooks,&amp;nbsp;see&amp;nbsp;those&amp;nbsp;in&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 1.5em;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;&lt;strong style=&quot;box-sizing: border-box&quot;&gt;重要步骤&lt;/strong&gt;：然后cd /回到根目录，执行以下语句，这一步的作用是让服务器记忆你svn的账号密码，防止出现权限等问题，首先让你输入你服务器的密码，接着输入svn的账号密码，其中会问你是否记忆，输入yes。&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box;overflow: auto;font-family: &amp;#39;Source Code Pro&amp;#39;, Consolas, Menlo, Monaco, &amp;#39;Courier New&amp;#39;, monospace;font-size: 0.93em;padding: 1em;margin-bottom: 1.5em;line-height: 1.3;word-wrap: break-word;color: rgb(51, 51, 51);border: none;border-radius: 3px;max-height: 35em;position: relative;margin-top: 0px !important&quot;&gt;svn&amp;nbsp;co&amp;nbsp;svn://你的ip/test&amp;nbsp;/home/wwwroot/test/web&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box;margin-top: 1.5em;margin-bottom: 0px;color: rgb(51, 51, 51);font-family: &amp;#39;Helvetica Neue&amp;#39;, Helvetica, Arial, &amp;#39;PingFang SC&amp;#39;, &amp;#39;Hiragino Sans GB&amp;#39;, &amp;#39;WenQuanYi Micro Hei&amp;#39;, &amp;#39;Microsoft Yahei&amp;#39;, sans-serif;font-size: 14px;white-space: normal;background-color: rgb(255, 255, 255)&quot;&gt;至此svn已经配置完毕，并且可以实现本地一执行上传，自动同步到网站跟目录。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940010','1'),
('5','1','安装 Redis','3','安装 Redis','&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1、检查安装依赖程序&lt;/p&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;yum&amp;nbsp;install&amp;nbsp;gcc-c++
yum&amp;nbsp;install&amp;nbsp;-y&amp;nbsp;tcl
yum&amp;nbsp;install&amp;nbsp;wget&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2、获取安装文件&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;wget&amp;nbsp;http://download.redis.io/releases/redis-2.8.13.tar.gz&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3、解压文件&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;tar&amp;nbsp;-xzvf&amp;nbsp;redis-2.8.19.tar.gz
mv&amp;nbsp;redis-2.8.19&amp;nbsp;/usr/local/redis&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;4、进入目录&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;cd&amp;nbsp;/usr/local/redis&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;5、编译安装&lt;/p&gt;&lt;pre class=&quot;hljs sql&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;make
make&amp;nbsp;install&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;6、设置配置文件路径&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;mkdir&amp;nbsp;-p&amp;nbsp;/etc/redis
cp&amp;nbsp;redis.conf/etc/redis&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;7、修改配置文件&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;vi&amp;nbsp;/etc/redis/redis.conf
仅修改：&amp;nbsp;daemonize&amp;nbsp;yes&amp;nbsp;（no--&amp;gt;yes）&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;8、启动&lt;/p&gt;&lt;pre class=&quot;hljs bash&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;/usr/local/bin/redis-server&amp;nbsp;/etc/redis/redis.conf&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;9、查看启动&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;ps&amp;nbsp;-ef&amp;nbsp;|&amp;nbsp;grep&amp;nbsp;redis&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;10、使用客户端&lt;/p&gt;&lt;pre class=&quot;hljs cs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;redis-cli
&amp;gt;set&amp;nbsp;name&amp;nbsp;david
OK
&amp;gt;get&amp;nbsp;name&amp;quot;david&amp;quot;&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;11.关闭客户端&lt;/p&gt;&lt;pre class=&quot;hljs perl&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;redis-cli&amp;nbsp;shutdown&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;12、开机启动配置&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;selectCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;全选&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;copyCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; data-clipboard-text=&quot;echo &amp;quot;/usr/local/bin/redis-server /etc/redis/redis.conf &amp;amp;&amp;quot; &amp;gt;&amp;gt; /etc/rc.local
&quot; title=&quot;&quot; data-original-title=&quot;复制&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -16px 0px !important;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;saveToNote code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;放进笔记&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -31px 0px !important;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;hljs ruby&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;echo&amp;nbsp;&amp;quot;/usr/local/bin/redis-server&amp;nbsp;/etc/redis/redis.conf&amp;nbsp;&amp;amp;&amp;quot;&amp;nbsp;&amp;gt;&amp;gt;&amp;nbsp;/etc/rc.local&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;开机启动要配置在&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 3px;&quot;&gt;rc.local&lt;/code&gt;&amp;nbsp;中，而&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 3px;&quot;&gt;/etc/profile&lt;/code&gt;&amp;nbsp;文件，要有用户登录了，才会被执行。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940067','1'),
('6','1','MYSql 学习优化笔记','2','MYSql 学习优化笔记','&lt;h2 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;常用优化&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1： max()优化： 在相应列上添加索引&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;2： count()优化：count(*) 会算出包含null记录的数量， count(field_name)只包含不含 null的数量(这也是很多时候两种count方式结果不一致的原因)， count()的时候尽量用后一种， count(null)返回0，即不会记录null记录数量&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;3： 子查询优化=====》(改为)联接查询(如果1对多的关系，注意重复记录)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;4： group by优化 如果包含子查询，在子查询里面使用where条件和group by过滤, 避免在复杂查询的最外层使用group by(如果最外层使用会用到临时表)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;5: order by , limit 优化：&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;方式1：尽量使用主键或有索引的列order by;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;方式2： 使用自增型的字段： 记录上一次返回的主键或者自增列(此种方式该字段不能有空值，否则会出现有的页面数量不足的问题， 解决的方式是添加附加的index_id， 自增且索引)， 过滤时先用大于上一次主键值且小于上一次的主键值+每页的数量， 过滤该字段，然后order by 和limit&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;PS： 复合索引有效条件：&lt;/strong&gt;&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;1: where 条件中依次过滤（最左前缀）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;2：排序时： 索引字段有正有反的时候不能使用&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;3：排序时： 某列有范围查询的时候该列右侧的字段不能使用索引&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;优化的思路就是尽量避免扫描过多的记录。&lt;/strong&gt;&lt;/p&gt;&lt;h2 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;创建索引的原则:&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1: where, order by ,group by, on从句中的字段&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;2：索引字段越小越好&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;3：联合索引时把离散程度高的字段放前面&lt;/p&gt;&lt;h2 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;表级优化&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1： 表的范式优化&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;2： 适当增减一些冗余， 做反范式优化（以空间换取时间）&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;3： 表的列非常多的时候使用垂直拆分&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;原则：&lt;/strong&gt;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1： 把不常用的单独字段放到一个表中&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2： 把大字段独立存放到一个表中&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;3： 把经常一起用的字段放在一起&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;4： 表的数据量非常大的时候使用水平拆分&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;方法&lt;/strong&gt;:&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1： 根据某个字段进行hash预算， 如果要拆分成5个表， 用取余的方式取到0-4，分表保到相应的表中&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2： 针对不同的hashID把数据存到不同的表中&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;问题&lt;/strong&gt;:&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1： 跨分区查询的问题&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2： 统计及后台报表操作&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(前台使用分表查询， 后台使用汇总表查询做汇总报表操作).&lt;/p&gt;&lt;h2 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;冗余索引检查工具&lt;/h2&gt;&lt;p&gt;&lt;span class=&quot;selectCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;全选&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;copyCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; data-clipboard-text=&quot;pt-duplicate-key-checker \\
-uroot \\
-p &amp;#39;111111&amp;#39; \\
-h localhost
&quot; title=&quot;&quot; data-original-title=&quot;复制&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -16px 0px !important;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;saveToNote code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;放进笔记&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -31px 0px !important;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;hljs diff&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;pt-duplicate-key-checker&amp;nbsp;\\-uroot&amp;nbsp;\\-p&amp;nbsp;&amp;#39;111111&amp;#39;&amp;nbsp;\\-h&amp;nbsp;localhost&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940246','1'),
('7','1','MySQL性能优化','2','MySQL性能优化','&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;MySQL性能优化可从如下几个方面着手&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;SQL优化&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;索引优化&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据库(表)结构优化&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;系统配置优化&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;服务器硬件优化&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;SQL优化&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;开启慢查询记录日志，查找症状(很多时候都是一些慢查询拖累了整个数据库的性能)&lt;/p&gt;&lt;pre class=&quot;hljs cpp&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;#path可修改为绝对或者相对路径log-slow-queries=slow-log-path&amp;nbsp;
#l查询时间超过2s记录long_query_time=2&amp;nbsp;#没有使用索引的查询记录log-queries-not-using-indexes&lt;/pre&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;#查看log_query_time变量的值show&amp;nbsp;variables&amp;nbsp;like&amp;nbsp;&amp;quot;%long%&amp;quot;;#如果long_query_time的值不是期望值，重新设定set&amp;nbsp;global&amp;nbsp;long_query_time=2;#查询&amp;nbsp;slow_query_log&amp;nbsp;和&amp;nbsp;slow_query_log_file的值show&amp;nbsp;variables&amp;nbsp;like&amp;nbsp;&amp;quot;%slow%&amp;quot;;#开启慢查询日志&amp;nbsp;on或者ON都可以，不区分大小写set&amp;nbsp;global&amp;nbsp;slow_query_log=&amp;#39;on&amp;#39;;#慢查询日志文件路径可修改set&amp;nbsp;global&amp;nbsp;slow_query_log=&amp;#39;/data/mysql/slow.log&amp;#39;&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;慢查询日志分析工具有官方的mysqldumpslow 和pt-query-digest,后者更加精确详细&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;mysql命令行下配置&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在配置文件中配置(my.cnf),配置完毕需要重启，不适合线上数据库&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;/ul&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;explain 分析sql的执行&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;table 查询的数据表&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;type (可能的值 const, eq_reg, ref, range, index,all)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;主键或者唯一索引一般是const，性能最好&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;eq_reg 是一种范围查找，唯一索引，主键可能是此种查找&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;ref常见于连接查询，一个表基于另外一个索引的查找&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;range 基于索引的范围查找&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;index通常是对index的扫描&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;All 是表扫描&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;possible_keys 查询中可以使用的索引&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;key 查询中实际使用到的索引，为null表示没有使用索引&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;key_len 索引长度，越小越好&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ref 显示索引的那一列被使用了，最好是一个常数&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rows 扫描的行数&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;extra&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;出现using filesort 查询需要优化(group by)，出现using temporary需要优化(order by 时容易出现)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;掌握一些sql的优化方法&amp;nbsp;max, count,子查询，group by，limit&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;索引优化&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;选择合适的列建立索引（在where中经常出现的查询条件的列应当创建索引,group by ，order by，on)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;索引字段越小越好&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;离散度大的列放在联合索引的前面（离散度越大，过滤的数据越多)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;判断列的离散度可以根据select count(distinct col1), count(distinct col2) from table&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;索引优化SQL的方法&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;增加索引会影响写入效率(insert,update,delete)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;删除重复和冗余的索引&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;使用工具pt-duplicate-key-checker分析&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;使用pt-index-usage 工具配合慢查询日志来分析不再使用的索引(注意主从库的时候无法使用此工具精确判断)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;数据库(表)结构优化&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;选择合适的（列)数据类型&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;选择可以存下数据的最小的数据类型&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;选择尽量简单的数据类型&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;尽可能对列加上not null（Innodb特性),给出default&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;尽快能不使用text等大的数据类型，如果要用，尽量和其他字段分离，单独成表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;表的范式和反范式&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;表的垂直拆分&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;把原来有很多列的表拆分成多个表，降低表的宽度&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;拆分原则：不经常使用的字段放在一个表,很大的字段放在一个表,常用的字段放在一个表&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;表的水平拆分&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;水平拆分解决单表数据量过大的问题，水平拆分之后的每一张表结构相同&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;常用拆分方法：取模，hash等&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;分表带来的挑战：跨分区表数据查询；统计及后台操作。使用汇总表,前后台业务分开&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;系统配置的优化&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;修改/etc/sysctl.conf，优化系统网络参数&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;修改/etc/security/limits.conf 优化打开文件数量&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;硬件防火墙代替软件防火墙防止网络性能消耗&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;mysql配置文件&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;innodb_buffer_pool_size&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;innodb_buffer_pool_instances&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;mysql 5.5引入，默认一个&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;... 参数不在一一列举&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;第三方工具优化mysql配置&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://tools.percona.com/wizard&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://tools.percona.com/wizard&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id=&quot;articleHeader4&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;硬件优化&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;cpu选择&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;核数不能超过32,mysql对多核的支持并不是特别优秀&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;磁盘IO(RAID，常用RAID1+RAID0)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940281','1'),
('8','1','nginx使用ssl模块配置HTTPS支持','3','nginx使用ssl模块配置HTTPS支持','&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;默认情况下ssl模块并未被安装，如果要使用该模块则需要在编译时指定–with-http_ssl_module参数，安装模块依赖于OpenSSL库和一些引用文件，通常这些文件并不在同一个软件包中。通常这个文件名类似libssl-dev。&lt;/p&gt;&lt;h3 id=&quot;生成证书&quot; style=&quot;margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;生成证书&lt;/h3&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;可以通过以下步骤生成一个简单的证书：&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;首先，进入你想创建证书和私钥的目录，例如：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;$ cd /usr/local/nginx/conf&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;创建服务器私钥，命令会让你输入一个口令：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;$ openssl genrsa -des3 -out server.key 1024&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;创建签名请求的证书（CSR）：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;$ openssl req -new -key server.key -out server.csr&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;在加载SSL支持的&lt;a title=&quot;Nginx&quot; href=&quot;http://www.centos.bz/category/web-server/nginx/&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(68, 68, 68);&quot;&gt;Nginx&lt;/a&gt;并使用上述私钥时除去必须的口令：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;$ cp server.key server.key.org&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$ openssl rsa -in server.key.org -out server.key&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 id=&quot;配置nginx&quot; style=&quot;margin: 10px 0px; padding: 0px; font-size: 16px; line-height: 1.5; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;配置nginx&lt;/h3&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;最后标记证书使用上述私钥和CSR：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;$ openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;修改Nginx配置文件，让其包含新标记的证书和私钥：&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;server {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;server_name YOUR_DOMAINNAME_HERE;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;listen 443;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;ssl on;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;ssl_certificate /usr/local/nginx/conf/server.crt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;ssl_certificate_key /usr/local/nginx/conf/server.key;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;重启nginx。&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;这样就可以通过以下方式访问：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;https://YOUR_DOMAINNAME_HERE&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; color: rgb(68, 68, 68); font-family: tahoma, arial, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.5 !important;&quot;&gt;另外还可以加入如下代码实现80端口重定向到443&lt;a href=&quot;http://%2A%2A%2A/&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(68, 68, 68);&quot;&gt;IT人乐园&lt;/a&gt;&lt;/p&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot; style=&quot;padding: 0px 0px 0px 40px;&quot;&gt;&lt;li&gt;&lt;p&gt;server {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;listen 80;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;server_name ww.centos.bz;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*) https://$server_name$1 permanent;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','12','1483940346','1'),
('9','1','PHP实现支付宝即时到账功能','1','PHP实现支付宝即时到账功能','&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;本文实例为大家分享了PHP支付宝即时到账功能的实现代码，供大家参考，具体内容如下&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;首先需要下载即时到账交易接口，传送门&lt;a rel=&quot;nofollow&quot; target=&quot;_blank&quot; style=&quot;;padding: 0px;color: rgb(255, 102, 0);max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;&gt;https://doc.open.alipay.com/doc2/detail?treeId=62&amp;amp;articleId=103566&amp;amp;docType=1&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;选择&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;(create_direct_pay_by_user)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;然后解压，选择MD5签名版本的文件&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;此文件夹里有个叫create_direct_pay_by_user-PHP-UTF-8的文件，我们就用这个文件~&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;接着打开文件后如图&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);text-align: center;word-wrap: break-word !important&quot;&gt;&lt;img data-src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZKFtU1TERvCemJjeJB3GUnnWD8ye7MhAuNfKbrDrbg9icmWfPQaVwPbw/0?wx_fmt=jpeg&quot; class=&quot;&quot; data-type=&quot;jpeg&quot; data-ratio=&quot;0.25102319236016374&quot; data-w=&quot;733&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZKFtU1TERvCemJjeJB3GUnnWD8ye7MhAuNfKbrDrbg9icmWfPQaVwPbw/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&quot; data-fail=&quot;0&quot; style=&quot;;padding: 0px;height: auto !important;max-width: 300px;box-sizing: border-box;word-wrap: break-word !important;width: auto !important;visibility: visible !important&quot;/&gt;&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;并把文件夹lib里面的四个PHP文件重命名&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;alipay_core.function.php重命名为：&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;Corefunction.php;&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;alipay_md5.function.php重命名为：&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;Md5function.php;&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;alipay_notify.class.php重命名为：&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;Notify.php;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;alipay_submit.class.php重命名为：&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;Submit.php;&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;最后在THINKPHP\\Library\\Vendor目录下新建文件夹命名为Alipay,把以上四个php文件复制进去如图所示&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;&lt;img data-src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZaf8UZzicln6j2yJOkWlicUXyBpoDmrsVz8jLe2YjHyX4Q8RFwPiaN2cPw/0?wx_fmt=jpeg&quot; class=&quot;&quot; data-type=&quot;jpeg&quot; data-ratio=&quot;1.0393700787401574&quot; data-w=&quot;254&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZaf8UZzicln6j2yJOkWlicUXyBpoDmrsVz8jLe2YjHyX4Q8RFwPiaN2cPw/640?wx_fmt=jpeg&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&quot; data-fail=&quot;0&quot; style=&quot;;padding: 0px;height: auto !important;max-width: 300px;box-sizing: border-box;word-wrap: break-word !important;width: auto !important;visibility: visible !important&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;然后，打开Submit.php文件，把以下代码去掉；&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;require_once(&amp;quot;alipay_core.function.php&amp;quot;);&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;require_once(&amp;quot;alipay_md5.function.php&amp;quot;);&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;同样，打开Notify.php文件，把以下两段代码去掉；&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;&lt;span style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;color: rgb(128, 0, 0)&quot;&gt;require_once(&amp;quot;alipay_core.function.php&amp;quot;);&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important&quot;/&gt;require_once(&amp;quot;alipay_md5.function.php&amp;quot;);&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;接下来可以写代码了（注意img文件夹里的图片地址需要修改）&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;&lt;strong style=&quot;margin: 0px 2px;padding: 0px;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;display: inline-block;text-align: center&quot;&gt;HTML代码：&lt;/strong&gt;（这个代码其实就是index里面的代码,复制如下）&lt;/p&gt;&lt;pre class=&quot;&quot; style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important&quot;&gt;&amp;lt;!DOCTYPE&amp;nbsp;html&amp;gt;&amp;nbsp;&amp;lt;html&amp;gt;&amp;nbsp;&amp;lt;head&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;meta&amp;nbsp;charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;title&amp;gt;支付宝即时到账交易接口&amp;lt;/title&amp;gt;&amp;nbsp;&amp;lt;/head&amp;gt;&amp;nbsp;&amp;lt;style&amp;gt;&amp;nbsp;&amp;nbsp;html,body&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:100%;&amp;nbsp;&amp;nbsp;min-width:1200px;&amp;nbsp;&amp;nbsp;height:auto;&amp;nbsp;&amp;nbsp;padding:0;&amp;nbsp;&amp;nbsp;margin:0;&amp;nbsp;&amp;nbsp;font-family:&amp;quot;微软雅黑&amp;quot;;&amp;nbsp;&amp;nbsp;background-color:#242736&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.header&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:100%;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;height:230px;&amp;nbsp;&amp;nbsp;background-color:#fff&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.container&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:100%;&amp;nbsp;&amp;nbsp;min-width:100px;&amp;nbsp;&amp;nbsp;height:auto&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.black&amp;nbsp;{&amp;nbsp;&amp;nbsp;background-color:#242736&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.blue&amp;nbsp;{&amp;nbsp;&amp;nbsp;background-color:#0ae&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.qrcode&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:1200px;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;height:30px;&amp;nbsp;&amp;nbsp;background-color:#242736&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.littlecode&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:16px;&amp;nbsp;&amp;nbsp;height:16px;&amp;nbsp;&amp;nbsp;margin-top:6px;&amp;nbsp;&amp;nbsp;cursor:pointer;&amp;nbsp;&amp;nbsp;float:right&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.showqrs&amp;nbsp;{&amp;nbsp;&amp;nbsp;top:30px;&amp;nbsp;&amp;nbsp;position:absolute;&amp;nbsp;&amp;nbsp;width:100px;&amp;nbsp;&amp;nbsp;margin-left:-65px;&amp;nbsp;&amp;nbsp;height:160px;&amp;nbsp;&amp;nbsp;display:none&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.shtoparrow&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:0;&amp;nbsp;&amp;nbsp;height:0;&amp;nbsp;&amp;nbsp;margin-left:65px;&amp;nbsp;&amp;nbsp;border-left:8px&amp;nbsp;solid&amp;nbsp;transparent;&amp;nbsp;&amp;nbsp;border-right:8px&amp;nbsp;solid&amp;nbsp;transparent;&amp;nbsp;&amp;nbsp;border-bottom:8px&amp;nbsp;solid&amp;nbsp;#e7e8eb;&amp;nbsp;&amp;nbsp;margin-bottom:0;&amp;nbsp;&amp;nbsp;font-size:0;&amp;nbsp;&amp;nbsp;line-height:0&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.guanzhuqr&amp;nbsp;{&amp;nbsp;&amp;nbsp;text-align:center;&amp;nbsp;&amp;nbsp;background-color:#e7e8eb;&amp;nbsp;&amp;nbsp;border:1px&amp;nbsp;solid&amp;nbsp;#e7e8eb&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.guanzhuqr&amp;nbsp;img&amp;nbsp;{&amp;nbsp;&amp;nbsp;margin-top:10px;&amp;nbsp;&amp;nbsp;width:80px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.shmsg&amp;nbsp;{&amp;nbsp;&amp;nbsp;margin-left:10px;&amp;nbsp;&amp;nbsp;width:80px;&amp;nbsp;&amp;nbsp;height:16px;&amp;nbsp;&amp;nbsp;line-height:16px;&amp;nbsp;&amp;nbsp;font-size:12px;&amp;nbsp;&amp;nbsp;color:#242323;&amp;nbsp;&amp;nbsp;text-align:center&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.nav&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:1200px;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;height:70px;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.open,.logo&amp;nbsp;{&amp;nbsp;&amp;nbsp;display:block;&amp;nbsp;&amp;nbsp;float:left;&amp;nbsp;&amp;nbsp;height:40px;&amp;nbsp;&amp;nbsp;width:85px;&amp;nbsp;&amp;nbsp;margin-top:20px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.divier&amp;nbsp;{&amp;nbsp;&amp;nbsp;display:block;&amp;nbsp;&amp;nbsp;float:left;&amp;nbsp;&amp;nbsp;margin-left:20px;&amp;nbsp;&amp;nbsp;margin-right:20px;&amp;nbsp;&amp;nbsp;margin-top:23px;&amp;nbsp;&amp;nbsp;width:1px;&amp;nbsp;&amp;nbsp;height:24px;&amp;nbsp;&amp;nbsp;background-color:#d3d3d3&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.open&amp;nbsp;{&amp;nbsp;&amp;nbsp;line-height:30px;&amp;nbsp;&amp;nbsp;font-size:20px;&amp;nbsp;&amp;nbsp;text-decoration:none;&amp;nbsp;&amp;nbsp;color:#1a1a1a&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.navbar&amp;nbsp;{&amp;nbsp;&amp;nbsp;float:right;&amp;nbsp;&amp;nbsp;width:200px;&amp;nbsp;&amp;nbsp;height:40px;&amp;nbsp;&amp;nbsp;margin-top:15px;&amp;nbsp;&amp;nbsp;list-style:none&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.navbar&amp;nbsp;li&amp;nbsp;{&amp;nbsp;&amp;nbsp;float:left;&amp;nbsp;&amp;nbsp;width:100px;&amp;nbsp;&amp;nbsp;height:40px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.navbar&amp;nbsp;li&amp;nbsp;a&amp;nbsp;{&amp;nbsp;&amp;nbsp;display:inline-block;&amp;nbsp;&amp;nbsp;width:100px;&amp;nbsp;&amp;nbsp;height:40px;&amp;nbsp;&amp;nbsp;line-height:40px;&amp;nbsp;&amp;nbsp;font-size:16px;&amp;nbsp;&amp;nbsp;color:#1a1a1a;&amp;nbsp;&amp;nbsp;text-decoration:none;&amp;nbsp;&amp;nbsp;text-align:center&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.navbar&amp;nbsp;li&amp;nbsp;a:hover&amp;nbsp;{&amp;nbsp;&amp;nbsp;color:#00AAEE&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.title&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:1200px;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;height:80px;&amp;nbsp;&amp;nbsp;line-height:80px;&amp;nbsp;&amp;nbsp;font-size:20px;&amp;nbsp;&amp;nbsp;color:#FFF&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.content&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:100%;&amp;nbsp;&amp;nbsp;min-width:1200px;&amp;nbsp;&amp;nbsp;height:660px;&amp;nbsp;&amp;nbsp;background-color:#fff;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.alipayform&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:800px;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;height:600px;&amp;nbsp;&amp;nbsp;border:1px&amp;nbsp;solid&amp;nbsp;#0ae&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.element&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:600px;&amp;nbsp;&amp;nbsp;height:80px;&amp;nbsp;&amp;nbsp;margin-left:100px;&amp;nbsp;&amp;nbsp;font-size:20px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.etitle,.einput&amp;nbsp;{&amp;nbsp;&amp;nbsp;float:left;&amp;nbsp;&amp;nbsp;height:26px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.etitle&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:150px;&amp;nbsp;&amp;nbsp;line-height:26px;&amp;nbsp;&amp;nbsp;text-align:right&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.einput&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:200px;&amp;nbsp;&amp;nbsp;margin-left:20px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.einput&amp;nbsp;input&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:398px;&amp;nbsp;&amp;nbsp;height:24px;&amp;nbsp;&amp;nbsp;border:1px&amp;nbsp;solid&amp;nbsp;#0ae;&amp;nbsp;&amp;nbsp;font-size:16px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.mark&amp;nbsp;{&amp;nbsp;&amp;nbsp;margin-top:&amp;nbsp;10px;&amp;nbsp;&amp;nbsp;width:500px;&amp;nbsp;&amp;nbsp;height:30px;&amp;nbsp;&amp;nbsp;margin-left:80px;&amp;nbsp;&amp;nbsp;line-height:30px;&amp;nbsp;&amp;nbsp;font-size:12px;&amp;nbsp;&amp;nbsp;color:#999&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.legend&amp;nbsp;{&amp;nbsp;&amp;nbsp;margin-left:100px;&amp;nbsp;&amp;nbsp;font-size:24px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.alisubmit&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:400px;&amp;nbsp;&amp;nbsp;height:40px;&amp;nbsp;&amp;nbsp;border:0;&amp;nbsp;&amp;nbsp;background-color:#0ae;&amp;nbsp;&amp;nbsp;font-size:16px;&amp;nbsp;&amp;nbsp;color:#FFF;&amp;nbsp;&amp;nbsp;cursor:pointer;&amp;nbsp;&amp;nbsp;margin-left:170px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.footer&amp;nbsp;{&amp;nbsp;&amp;nbsp;width:100%;&amp;nbsp;&amp;nbsp;height:120px;&amp;nbsp;&amp;nbsp;background-color:#242735&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.footer-sub&amp;nbsp;a,span&amp;nbsp;{&amp;nbsp;&amp;nbsp;color:#808080;&amp;nbsp;&amp;nbsp;font-size:12px;&amp;nbsp;&amp;nbsp;text-decoration:none&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.footer-sub&amp;nbsp;a:hover&amp;nbsp;{&amp;nbsp;&amp;nbsp;color:#00aeee&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.footer-sub&amp;nbsp;span&amp;nbsp;{&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;3px&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;.footer-sub&amp;nbsp;{&amp;nbsp;&amp;nbsp;padding-top:40px;&amp;nbsp;&amp;nbsp;height:20px;&amp;nbsp;&amp;nbsp;width:600px;&amp;nbsp;&amp;nbsp;margin:0&amp;nbsp;auto;&amp;nbsp;&amp;nbsp;text-align:center&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;lt;/style&amp;gt;&amp;nbsp;&amp;lt;body&amp;gt;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;class=&amp;quot;container&amp;nbsp;black&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;img&amp;nbsp;width=&amp;quot;16px&amp;quot;&amp;nbsp;src=&amp;quot;img/little_qrcode.jpg&amp;quot;&amp;nbsp;id=&amp;quot;licode&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;id=&amp;quot;showqrs&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;img&amp;nbsp;src=&amp;quot;img/guanzhu_qrcode.png&amp;quot;&amp;nbsp;width=&amp;quot;80&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;style=&amp;quot;margin-top:5px;&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;请扫码关注&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;style=&amp;quot;margin-bottom:5px;&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;接收重要信息&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;https://www.alipay.com/&amp;quot;&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;img/alipay_logo.png&amp;quot;&amp;nbsp;height=&amp;quot;30px&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;http://open.alipay.com/platform/home.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;开放平台&amp;lt;/a&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;ul&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;li&amp;gt;&amp;lt;a&amp;nbsp;href=&amp;quot;https://doc.open.alipay.com/doc2/detail?treeId=62&amp;amp;articleId=103566&amp;amp;docType=1&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;在线文档&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;li&amp;gt;&amp;lt;a&amp;nbsp;href=&amp;quot;https://cschannel.alipay.com/portal.htm?sourceId=213&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;技术支持&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/ul&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;class=&amp;quot;container&amp;nbsp;blue&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;支付宝即时到账(create_direct_pay_by_user)&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;form&amp;nbsp;action=&amp;quot;{:U(&amp;#39;home/Pay/alipayapi&amp;#39;)}&amp;quot;&amp;nbsp;method=&amp;quot;post&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;style=&amp;quot;margin-top:60px;&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;支付宝即时到账交易接口快速通道&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;商户订单号:&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;lt;input&amp;nbsp;type=&amp;quot;text&amp;quot;&amp;nbsp;name=&amp;quot;WIDout_trade_no&amp;quot;&amp;nbsp;id=&amp;quot;out_trade_no&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;br&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;注意：商户订单号(out_trade_no).必填(建议是英文字母和数字,不能含有特殊字符)&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;商品名称:&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;lt;input&amp;nbsp;type=&amp;quot;text&amp;quot;&amp;nbsp;name=&amp;quot;WIDsubject&amp;quot;&amp;nbsp;value=&amp;quot;test商品123&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;br&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;注意：产品名称(subject)，必填(建议中文，英文，数字，不能含有特殊字符)&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;付款金额:&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;lt;input&amp;nbsp;type=&amp;quot;text&amp;quot;&amp;nbsp;name=&amp;quot;WIDtotal_fee&amp;quot;&amp;nbsp;value=&amp;quot;0.01&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;br&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;注意：付款金额(total_fee)，必填(格式如：1.00,请精确到分)&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;商品描述:&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;lt;input&amp;nbsp;type=&amp;quot;text&amp;quot;&amp;nbsp;name=&amp;quot;WIDbody&amp;quot;&amp;nbsp;value=&amp;quot;即时到账测试&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;br&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;注意：商品描述(body)，选填(建议中文，英文，数字，不能含有特殊字符)&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;input&amp;nbsp;type=&amp;quot;submit&amp;quot;&amp;nbsp;value&amp;nbsp;=&amp;quot;确认支付&amp;quot;&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/form&amp;gt;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;lt;div&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;p&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;http://ab.alipay.com/i/index.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;关于支付宝&amp;lt;/a&amp;gt;&amp;lt;span&amp;gt;|&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;https://e.alipay.com/index.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;商家中心&amp;lt;/a&amp;gt;&amp;lt;span&amp;gt;|&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;https://job.alibaba.com/zhaopin/index.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;诚征英才&amp;lt;/a&amp;gt;&amp;lt;span&amp;gt;|&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;http://ab.alipay.com/i/lianxi.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;联系我们&amp;lt;/a&amp;gt;&amp;lt;span&amp;gt;|&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;#&amp;quot;&amp;nbsp;id=&amp;quot;international&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;International&amp;nbsp;Business&amp;lt;/a&amp;gt;&amp;lt;span&amp;gt;|&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;a&amp;nbsp;href=&amp;quot;http://ab.alipay.com/i/jieshao.htm#en&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;About&amp;nbsp;Alipay&amp;lt;/a&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;br&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;span&amp;gt;支付宝版权所有&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;span&amp;gt;2004-2016&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;span&amp;gt;&amp;lt;a&amp;nbsp;href=&amp;quot;http://fun.alipay.com/certificate/jyxkz.htm&amp;quot;&amp;nbsp;target=&amp;quot;_blank&amp;quot;&amp;gt;ICP证：沪B2-20150087&amp;lt;/a&amp;gt;&amp;lt;/span&amp;gt;&amp;nbsp;&amp;nbsp;&amp;lt;/p&amp;gt;&amp;nbsp;&amp;lt;/div&amp;gt;&amp;nbsp;&amp;lt;/body&amp;gt;&amp;nbsp;&amp;lt;script&amp;gt;&amp;nbsp;&amp;nbsp;var&amp;nbsp;even&amp;nbsp;=&amp;nbsp;document.getElementById(&amp;quot;licode&amp;quot;);&amp;nbsp;&amp;nbsp;var&amp;nbsp;showqrs&amp;nbsp;=&amp;nbsp;document.getElementById(&amp;quot;showqrs&amp;quot;);&amp;nbsp;&amp;nbsp;even.onmouseover&amp;nbsp;=&amp;nbsp;function(){&amp;nbsp;&amp;nbsp;showqrs.style.display&amp;nbsp;=&amp;nbsp;&amp;quot;block&amp;quot;;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;even.onmouseleave&amp;nbsp;=&amp;nbsp;function(){&amp;nbsp;&amp;nbsp;showqrs.style.display&amp;nbsp;=&amp;nbsp;&amp;quot;none&amp;quot;;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;var&amp;nbsp;out_trade_no&amp;nbsp;=&amp;nbsp;document.getElementById(&amp;quot;out_trade_no&amp;quot;);&amp;nbsp;&amp;nbsp;//设定时间格式化函数&amp;nbsp;&amp;nbsp;Date.prototype.format&amp;nbsp;=&amp;nbsp;function&amp;nbsp;(format)&amp;nbsp;{&amp;nbsp;&amp;nbsp;var&amp;nbsp;args&amp;nbsp;=&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;quot;M+&amp;quot;:&amp;nbsp;this.getMonth()&amp;nbsp;+&amp;nbsp;1,&amp;nbsp;&amp;nbsp;&amp;quot;d+&amp;quot;:&amp;nbsp;this.getDate(),&amp;nbsp;&amp;nbsp;&amp;quot;h+&amp;quot;:&amp;nbsp;this.getHours(),&amp;nbsp;&amp;nbsp;&amp;quot;m+&amp;quot;:&amp;nbsp;this.getMinutes(),&amp;nbsp;&amp;nbsp;&amp;quot;s+&amp;quot;:&amp;nbsp;this.getSeconds(),&amp;nbsp;&amp;nbsp;};&amp;nbsp;&amp;nbsp;if&amp;nbsp;(/(y+)/.test(format))&amp;nbsp;&amp;nbsp;format&amp;nbsp;=&amp;nbsp;format.replace(RegExp.$1,&amp;nbsp;(this.getFullYear()&amp;nbsp;+&amp;nbsp;&amp;quot;&amp;quot;).substr(4&amp;nbsp;-&amp;nbsp;RegExp.$1.length));&amp;nbsp;&amp;nbsp;for&amp;nbsp;(var&amp;nbsp;i&amp;nbsp;in&amp;nbsp;args)&amp;nbsp;{&amp;nbsp;&amp;nbsp;var&amp;nbsp;n&amp;nbsp;=&amp;nbsp;args[i];&amp;nbsp;&amp;nbsp;if&amp;nbsp;(new&amp;nbsp;RegExp(&amp;quot;(&amp;quot;&amp;nbsp;+&amp;nbsp;i&amp;nbsp;+&amp;nbsp;&amp;quot;)&amp;quot;).test(format))&amp;nbsp;&amp;nbsp;format&amp;nbsp;=&amp;nbsp;format.replace(RegExp.$1,&amp;nbsp;RegExp.$1.length&amp;nbsp;==&amp;nbsp;1&amp;nbsp;?&amp;nbsp;n&amp;nbsp;:&amp;nbsp;(&amp;quot;00&amp;quot;&amp;nbsp;+&amp;nbsp;n).substr((&amp;quot;&amp;quot;&amp;nbsp;+&amp;nbsp;n).length));&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;return&amp;nbsp;format;&amp;nbsp;&amp;nbsp;};&amp;nbsp;&amp;nbsp;out_trade_no.value&amp;nbsp;=&amp;nbsp;&amp;#39;test&amp;#39;+&amp;nbsp;new&amp;nbsp;Date().format(&amp;quot;yyyyMMddhhmmss&amp;quot;);&amp;nbsp;&amp;lt;/script&amp;gt;&amp;nbsp;&amp;lt;/html&amp;gt;&lt;/pre&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;PHP控制代码(其实就是把alipay.config和alipayapi代码集合在一起)&lt;/p&gt;&lt;pre class=&quot;&quot; style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important&quot;&gt;&amp;lt;?php&amp;nbsp;/**&amp;nbsp;&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;PhpStorm.&amp;nbsp;&amp;nbsp;*&amp;nbsp;User:&amp;nbsp;Administrator&amp;nbsp;&amp;nbsp;*&amp;nbsp;Date:&amp;nbsp;2016/12/7&amp;nbsp;0007&amp;nbsp;&amp;nbsp;*&amp;nbsp;Time:&amp;nbsp;下午&amp;nbsp;3:30&amp;nbsp;&amp;nbsp;*/&amp;nbsp;namespace&amp;nbsp;Home\\Controller;&amp;nbsp;use&amp;nbsp;Think\\Controller;&amp;nbsp;use&amp;nbsp;Vendor\\Alidayu;&amp;nbsp;class&amp;nbsp;PayController&amp;nbsp;extends&amp;nbsp;Controller&amp;nbsp;{&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;alipayapi()&amp;nbsp;{&amp;nbsp;&amp;nbsp;Vendor(&amp;#39;Alipay.Corefunction&amp;#39;);&amp;nbsp;&amp;nbsp;Vendor(&amp;#39;Alipay.Md5function&amp;#39;);&amp;nbsp;&amp;nbsp;Vendor(&amp;#39;Alipay.Notify&amp;#39;);&amp;nbsp;&amp;nbsp;Vendor(&amp;#39;Alipay.Submit&amp;#39;);&amp;nbsp;/***************************请求参数******************************************/&amp;nbsp;&amp;nbsp;//商户订单号，商户网站订单系统中唯一订单号，必填&amp;nbsp;&amp;nbsp;$out_trade_no&amp;nbsp;=&amp;nbsp;$_POST[&amp;#39;WIDout_trade_no&amp;#39;];&amp;nbsp;&amp;nbsp;//订单名称，必填&amp;nbsp;&amp;nbsp;$subject&amp;nbsp;=&amp;nbsp;$_POST[&amp;#39;WIDsubject&amp;#39;];&amp;nbsp;&amp;nbsp;//付款金额，必填&amp;nbsp;&amp;nbsp;$total_fee&amp;nbsp;=&amp;nbsp;$_POST[&amp;#39;WIDtotal_fee&amp;#39;];&amp;nbsp;&amp;nbsp;//商品描述，可空&amp;nbsp;&amp;nbsp;$body&amp;nbsp;=&amp;nbsp;$_POST[&amp;#39;WIDbody&amp;#39;];&amp;nbsp;/*******************************构造配置来自alipay.config******************************************/&amp;nbsp;&amp;nbsp;//↓↓↓↓↓↓↓↓↓↓请在这里配置您的基本信息↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓&amp;nbsp;//合作身份者ID，签约账号，以2088开头由16位纯数字组成的字符串，查看地址：https://b.alipay.com/order/pidAndKey.htm&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;partner&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;*******需要申请ID*****&amp;#39;;//商户ID&amp;nbsp;//收款支付宝账号，以2088开头由16位纯数字组成的字符串，一般情况下收款账号就是签约账号&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;seller_id&amp;#39;]&amp;nbsp;=&amp;nbsp;$alipay_config[&amp;#39;partner&amp;#39;];&amp;nbsp;//&amp;nbsp;MD5密钥，安全检验码，由数字和字母组成的32位字符串，查看地址：https://b.alipay.com/order/pidAndKey.htm&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;key&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;******需要申请KEY*********&amp;#39;;&amp;nbsp;//商户KEY&amp;nbsp;//&amp;nbsp;服务器异步通知页面路径&amp;nbsp;需http://格式的完整路径，不能加?id=123这类2088421713316394自定义参数，必须外网可以正常访问&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;notify_url&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;http://商户网址/create_direct_pay_by_user-PHP-UTF-8/notify_url.php&amp;quot;;&amp;nbsp;//&amp;nbsp;页面跳转同步通知页面路径&amp;nbsp;需http://格式的完整路径，不能加?id=123这类自定义参数，必须外网可以正常访问&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;return_url&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;http://商户网址/create_direct_pay_by_user-PHP-UTF-8/return_url.php&amp;quot;;&amp;nbsp;//签名方式&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;sign_type&amp;#39;]&amp;nbsp;=&amp;nbsp;strtoupper(&amp;#39;MD5&amp;#39;);&amp;nbsp;//字符编码格式&amp;nbsp;目前支持&amp;nbsp;gbk&amp;nbsp;或&amp;nbsp;utf-8&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;input_charset&amp;#39;]=&amp;nbsp;strtolower(&amp;#39;utf-8&amp;#39;);&amp;nbsp;//ca证书路径地址，用于curl中ssl校验&amp;nbsp;//请保证cacert.pem文件在当前文件夹目录中&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;cacert&amp;#39;]&amp;nbsp;=&amp;nbsp;getcwd().&amp;#39;\\\\cacert.pem&amp;#39;;&amp;nbsp;//访问模式,根据自己的服务器是否支持ssl访问，若支持请选择https；若不支持请选择http&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;transport&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;http&amp;#39;;&amp;nbsp;//&amp;nbsp;支付类型&amp;nbsp;，无需修改&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;payment_type&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;1&amp;quot;;&amp;nbsp;//&amp;nbsp;产品类型，无需修改&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;service&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;create_direct_pay_by_user&amp;quot;;&amp;nbsp;//↑↑↑↑↑↑↑↑↑↑请在这里配置您的基本信息↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑&amp;nbsp;//↓↓↓↓↓↓↓↓↓↓&amp;nbsp;请在这里配置防钓鱼信息，如果没开通防钓鱼功能，为空即可&amp;nbsp;↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓&amp;nbsp;//&amp;nbsp;防钓鱼时间戳&amp;nbsp;若要使用请调用类文件submit中的query_timestamp函数&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;anti_phishing_key&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;quot;;&amp;nbsp;//&amp;nbsp;客户端的IP地址&amp;nbsp;非局域网的外网IP地址，如：221.0.0.1&amp;nbsp;&amp;nbsp;$alipay_config[&amp;#39;exter_invoke_ip&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;quot;;&amp;nbsp;//↑↑↑↑↑↑↑↑↑↑请在这里配置防钓鱼信息，如果没开通防钓鱼功能，为空即可&amp;nbsp;↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑&amp;nbsp;/****************************************************************************/&amp;nbsp;//构造要请求的参数数组，无需改动&amp;nbsp;&amp;nbsp;$parameter&amp;nbsp;=&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;quot;service&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;service&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;partner&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;partner&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;seller_id&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;seller_id&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;payment_type&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;payment_type&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;notify_url&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;notify_url&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;return_url&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$alipay_config[&amp;#39;return_url&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;anti_phishing_key&amp;quot;=&amp;gt;$alipay_config[&amp;#39;anti_phishing_key&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;exter_invoke_ip&amp;quot;=&amp;gt;$alipay_config[&amp;#39;exter_invoke_ip&amp;#39;],&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$out_trade_no,&amp;nbsp;&amp;nbsp;&amp;quot;subject&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$subject,&amp;nbsp;&amp;nbsp;&amp;quot;total_fee&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$total_fee,&amp;nbsp;&amp;nbsp;&amp;quot;body&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;$body,&amp;nbsp;&amp;nbsp;&amp;quot;_input_charset&amp;quot;&amp;nbsp;=&amp;gt;&amp;nbsp;trim(strtolower($alipay_config[&amp;#39;input_charset&amp;#39;]))&amp;nbsp;&amp;nbsp;//其他业务参数根据在线开发文档，添加参数.文档地址:https://doc.open.alipay.com/doc2/detail.htm?spm=a219a.7629140.0.0.kiX33I&amp;amp;treeId=62&amp;amp;articleId=103740&amp;amp;docType=1&amp;nbsp;&amp;nbsp;//如&amp;quot;参数名&amp;quot;=&amp;gt;&amp;quot;参数值&amp;quot;&amp;nbsp;&amp;nbsp;);&amp;nbsp;//建立请求&amp;nbsp;&amp;nbsp;$alipaySubmit&amp;nbsp;=&amp;nbsp;new&amp;nbsp;\\AlipaySubmit($alipay_config);&amp;nbsp;&amp;nbsp;$html_text&amp;nbsp;=&amp;nbsp;$alipaySubmit-&amp;gt;buildRequestForm($parameter,&amp;quot;get&amp;quot;,&amp;nbsp;&amp;quot;确认&amp;quot;);&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$html_text;&amp;nbsp;&amp;nbsp;}&amp;nbsp;}&lt;/pre&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;然后结果如图&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);text-align: center;word-wrap: break-word !important&quot;&gt;&lt;img data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-src=&quot;http://mmbiz.qpic.cn/mmbiz_png/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZ3dlRPUH1GaibL5GS7u49GjKlJuKUyfjmQXYhB8nbmtnEsCGlle3uItA/0?wx_fmt=png&quot; data-ratio=&quot;0.4868035190615836&quot; data-w=&quot;682&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz_png/NBdxetKt6pYJAzMAAJyXHZKy4zgcxnHZ3dlRPUH1GaibL5GS7u49GjKlJuKUyfjmQXYhB8nbmtnEsCGlle3uItA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&quot; data-fail=&quot;0&quot; style=&quot;;padding: 0px;height: auto !important;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;width: auto !important;visibility: visible !important&quot;/&gt;&lt;br style=&quot;;padding: 0px;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;确认支付后可能会出现支付宝错误代码 ILLEGAL_PARTNER&lt;/p&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;那是因为没有配置&lt;/p&gt;&lt;pre class=&quot;&quot; style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important&quot;&gt;$alipay_config[&amp;#39;partner&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;*******需要申请ID*****&amp;#39;;//商户ID&amp;nbsp;//收款支付宝账号，以2088开头由16位纯数字组成的字符串，一般情况下收款账号就是签约账号&amp;nbsp;$alipay_config[&amp;#39;seller_id&amp;#39;]&amp;nbsp;=&amp;nbsp;$alipay_config[&amp;#39;partner&amp;#39;];&amp;nbsp;//&amp;nbsp;MD5密钥，安全检验码，由数字和字母组成的32位字符串，&amp;nbsp;//查看地址：https://b.alipay.com/order/pidAndKey.htm&amp;nbsp;$alipay_config[&amp;#39;key&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;******需要申请KEY*********&amp;#39;;&amp;nbsp;//商户KEY&lt;/pre&gt;&lt;p style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 10px 0px 0px;max-width: 100%;box-sizing: border-box;clear: both;min-height: 1em;color: rgb(62, 62, 62);white-space: normal;font-family: 微软雅黑, Helvetica;font-size: 14px;background-color: rgb(240, 245, 249);word-wrap: break-word !important&quot;&gt;ID和KEY需要公司申请，个人是没法申请的。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940428','1'),
('10','1','liunx 源码安装 MySQL5.7 ','2','liunx 源码安装 MySQL5.7 ','&lt;p&gt;										&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;一、安装环境准备&lt;/span&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; class=&quot;t_table&quot; width=&quot;988&quot; style=&quot;width: 743px;&quot;&gt;&lt;tbody style=&quot;word-wrap: break-word;&quot;&gt;&lt;tr style=&quot;word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;1&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;centos 6.5&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;二、下载mysql&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color:#666666;word-wrap: break-word; font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;source_code&lt;/span&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; class=&quot;t_table&quot; width=&quot;988&quot; style=&quot;width: 743px;&quot;&gt;&lt;tbody style=&quot;word-wrap: break-word;&quot;&gt;&lt;tr style=&quot;word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;1&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;2&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;3&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;4&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;5&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;这里说一下，进入myql下载页面后选择source_code：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;然后选择 Generic Linux (Architecture Independent), Compressed TAR Archive&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;Includes Boost Headers 这个包下载。&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;也可以用下面的地址：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;wget&amp;nbsp;&lt;a href=&quot;http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-boost-5.7.17.tar.gz&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot; style=&quot;word-wrap: break-word; color: rgb(51, 102, 153); outline: none;&quot;&gt;http://dev.mysql.com/get/Downloa ... boost-5.7.17.tar.gz&lt;/a&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;三、做一些准备工作&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; class=&quot;t_table&quot; width=&quot;988&quot; style=&quot;width: 743px;&quot;&gt;&lt;tbody style=&quot;word-wrap: break-word;&quot;&gt;&lt;tr style=&quot;word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;1&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;2&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;3&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;4&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;5&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;6&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;7&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;8&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;9&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;10&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;11&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;12&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;13&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;14&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;15&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;16&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;17&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;18&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;19&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;20&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;21&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;22&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;23&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;24&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;25&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;26&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;27&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;28&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;29&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;30&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;31&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;32&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;33&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;34&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;35&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;36&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;su - root&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#关闭Linux防火墙命令&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;chkconfig iptables off&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#修改SELINUX配置&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;vim /etc/sysconfig/selinux&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#SELINUX=enforcing&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#修改为：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#SELINUX=disabled&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;reboot&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#安装cmake mysql5.7采用cmake方式进行配置&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;yum -y update&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;yum -y install wget gcc-c++ ncurses-devel cmake make perl&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#创建用户、组 为mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;groupadd mysql&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;useradd -r -g mysql mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#新建数据库执行文件目录(后面会把编译好的mysql程序安装到这个目录)：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mkdir -p /application/mysql5.7.17&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;ln -s&amp;nbsp;&amp;nbsp;/application/mysql /application/mysql5.7.17&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#新建数据库数据文件目录：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mkdir -p /home/mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mkdir -p /home/mysql/data&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mkdir -p /home/mysql/logs&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mkdir -p /home/mysql/temp&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# 编辑PATH搜索路径&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;vi /etc/profile +&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# 在profile文件末尾增加两行&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# PATH=/application/mysql/bin:/application/mysql/lib:$PATH&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# export PATH&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# 使PATH搜索路径立即生效：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;source /etc/profile&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# 编辑hosts文件，增加一行，加入本机IP和主机名（需要根据实际情况修改IP和主机名）&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;vi /etc/hosts +&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# 192.168.3.158&amp;nbsp; &amp;nbsp; skytest&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;# ok进入下载工具目录，开始下载&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;cd /home/tools&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;wget&amp;nbsp;&lt;a href=&quot;http://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-boost-5.7.17.tar.gz&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot; style=&quot;word-wrap: break-word; color: rgb(51, 102, 153); outline: none;&quot;&gt;http://dev.mysql.com/get/Downloa ... boost-5.7.17.tar.gz&lt;/a&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;四、配置并安装&lt;/span&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; class=&quot;t_table&quot; width=&quot;988&quot; style=&quot;width: 743px;&quot;&gt;&lt;tbody style=&quot;word-wrap: break-word;&quot;&gt;&lt;tr style=&quot;word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;1&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;2&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;3&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;4&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;5&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;6&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;7&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;8&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;9&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;10&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;11&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;12&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;13&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;14&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;15&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;16&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;17&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;18&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;19&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;20&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;21&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;22&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;23&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;24&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;25&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;26&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;27&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;28&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;29&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;30&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;31&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;32&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;33&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;34&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;35&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;36&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;37&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;38&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;39&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;40&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;41&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;42&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;43&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;44&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;45&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;46&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;47&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;48&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;49&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;50&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;51&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;52&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;53&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;54&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;55&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;56&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;57&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;58&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;59&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;60&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;61&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;62&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;63&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;64&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;65&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;66&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;67&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;68&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;69&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;70&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;71&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;72&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;73&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;74&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;75&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;76&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;77&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;78&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;79&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;80&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;81&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;82&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;83&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;84&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;85&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;86&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;87&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;88&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;89&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;90&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;91&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;cmake \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DCMAKE_INSTALL_PREFIX=/application/mysql \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DMYSQL_UNIX_ADDR=/application/mysql.sock \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DDEFAULT_CHARSET=utf8 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DDEFAULT_COLLATION=utf8_general_ci \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_MYISAM_STORAGE_ENGINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_INNOBASE_STORAGE_ENGINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_ARCHIVE_STORAGE_ENGINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_MEMORY_STORAGE_ENGINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_READLINE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DENABLED_LOCAL_INFILE=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DMYSQL_DATADIR=/home/mysql/data \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DMYSQL_USER=mysql \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DMYSQL_TCP_PORT=3306 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DENABLE_DOWNLOADS=1 \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;-DWITH_BOOST=boost/boost_1_59_0/&amp;nbsp;&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#-DWITH_BOOST=boost/boost_1_59_0/ 这一行是指定boost库的位置，&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#如果下载的不是mysql-boost-5.7.17.tar.gz 这个已经包含boost库的包，&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#那么需要在配置项中指明下载 boost 库 当然这样比较慢，所以还是建议下载完整包&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#直接cmake指定参数 -DDOWNLOAD_BOOST=1 -DWITH_BOOST=&amp;lt;directory&amp;gt; 系统会下载 boost&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#cmake结束后开始编译源码，这一步时间会较长，嗯，长的我都快睡了。&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;make&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#看一下有没有错误&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;echo $?&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#输出0，没有错误继续&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;make install&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#清除安装临时文件&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;make clean&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#修改目录拥有者&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;chown -Rf mysql:mysql /application/mysql5.7.17&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;chown -Rf mysql:mysql /home/mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#创建自带的库和表&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#mysql5.7之前版本初始化配置表命令：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#script/mysql_install_db \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#--user=mysql \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#--basedir=/application/mysql \\&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#--datadir=/home/mysql/data&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#mysql5.7已经放弃使用了，而且也没有script目录，可以使用下面这个&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;cd /application/myql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;./bin/mysqld&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;--initialize&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;--user=mysql&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;--basedir=/application/mysql&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;--datadir=/home/mysql/data&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#初始化数据后注意文字提示，里面有root用户的初始密码&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#在/etc目录下如果存在一个my.cnf文件，建议将此文件更名为其他的名字，&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#否则该文件 会干扰源码安装的MySQL的正确配置，造成无法启动。&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#修改/etc/my.cnf操作如下：&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;mv /etc/my.cnf /etc/my.cnf.bak&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#在启动MySQL服务时，会按照一定次序搜索my.cnf，先在/etc目录下找，&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#找不到则会搜索mysql程序目录下是否有my.cnf&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;cp /application/mysql/support-files/my-default.cnf&amp;nbsp;&amp;nbsp;/etc/my.cnf&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#mysql5.7配置文件需要修改my.cnf关键配置，&amp;nbsp;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#mysql5.7之前默认配置文件中是有配置项的，不用手动修改&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;vi /etc/my.cnf&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#修改下面配置&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;[mysqld]&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;basedir =/application/mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;datadir =/home/mysql/data&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;port = 3306&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;socket = /home/mysql/temp/mysql.sock&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;[client]&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;socket=/tmp/mysql.sock&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#client这个字段千万别忘了，如果没有就自己加。不然会不能登录，出现以下错误&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#ERROR 2002 (HY000): Can&amp;#39;t connect to local MySQL server through socket &amp;#39;/application/mysql5.7/mysql.sock&amp;#39; (2)&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;#使用service mysql命令启动/停止服务&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;cp /application/mysql/support-files/mysql.server /etc/init.d/mysql&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;五、加入开机启动&lt;/span&gt;&lt;br style=&quot;word-wrap: break-word; color: rgb(68, 68, 68); font-family: &amp;quot;Microsoft yahei&amp;quot;, ΢���ź�, Arial, Helvetica, sans-serif, ����; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; class=&quot;t_table&quot; width=&quot;988&quot; style=&quot;width: 743px;&quot;&gt;&lt;tbody style=&quot;word-wrap: break-word;&quot;&gt;&lt;tr style=&quot;word-wrap: break-word; margin: 0px; padding: 0px; border: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;1&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;td style=&quot;word-wrap: break-word; margin: 0px; padding: 4px; border-color: rgb(227, 237, 245); overflow: hidden;&quot;&gt;chkconfig mysql on&lt;br style=&quot;word-wrap: break-word;&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;','0','2','1490977371','1'),
('11','1','安装redis ','1','安装redis ','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;下载 wget http://download.redis.io/releases/redis-2.8.19.tar.gz
解压 tar zxvf redis-2.8.19.tar.gz
编译 &amp;nbsp;cd redis-2.8.19/src
make
安装 &amp;nbsp; sudo make install
&amp;nbsp;
修改 redis.conf 
daemonize no
&amp;nbsp;
启动 &amp;nbsp;./redis-server /usr/local/redis/etc/redis.conf
连接 redis-cli 
停止 pkill redis-server
查看 sudo netstat -tunpl | grep 6379
&amp;nbsp;
php 扩展
&amp;nbsp; &amp;nbsp;wget http://pecl.php.net/get/redis-2.2.5.tgz
&amp;nbsp; &amp;nbsp; #解压
&amp;nbsp; &amp;nbsp; tar zxvf redis-2.2.5.tgz
&amp;nbsp; &amp;nbsp; #进入安装目录
&amp;nbsp; &amp;nbsp; cd redis-2.2.5
&amp;nbsp; &amp;nbsp; /usr/local/php/bin/phpize
&amp;nbsp; &amp;nbsp; #配置
&amp;nbsp; &amp;nbsp; ./configure --with-php-config=/usr/local/php/bin/php-config
&amp;nbsp; &amp;nbsp; #编译安装
&amp;nbsp; &amp;nbsp; make &amp;nbsp;&amp;amp;&amp;amp; make install
&amp;nbsp;
安装完成之后，出现下面的安装路径
/usr/local/php/lib/php/extensions/no-debug-non-zts-20090626/
&amp;nbsp;&lt;/span&gt;&lt;/p&gt;','0','0','1483940664','1'),
('12','1','nginx日志分割 ','1','nginx日志分割 ','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;shell 
#vi /etc/nginx_access_log.sh
#!/bin/bash
mv /usr/local/nginx/logs/access.log /opt/nginx_access_`date +%Y%m%d`.log
killall -s USR1 nginx
&amp;nbsp;
脚本说明：这个脚本主要实现两个功能，一是将nginx访问日志按照日期移动到目的地，而是移动完毕后让nginx重新生成日志文件
&amp;nbsp;
#chmod +x /etc/nginx_access_log.sh
&amp;nbsp;
使用cron服务定期执行该脚本，下面设置成的是每晚23点59执行，这样nginx访问日志正好记录的是全天的访问记录
#crontab -e
59 23 * * * /etc/nginx_access_log.sh
&amp;nbsp;
&amp;nbsp;
&amp;nbsp;
第一步,日志的处理。
&amp;nbsp;
最好每天分割一下日志，一开始没注意这个工作，结果不久日志文件就上G了，很痛苦。分割日志很简单，首先把日志文件复制到别的地方，然后再通知nginx重新生成日志就可以了。shell脚本如下：
&amp;nbsp;
&amp;nbsp;
&amp;nbsp;
# !/bin/bash 
&amp;nbsp;
logs_path = &amp;quot; /nginx/logs/ &amp;quot; 
mv ${logs_path}access . log &amp;nbsp;${logs_path}access_$(date &amp;nbsp;- d &amp;nbsp;&amp;quot; yesterday &amp;quot; &amp;nbsp; + &amp;quot; %Y%m%d &amp;quot; ) . log 
kill &amp;nbsp; - USR1 `cat &amp;nbsp;/ nginx / logs / nginx . pid`
&amp;nbsp;
&amp;nbsp;
代码中的/nginx/logs指的是nginx的log日志文件所在目录，生成了以昨天日期命名的日志文件。
&amp;nbsp;
为了达到每天自动分割的目的，在crontab中加入以下部分：
&amp;nbsp;
&amp;nbsp;
&amp;nbsp;
1 &amp;nbsp; 0 &amp;nbsp; * &amp;nbsp; * &amp;nbsp; * &amp;nbsp;sh &amp;nbsp;/ home / zyf / sh / cut_nginx_log . sh
这样就每天的0点1分把nginx日志重命名为日期格式，并重新生成今天的新日志文件。&lt;/span&gt;&lt;/p&gt;','0','0','1483940689','1'),
('13','1','MySQL自动备份','2','MySQL自动备份','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;1.新建一个文件夹装备份文件
mkdir mysqlbackup
cd mkdir mysqlbackup
2.新建一个shell脚本
vi bkmysql.sh
输入/粘贴以下内容：
#!/bin/bash
mysqldump -uusername -ppassword DatabaseName &amp;gt; /home/backup/DatabaseName_$(date +%Y%m%d_%H%M%S).sql
对备份进行压缩：
#!/bin/bash
mysqldump -uusername -ppassword DatabaseName | gzip &amp;gt; /home/backup/DatabaseName_$(date +%Y%m%d_%H%M%S).sql.gz
3.修改权限
chmod u+x bkmysql.sh
4.添加计划任务
执行命令：
crontab -e
输入以下内容并保存：
*/0 4 * * * /home/backup/bkmysql.sh&lt;/span&gt;&lt;/p&gt;','0','1','1483940713','1'),
('14','1','memcache 安装','1','memcache 安装','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;通过yum安装
yum -y install memcached
#安装完成后执行:
memcached -h
#出现memcached帮助信息说明安装成功
&amp;nbsp;
加入启动服务
chkconfig --level 2345 memcached on
配置Memcached
vim /etc/sysconfig/memcached
#文件中内容如下，按需要修改:
PORT=&amp;quot;11211&amp;quot; #端口
USER=&amp;quot;root&amp;quot; #用户名
MAXCONN=&amp;quot;1024&amp;quot; #最大连接数
CACHESIZE=&amp;quot;64&amp;quot; #内存大小
OPTIONS=&amp;quot;&amp;quot; #附加参数
&amp;nbsp;
安装libmemached
wget https://launchpad.net/libmemcached/1.0/1.0.16/+download/libmemcached-1.0.16.tar.gz
tar -zxvf libmemcached-1.0.16.tar.gz
cd libmemcached-1.0.16
./configure -prefix=/usr/local/libmemcached -with-memcached
make &amp;amp;&amp;amp; make install
&amp;nbsp;
安装php-devel
yum install php-devel
&amp;nbsp;
&amp;nbsp;安装PHP Memcached扩展
&amp;nbsp;
wget http://pecl.php.net/get/memcached-2.1.0.tgz
tar -zxvf memcached-2.1.0.tgz
cd memcached-2.1.0
/usr/local/php/bin/phpize
./configure -enable-mem&lt;/span&gt;&lt;/p&gt;','0','0','1483940749','1'),
('15','1','大数据-高并发 ','2','大数据-高并发 ','&lt;p&gt;一、数据库结构的设计&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;为了保证数据库的一致性和完整性，在逻辑设计的时候往往会设计过多的表间关联，尽可能的降低数据的冗余。（例如用户表的地区，我们可以把地区另外存放到一个地区表中）如果数据冗余低，数据的完整性容易得到保证，提高了数据吞吐速度，保证了数据的完整性，清楚地表达数据元素之间的关系。而对于多表之间的关联查询（尤其是大数据表）时，其性能将会降低，同时也提高了客户端程序的编程难度，因此，物理设计需折衷考虑，根据业务规则，确定对关联表的数据量大小、数据项的访问频度，对此类数据表频繁的关联查询应适当提高数据冗余设计但增加了表间连接查询的操作，也使得程序的变得复杂，为了提高系统的响应时间，合理的数据冗余也是必要的。设计人员在设计阶段应根据系统操作的类型、频度加以均衡考虑。&lt;/p&gt;&lt;p&gt;表的设计具体注意的问题： &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;1，数据行的长度不要超过8020字节，如果超过这个长度的话在物理页中这条数据会占用两行从而造成存储碎片，降低查询效率。&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;2、能够用数字类型的字段尽量选择数字类型而不用字符串类型的（电话号码），这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接回逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;3、对于不可变字符类型char和可变字符类型varchar 都是8000字节,char查询快，但是耗存储空间，varchar查询相对慢一些但是节省存储空间。在设计字段的时候可以灵活选择，例如用户名、密码等长度变化不大的字段可以选择CHAR，对于评论等长度变化大的字段可以选择VARCHAR。&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;4、字段的长度在最大限度的满足可能的需要的前提下，应该尽可能的设得短一些，这样可以提高查询的效率，而且在建立索引的时候也可以减少资源的消耗。&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p&gt;二、查询的优化&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;保证在实现功能的基础上，尽量减少对数据库的访问次数(可以用缓存保存查询结果，减少查询次数)；通过搜索参数，尽量减少对表的访问行数,最小化结果集，从而减轻网络负担；能够分开的操作尽量分开处理，提高每次的响应速度；在数据窗口使用SQL时，尽量把使用的索引放在选择的首列；算法的结构尽量简单；在查询时，不要过多地使用通配符如SELECT * FROM T1语句，要用到几列就选择几列如：SELECTCOL1,COL2 FROM T1；在可能的情况下尽量限制尽量结果集行数如：SELECT TOP 300 COL1,COL2,COL3 FROM T1,因为某些情况下用户是不需要那么多的数据的&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;在查询分析阶段，查询优化器查看查询的每个阶段并决定限制需要扫描的数据量是否有用。如果一个阶段可以被用作一个扫描参数（SARG），那么就称之为可优化的，并且可以利用索引快速获得所需数据。&lt;/p&gt;&lt;p&gt;所以，优化查询最重要的就是，尽量使语句符合查询优化器的规则避免全表扫描而使用索引查询。&lt;/p&gt;&lt;p&gt;1.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描&lt;/p&gt;&lt;p&gt;2.应尽量避免在 where 子句中使用!=或&amp;lt;&amp;gt;操作符，否则将引擎放弃使用索引而进行全表扫描。优化器将无法通过索引来确定将要命中的行数,因此需要搜索该表的所有行。&lt;/p&gt;&lt;p&gt;3.应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描&lt;/p&gt;&lt;p&gt;in 和 not in 也要慎用，因为IN会使系统无法使用索引,而只能直接搜索表中的数据。&lt;/p&gt;&lt;p&gt;5.尽量避免在索引过的字符数据中，使用非打头字母搜索。这也使得引擎无法利用索引。&lt;/p&gt;&lt;p&gt;7.应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描&lt;/p&gt;&lt;p&gt;11.很多时候用 exists是一个好的选择：&lt;/p&gt;&lt;p&gt;12.尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。&lt;/p&gt;&lt;p&gt;13.避免频繁创建和删除临时表，以减少系统表资源的消耗。&lt;/p&gt;&lt;p&gt;把表的一个子集进行排序并创建视图，有时能加速查询。它有助于避免多重排序 操作，而且在其他方面还能简化优化器的工作。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;三、算法的优化&lt;/p&gt;&lt;p&gt;四、建立高效的索引&lt;/p&gt;&lt;p&gt;创建索引一般有以下两个目的：维护被索引列的唯一性和提供快速访问表中数据的策略。大型数据库有两种索引即簇索引和非簇索引，一个没有簇索引的表是按堆结构存储数据，所有的数据均添加在表的尾部，而建立了簇索引的表，其数据在物理上会按照簇索引键的顺序存储，一个表只允许有一个簇索引，因此，根据B树结构，可以理解添加任何一种索引均能提高按索引列查询的速度，但会降低插入、更新、删除操作的性能，尤其是当填充因子（Fill Factor）较大时。所以对索引较多的表进行频繁的插入、更新、删除操作，建表和索引时因设置较小的填充因子，以便在各数据页中留下较多的自由空间，减少页分割及重新组织的工作。&lt;/p&gt;&lt;p&gt;3，“水可载舟，亦可覆舟”，索引也一样。索引有助于提高检索性能，但过多或不当的索引也会导致系统低效。因为用户在表中每加进一个索引，数据库就要做更多的工作。过多的索引甚至会导致索引碎片。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940790','1'),
('16','1','闭包函数','1','闭包函数','&lt;p&gt;实现闭包&lt;/p&gt;&lt;p&gt;将匿名函数在普通函数中当做参数传入，也可以被返回。这就实现了一个简单的闭包。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;下边有三个例子&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;01&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//例一&lt;/p&gt;&lt;p&gt;02&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//在函数里定义一个匿名函数，并且调用它&lt;/p&gt;&lt;p&gt;03&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function printStr() {&lt;/p&gt;&lt;p&gt;04&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function( $str ) {&lt;/p&gt;&lt;p&gt;05&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $str;&lt;/p&gt;&lt;p&gt;06&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;07&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func( &amp;#39;some string&amp;#39; );&lt;/p&gt;&lt;p&gt;08&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;09&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;10&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;printStr();&lt;/p&gt;&lt;p&gt;11&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;12&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;13&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;14&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//例二&lt;/p&gt;&lt;p&gt;15&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//在函数中把匿名函数返回，并且调用它&lt;/p&gt;&lt;p&gt;16&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function getPrintStrFunc() {&lt;/p&gt;&lt;p&gt;17&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function( $str ) {&lt;/p&gt;&lt;p&gt;18&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $str;&lt;/p&gt;&lt;p&gt;19&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;20&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;return $func;&lt;/p&gt;&lt;p&gt;21&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;22&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;23&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$printStrFunc = getPrintStrFunc();&lt;/p&gt;&lt;p&gt;24&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$printStrFunc( &amp;#39;some string&amp;#39; );&lt;/p&gt;&lt;p&gt;25&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;26&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;27&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;28&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;29&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//例三&lt;/p&gt;&lt;p&gt;30&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//把匿名函数当做参数传递，并且调用它&lt;/p&gt;&lt;p&gt;31&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function callFunc( $func ) {&lt;/p&gt;&lt;p&gt;32&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func( &amp;#39;some string&amp;#39; );&lt;/p&gt;&lt;p&gt;33&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;34&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;35&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$printStrFunc = function( $str ) {&lt;/p&gt;&lt;p&gt;36&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;echo $str;&lt;/p&gt;&lt;p&gt;37&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;};&lt;/p&gt;&lt;p&gt;38&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;callFunc( $printStrFunc );&lt;/p&gt;&lt;p&gt;39&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;40&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//也可以直接将匿名函数进行传递。如果你了解js，这种写法可能会很熟悉&lt;/p&gt;&lt;p&gt;41&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;callFunc( function( $str ) {&lt;/p&gt;&lt;p&gt;42&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;echo $str;&lt;/p&gt;&lt;p&gt;43&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;} );&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;连接闭包和外界变量的关键字：USE&lt;/p&gt;&lt;p&gt;闭包可以保存所在代码块上下文的一些变量和值。PHP在默认情况下，匿名函数不能调用所在代码块的上下文变量，而需要通过使用use关键字。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;换一个例子看看：&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;01&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function getMoney() {&lt;/p&gt;&lt;p&gt;02&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$rmb = 1;&lt;/p&gt;&lt;p&gt;03&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$dollar = 6;&lt;/p&gt;&lt;p&gt;04&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function() use ( $rmb ) {&lt;/p&gt;&lt;p&gt;05&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;06&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $dollar;&lt;/p&gt;&lt;p&gt;07&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;08&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func();&lt;/p&gt;&lt;p&gt;09&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;10&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;11&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;getMoney();&lt;/p&gt;&lt;p&gt;12&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;13&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//输出：&lt;/p&gt;&lt;p&gt;14&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//1&lt;/p&gt;&lt;p&gt;15&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//报错，找不到dorllar变量&lt;/p&gt;&lt;p&gt;可以看到，dollar没有在use关键字中声明，在这个匿名函数里也就不能获取到它，所以开发中要注意这个问题。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;有人可能会想到，是否可以在匿名函数中改变上下文的变量，但我发现是不可以的：&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;01&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function getMoney() {&lt;/p&gt;&lt;p&gt;02&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$rmb = 1;&lt;/p&gt;&lt;p&gt;03&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function() use ( $rmb ) {&lt;/p&gt;&lt;p&gt;04&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;05&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//把$rmb的值加1&lt;/p&gt;&lt;p&gt;06&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$rmb++;&lt;/p&gt;&lt;p&gt;07&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;08&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func();&lt;/p&gt;&lt;p&gt;09&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;10&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;11&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;12&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;getMoney();&lt;/p&gt;&lt;p&gt;13&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;14&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//输出：&lt;/p&gt;&lt;p&gt;15&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//1&lt;/p&gt;&lt;p&gt;16&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//1&lt;/p&gt;&lt;p&gt;啊，原来use所引用的也只不过是变量的一个副本而已。但是我想要完全引用变量，而不是复制。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;要达到这种效果，其实在变量前加一个 &amp;amp; 符号就可以了：&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;01&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function getMoney() {&lt;/p&gt;&lt;p&gt;02&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$rmb = 1;&lt;/p&gt;&lt;p&gt;03&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function() use ( &amp;amp;$rmb ) {&lt;/p&gt;&lt;p&gt;04&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;05&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//把$rmb的值加1&lt;/p&gt;&lt;p&gt;06&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$rmb++;&lt;/p&gt;&lt;p&gt;07&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;08&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func();&lt;/p&gt;&lt;p&gt;09&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;10&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;11&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;12&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;getMoney();&lt;/p&gt;&lt;p&gt;13&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;14&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//输出：&lt;/p&gt;&lt;p&gt;15&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//1&lt;/p&gt;&lt;p&gt;16&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//2&lt;/p&gt;&lt;p&gt;好，这样匿名函数就可以引用上下文的变量了。如果将匿名函数返回给外界，匿名函数会保存use所引用的变量，而外界则不能得到这些变量，这样形成‘闭包’这个概念可能会更清晰一些。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;根据描述改变一下上面的例子：&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;01&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;function getMoneyFunc() {&lt;/p&gt;&lt;p&gt;02&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$rmb = 1;&lt;/p&gt;&lt;p&gt;03&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;$func = function() use ( &amp;amp;$rmb ) {&lt;/p&gt;&lt;p&gt;04&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;echo $rmb;&lt;/p&gt;&lt;p&gt;05&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//把$rmb的值加1&lt;/p&gt;&lt;p&gt;06&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$rmb++;&lt;/p&gt;&lt;p&gt;07&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;};&lt;/p&gt;&lt;p&gt;08&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt; &amp;nbsp; &amp;nbsp;return $func;&lt;/p&gt;&lt;p&gt;09&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;}&lt;/p&gt;&lt;p&gt;10&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;11&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$getMoney = getMoneyFunc();&lt;/p&gt;&lt;p&gt;12&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$getMoney();&lt;/p&gt;&lt;p&gt;13&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$getMoney();&lt;/p&gt;&lt;p&gt;14&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;$getMoney();&lt;/p&gt;&lt;p&gt;15&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;16&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//输出：&lt;/p&gt;&lt;p&gt;17&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//1&lt;/p&gt;&lt;p&gt;18&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//2&lt;/p&gt;&lt;p&gt;19&lt;span class=&quot;Apple-tab-span&quot; style=&quot;white-space:pre&quot;&gt;	&lt;/span&gt;//3&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;总结&lt;/p&gt;&lt;p&gt;PHP闭包的特性并没有太大惊喜，其实用CLASS就可以实现类似甚至强大得多的功能，更不能和js的闭包相提并论，只能期待PHP以后对闭包支持的改进。不过匿名函数还是挺有用的，比如在使用preg_replace_callback等之类的函数可以不用在外部声明回调函数了。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940827','1'),
('17','1','递归函数 ','1','递归函数 ','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;php的递归函数用法
&amp;nbsp;
一个函数在它的函数体内调用它自身称为递归调用。这种函数称为递归函数。这对于程序员来说，通常有很高的实用价值，常用来将复杂的问题分解为简单的并相同的情况，反复做这种处理直到问题解决。
&amp;nbsp;
用递归函数与不用递归函数的区别
&amp;nbsp;
示例一：使用静态变量
&amp;nbsp;
function test(){
&amp;nbsp; static $dig=0;
&amp;nbsp; if($dig++&amp;lt;10){
&amp;nbsp; &amp;nbsp; echo $dig;
&amp;nbsp; &amp;nbsp; test();
&amp;nbsp; }
}
test();//12345678910
示例二：使用递归函数和循环实现字符串逆转排列
&amp;nbsp;
function unreverse($str){
&amp;nbsp; for($i=1;$i&amp;lt;=strlen($str);$i++){
&amp;nbsp; &amp;nbsp; echo substr($str,-$i,1);
&amp;nbsp; }
}
unreverse(&amp;quot;abcdefg&amp;quot;);//gfedcbc
&amp;nbsp;
function reverse($str){
&amp;nbsp; if(strlen($str)&amp;gt;0){
&amp;nbsp; &amp;nbsp; reverse(substr($str,1));
&amp;nbsp; &amp;nbsp; echo substr($str,0,1);
&amp;nbsp; &amp;nbsp; return;
&amp;nbsp; }
}
reverse(&amp;quot;abcdefg&amp;quot;);//gfedcbc
递归函数很多时候我们可以循环替代，建议当我们不能用循环替代时再用，因为用循环我们更容易理解，更不容易出错。
&amp;nbsp;
php递归函数 php支付递归函数，递归函数就是调用自己本身，这些函数特别适用于浏览动态数据结构，例如树和列表。
几乎没有web应用程序要求使用复杂的数据结构
&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;kw2&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; font-weight: bold; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw2&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; font-weight: bold; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt; reversr_r&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(177, 177, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt; &lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.php.net/strlen&quot; style=&quot;box-sizing: border-box; background: rgb(255, 255, 255); color: rgb(0, 154, 97); text-decoration: none; outline: 0px; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre;&quot;&gt;&lt;span class=&quot;kw3&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(153, 0, 0);&quot;&gt;strlen&lt;/span&gt;&lt;/a&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;reverse_r&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.php.net/substr&quot; style=&quot;box-sizing: border-box; background: rgb(255, 255, 255); color: rgb(0, 154, 97); text-decoration: none; outline: 0px; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre;&quot;&gt;&lt;span class=&quot;kw3&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(153, 0, 0);&quot;&gt;substr&lt;/span&gt;&lt;/a&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(177, 177, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;echo&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt; &lt;/span&gt;&lt;a href=&quot;http://www.php.net/substr&quot; style=&quot;box-sizing: border-box; background: rgb(255, 255, 255); color: rgb(0, 154, 97); text-decoration: none; outline: 0px; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre;&quot;&gt;&lt;span class=&quot;kw3&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(153, 0, 0);&quot;&gt;substr&lt;/span&gt;&lt;/a&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(177, 177, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sy1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; font-weight: bold; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span class=&quot;kw2&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; font-weight: bold; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw2&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; font-weight: bold; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt; reverse_i&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(177, 177, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;a href=&quot;http://www.php.net/strlen&quot; style=&quot;box-sizing: border-box; background: rgb(255, 255, 255); color: rgb(0, 154, 97); text-decoration: none; outline: 0px; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre;&quot;&gt;&lt;span class=&quot;kw3&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(153, 0, 0);&quot;&gt;strlen&lt;/span&gt;&lt;/a&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;kw1&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(177, 177, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;echo&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt; &lt;/span&gt;&lt;a href=&quot;http://www.php.net/substr&quot; style=&quot;box-sizing: border-box; background: rgb(255, 255, 255); color: rgb(0, 154, 97); text-decoration: none; outline: 0px; font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre;&quot;&gt;&lt;span class=&quot;kw3&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(153, 0, 0);&quot;&gt;substr&lt;/span&gt;&lt;/a&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$str&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;,-&lt;/span&gt;&lt;span class=&quot;re0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 0, 136); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nu0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(204, 102, 204); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(51, 153, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;这个程序清单中实现两个函数，这两个函数都可以相反的顺序打印字符串的内容
函数reversr_r是通过递归实现的，而函数reverse_i&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;box-sizing: border-box; overflow: hidden; max-height: none; color: rgb(0, 153, 0); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;是通过循环实现的&lt;/span&gt;&lt;/p&gt;','0','0','1483940856','1'),
('18','1','回调函数','1','回调函数','&lt;p&gt;回调的关键是这个回&lt;/p&gt;&lt;p&gt;既然是回，那么就有一个谁是主体的问题，因为回调是往回调用的意思&lt;/p&gt;&lt;p&gt;我调用了函数A，而函数A在执行过程中调用了我提供的函数B，这个函数B就称为函数A的回调函数&lt;/p&gt;&lt;p&gt;显然主体是函数A&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;我们知道，函数是完成某个特定功能的代码集合，在函数执行的过程中，一般是不能去干预他的行为的&lt;/p&gt;&lt;p&gt;当函数被设计成带有回调功能时，我们就有可能在函数的执行过程中，通过回调函数去干预他。例如&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;function foo($n, $f=&amp;#39;&amp;#39;) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; if($n &amp;lt; 1) return;&lt;/p&gt;&lt;p&gt;&amp;nbsp; for($i=0; $i&amp;lt;$n; $i++) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; echo $f ? $f($i) : $i;&lt;/p&gt;&lt;p&gt;&amp;nbsp; }&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;//无回调时&lt;/p&gt;&lt;p&gt;foo(5); //01234&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;//有回调时&lt;/p&gt;&lt;p&gt;function f1($v) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; return $v + $v;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;foo(5, &amp;#39;f1&amp;#39;); //02468&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483940876','1'),
('19','1','快速排序算法','1','快速排序算法','&lt;pre class=&quot;hljs php&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 1.5em !important;&quot;&gt;/*
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;快速排序
*/function&amp;nbsp;quickSort($array){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!isset($array[1]))&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$array;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$mid&amp;nbsp;=&amp;nbsp;$array[0];&amp;nbsp;//获取一个用于分割的关键字，一般是首个元素
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$leftArray&amp;nbsp;=&amp;nbsp;array();&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$rightArray&amp;nbsp;=&amp;nbsp;array();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($array&amp;nbsp;as&amp;nbsp;$v)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($v&amp;nbsp;&amp;gt;&amp;nbsp;$mid)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$rightArray[]&amp;nbsp;=&amp;nbsp;$v;&amp;nbsp;&amp;nbsp;//把比$mid大的数放到一个数组里
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($v&amp;nbsp;&amp;lt;&amp;nbsp;$mid)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$leftArray[]&amp;nbsp;=&amp;nbsp;$v;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把比$mid小的数放到另一个数组里
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$leftArray&amp;nbsp;=&amp;nbsp;quickSort($leftArray);&amp;nbsp;//把比较小的数组再一次进行分割
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$leftArray[]&amp;nbsp;=&amp;nbsp;$mid;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把分割的元素加到小的数组后面，不能忘了它哦

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$rightArray&amp;nbsp;=&amp;nbsp;quickSort($rightArray);&amp;nbsp;&amp;nbsp;//把比较大的数组再一次进行分割
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;array_merge($leftArray,$rightArray);&amp;nbsp;&amp;nbsp;//组合两个结果}&lt;/pre&gt;&lt;h2 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;与冒泡算法对比&lt;/h2&gt;&lt;pre class=&quot;hljs php&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;$a&amp;nbsp;=&amp;nbsp;array_rand(range(1,3000),&amp;nbsp;1500);&amp;nbsp;&amp;nbsp;//甚至在冒泡算法超过1600个元素的时候会出现内存不足的提示，但这里为了测出两个之间的差别大小，&amp;nbsp;就设置成了1500，保证冒泡算法也能执行完毕。shuffle($a);&amp;nbsp;&amp;nbsp;//获取已经打乱了顺序的数组$t1&amp;nbsp;=&amp;nbsp;microtime(true);
quickSort($a);&amp;nbsp;&amp;nbsp;//快速排序$t2&amp;nbsp;=&amp;nbsp;microtime(true);echo&amp;nbsp;(($t2-$t1)*1000).&amp;#39;ms&amp;lt;br/&amp;gt;&amp;#39;;require(&amp;#39;./maopao.php&amp;#39;);&amp;nbsp;&amp;nbsp;//这里引用的是我之前写的冒泡算法排序$t1&amp;nbsp;=&amp;nbsp;microtime(true);
maoPao($a);&amp;nbsp;&amp;nbsp;&amp;nbsp;//冒泡$t2&amp;nbsp;=&amp;nbsp;microtime(true);echo&amp;nbsp;(($t2-$t1)*1000).&amp;#39;ms&amp;#39;;&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483941174','1'),
('20','1','关于mysql处理百万级以上的数据时如何提高其查询速度的方法','2','关于mysql处理百万级以上的数据时如何提高其查询速度的方法','&lt;p style=&quot;margin: 10px auto; padding: 0px;&quot;&gt;1、应尽量避免在 where 子句中使用!=或&amp;lt;&amp;gt;操作符，否则将引擎放弃使用索引而进行全表扫描。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;3、应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num is null&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=0&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;4、尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=10 or num=20&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;可以这样查询：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=10&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;union all&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=20&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;5、下面的查询也将导致全表扫描：(不能前置百分号)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where name like ‘%c%’&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;若要提高效率，可以考虑全文检索。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;6、in 和 not in 也要慎用，否则会导致全表扫描，如：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num in(1,2,3)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;对于连续的数值，能用 between 就不要用 in 了：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num between 1 and 3&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;7、如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然 而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=@num&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;可以改为强制查询使用索引：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t with(index(索引名)) where num=@num&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;8、应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num/2=100&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;应改为:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where num=100*2&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;9、应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where substring(name,1,3)=’abc’–name以abc开头的id&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where datediff(day,createdate,’2005-11-30′)=0–’2005-11-30′生成的id&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;应改为:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where name like ‘abc%’&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select id from t where createdate&amp;gt;=’2005-11-30′ and createdate&amp;lt;’2005-12-1′&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;10、不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;11、在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使 用，并且应尽可能的让字段顺序与索引顺序相一致。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;12、不要写一些没有意义的查询，如需要生成一个空表结构：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select col1,col2 into #t from t where 1=0&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;create table #t(…)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;13、很多时候用 exists 代替 in 是一个好的选择：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select num from a where num in(select num from b)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;用下面的语句替换：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;select num from a where exists(select 1 from b where num=a.num)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;14、并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段 sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;15、索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有 必要。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;17、尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会 逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;18、尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;19、任何地方都不要使用 select * from t ，用具体的字段列表代替“*”，不要返回用不到的任何字段。&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;20、尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;21、避免频繁创建和删除临时表，以减少系统表资源的消耗。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;22、临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使 用导出表。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;23、在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;24、如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;25、尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;26、使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;27、与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;28、在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;29、尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;30、尽量避免大事务操作，提高系统并发能力。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','1','1483943432','1'),
('21','1',' MySQL数据库如何解决大数据量存储问题','2',' MySQL数据库如何解决大数据量存储问题','&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;提问：如何设计或优化千万级别的大表？此外无其他信息，个人觉得这个话题有点范，就只好简单说下该如何做，对于一个存储设计，必须考虑业务特点，收集的信息如下：&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;1.数据的容量：1-3年内会大概多少条数据，每条数据大概多少字节；&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;2.数据项：是否有大字段，那些字段的值是否经常被更新；&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;3.数据查询SQL条件：哪些数据项的列名称经常出现在WHERE、GROUP BY、ORDER BY子句中等；&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;4.数据更新类SQL条件：有多少列经常出现UPDATE或DELETE 的WHERE子句中；&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;5.SQL量的统计比，如：SELECT：UPDATE+DELETE：INSERT=多少？&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;6.预计大表及相关联的SQL，每天总的执行量在何数量级？&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;7.表中的数据：更新为主的业务 还是 查询为主的业务&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;8.打算采用什么数据库物理服务器，以及数据库服务器架构？&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;9.并发如何？&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;10.存储引擎选择InnoDB还是MyISAM？&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;大致明白以上10个问题，至于如何设计此类的大表，应该什么都清楚了！&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;至于优化若是指创建好的表，不能变动表结构的话，那建议InnoDB引擎，多利用点内存，减轻磁盘IO负载，因为IO往往是数据库服务器的瓶颈&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;另外对优化索引结构去解决性能问题的话，建议优先考虑修改类SQL语句，使他们更快些，不得已只靠索引组织结构的方式，当然此话前提是，&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;索引已经创建的非常好，若是读为主，可以考虑打开query_cache，&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;以及调整一些参数值：sort_buffer_size,read_buffer_size,read_rnd_buffer_size,join_buffer_size&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;更多信息参见：&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;MySQL数据库服务器端核心参数详解和推荐配置&lt;/span&gt;&lt;br style=&quot;white-space: normal; background-color: rgb(255, 255, 255); color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.mysqlops.com/2011/10/26/mysql-variables-one.html&quot; class=&quot; external&quot; rel=&quot;nofollow&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span class=&quot;invisible&quot; style=&quot;font-size: 0px; line-height: 0; font-family: a; color: transparent; background-color: transparent; border: 0px;&quot;&gt;http://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;mysqlops.com/2011/10/26&lt;/span&gt;&lt;span class=&quot;invisible&quot; style=&quot;font-size: 0px; line-height: 0; font-family: a; color: transparent; background-color: transparent; border: 0px;&quot;&gt;/mysql-variables-one.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot; style=&quot;word-wrap: normal; overflow: hidden; text-overflow: ellipsis;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;icon-external&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; width: 7px; height: 7px; display: inline-block; vertical-align: 0px; margin-left: 4px;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br style=&quot;white-space: normal; color: rgb(51, 51, 51); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px; background-color: rgb(245, 245, 245);&quot;/&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px; background-color: rgb(245, 245, 245);&quot;&gt;您好，主要是检索某段时间内的模拟量值（select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;table&amp;nbsp;where&amp;nbsp;datatime&amp;nbsp;between&amp;nbsp;t1&amp;nbsp;and&amp;nbsp;t2&amp;nbsp;）,目前打算使用分表，分区的方式解决&lt;/span&gt;&lt;br style=&quot;color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px; background-color: rgb(245, 245, 245);&quot;&gt;&lt;span style=&quot;line-height: 24px;&quot;&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;不纸上谈兵，说一下我的思路以及我的解决，抛砖引玉了&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;我最近正在解决这个问题&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;我现在的公司有三张表，是5亿的数据，每天张表每天的增量是100w&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;每张表大概在10个columns左右&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;下面是我做的&lt;a href=&quot;http://lib.csdn.net/base/softwaretest&quot; class=&quot;replace_word&quot; title=&quot;软件测试知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;测试&lt;/a&gt;和对比&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;1.首先看engine,在&lt;a href=&quot;http://lib.csdn.net/base/hadoop&quot; class=&quot;replace_word&quot; title=&quot;Hadoop知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;大数据&lt;/a&gt;量情况下，在没有做分区的情况下&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;mysiam比innodb在只读的情况下，效率要高13％左右&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;2.在做了partition之后，你可以去读一下mysql的官方文档，其实对于partition，专门是对myisam做的优化，对于innodb，所有的数据是存在ibdata里面的，所以即使你可以看到schema变了，其实没有本质的变化&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;在分区出于同一个physical disk下面的情况下，提升大概只有1％&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;在分区在不同的physical disk下，我分到了三个不同的disks下，提升大概在3％，其实所谓的吞吐量，由很多因素决定的，比如你的explain parition时候可以看到，record在那一个分区，如果每个分区都有，其实本质上没有解决读的问题，这样只会提升写的效率。&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;另外一个问题在于，分区，你怎么分，如果一张表，有三个column都是经常被用于做查询条件的，其实是一件很悲惨的事情，因为你没有办法对所有的sql做针对性的分区，如果你只是如mysql官方文档上说的，只对时间做一个分区，而且你也只用时间查询的话，恭喜你&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;3.表主要用来读还是写，其实这个问题是不充分的，应该这样问，你在写入的时候，同时并发的查询多么？我的问题还比较简单，因为&lt;a href=&quot;http://lib.csdn.net/base/mongodb&quot; class=&quot;replace_word&quot; title=&quot;MongoDB知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;MongoDB&lt;/a&gt;的shredding支持不能，在crush之后，还是回到mysql，所以在通常情况下，9am－9pm，写入的情况很多，这个时候我会做一个view，view是基于最近被插入或者经常被查询的，通过做view来分离读取，就是说写是在table上的，读在进行逻辑判断前是在view上操作的&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;4做一些archive table，比如先对这些大表做很多已有的统计分析，然后通过已有的分析＋增量来解决&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;5如果你用mysiam，还有一个问题你要注意，如果你的.configure的时候，加了一个max index length参数的时候，当你的record数大于制定长度的时候，这个index会被disable&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;/&gt;&lt;span style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 22px;&quot;&gt;6&amp;nbsp;&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;照你的需求来看，可以有两种方式，一种是分表，另一种是分区&lt;br/&gt;首先是分表，就像你自己所说的，可以按月分表，可以按用户ID分表等等，至于采用哪种方式分表，要看你的业务逻辑了，分表不好的地方就是查询有时候需要跨多个表。&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后是分区，分区可以将表分离在若干不同的表空间上，用分而治之的方法来支撑无限膨胀的大表，给大表在物理一级的可管理性。将大表分割成较小的分区可以改善表的维护、备份、恢复、事务及查询性能。分区的好处是分区的优点：&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1　增强可用性：如果表的一个分区由于系统故障而不能使用，表的其余好的分区仍然可以使用；&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2　减少关闭时间：如果系统故障只影响表的一部分分区，那么只有这部分分区需要修复，故能比整个大表修复花的时间更少；&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3　维护轻松：如果需要重建表，独立管理每个分区比管理单个大表要轻松得多；&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;4　均衡I/O:可以把表的不同分区分配到不同的磁盘来平衡I/O改善性能；&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;5　改善性能：对大表的查询、增加、修改等操作可以分解到表的不同分区来并行执行，可使运行速度更快；&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;6　分区对用户透明，最终用户感觉不到分区的存在。&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp;如今随着互联网的发展，数据的量级也是撑指数的增长，从GB到TB到PB。对数据的各种操作也是愈加的困难，传统的关系性&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;数据库&lt;/a&gt;已经无法满足快速查询与插入数据的需求。这个时候NoSQL的出现暂时解决了这一危机。它通过降低数据的安全性，减少对事务的支持，减少对复杂查询的支持，来获取性能上的提升。但是，在有些场合NoSQL一些折衷是无法满足使用场景的，就比如有些使用场景是绝对要有事务与安全指标的。这个时候NoSQL肯定是无法满足的，所以还是需要使用关系性数据库。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 虽然关系型数据库在海量数据中逊色于NoSQL数据库，但是如果你操作正确，它的性能还是会满足你的需求的。针对数据的不同操作，其优化方向也是不尽相同。对于数据移植，查询和插入等操作，可以从不同的方向去考虑。而在优化的时候还需要考虑其他相关操作是否会产生影响。就比如你可以通过创建索引提高查询性能，但是这会导致插入数据的时候因为要建立更新索引导致插入性能降低，你是否可以接受这一降低那。所以，对数据库的优化是要考虑多个方向，寻找一个折衷的最佳方案。&lt;/p&gt;&lt;h1 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t0&quot;&gt;&lt;/a&gt;&amp;nbsp; 一：查询优化&lt;/h1&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t2&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t1&quot;&gt;&lt;/a&gt;&amp;nbsp; 1：创建索引。&lt;/h2&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 最简单也是最常用的优化就是查询。因为对于CRUD操作，read操作是占据了绝大部分的比例，所以read的性能基本上决定了应用的性能。对于查询性能最常用的就是创建索引。经过测试，2000万条记录，每条记录200字节两列varchar类型的。当不使用索引的时候查询一条记录需要一分钟，而当创建了索引的时候查询时间可以忽略。但是，当你在已有数据上添加索引的时候，则需要耗费非常大的时间。我插入2000万条记录之后，再创建索引大约话费了几十分钟的样子。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 创建索引的弊端和场合。虽然创建索引可以很大程度上优化查询的速度，但是弊端也是很明显的。一个是在插入数据的时候，创建索引也需要消耗部分的时间，这就使得插入性能在一定程度上降低；另一个很明显的是数据文件变的更大。在列上创建索引的时候，每条索引的长度是和你创建列的时候制定的长度相同的。比如你创建varchar(100)，当你在该列上创建索引，那么索引的长度则是102字节，因为长度超过64字节则会额外增加2字节记录索引的长度。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20130925123428843?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvendhbjA1MTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%; max-height: 100%; height: auto;&quot;/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 从上图可以看到我在YCSB_KEY这一列(长度100)上创建了一个名字为index_ycsb_key的索引，每条索引长度都为102，想象一下当数据变的巨大无比的时候，索引的大小也是不可以小觑的。而且从这也可以看出，索引的长度和列类型的长度还不同，比如varchar它是变长的字符类型(&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/zwan0518/article/details/8928822&quot; style=&quot;text-decoration: none; color: rgb(51, 102, 153);&quot;&gt;请看MySQL数据类型分析&lt;/a&gt;)，实际存储长度是是实际字符的大小，但是索引却是你声明的长度的大小。你创建列的时候声明100字节，那么索引长度就是这个字节再加上2，它不管你实际存储是多大。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 除了创建索引需要消耗时间，索引文件体积会变的越来越大之外，创建索引也需要看的你存储数据的特征。当你存储数据很大一部分都是重复记录，那这个时候创建索引是百害而无一利。请先查看&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/zwan0518/article/details/8883128&quot; style=&quot;text-decoration: none; color: rgb(51, 102, 153);&quot;&gt;MySQL索引介绍&lt;/a&gt;。所以，当很多数据重复的时候，索引带来的查询提升的效果是可以直接忽略的，但是这个时候你还要承受插入数据的时候创建索引带来的性能消耗。&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t3&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t2&quot;&gt;&lt;/a&gt;&amp;nbsp; 2：缓存的配置。&lt;/h2&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 在MySQL中有多种多样的缓存，有的缓存负责缓存查询语句，也有的负责缓存查询数据。这些缓存内容客户端无法操作，是由server端来维护的。它会随着你查询与修改等相应不同操作进行不断更新。通过其配置文件我们可以看到在MySQL中的缓存：&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20130925125815468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvendhbjA1MTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%; max-height: 100%; height: auto;&quot;/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 在这里主要分析query cache，它是主要用来缓存查询数据。当你想使用该cache，必须把query_cache_size大小设置为非0。当设置大小为非0的时候，server会就会缓存每次查询返回的结果，到下次相同查询server就直接从缓存获取数据，而不是再执行查询。能缓存的数据量就和你的size大小设置有关，所以当你设置的足够大，数据可以完全缓存到内存，速度就会非常之快。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 但是，query cache也有它的弊端。当你对数据表做任何的更新操作(update/insert/delete)等操作，server为了保证缓存与数据库的一致性，会强制刷新缓存数据，导致缓存数据全部失效。所以，当一个表格的更新数据表操作非常多的话，query cache是不会起到查询提升的性能，还会影响其他操作的性能。&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t4&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t3&quot;&gt;&lt;/a&gt;&amp;nbsp; 3：slow_query_log分析。&lt;/h2&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 其实对于查询性能提升，最重要也是最根本的手段也是slow_query的设置。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20130925130949593?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvendhbjA1MTg=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%; max-height: 100%; height: auto;&quot;/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 当你设置slow_query_log为on的时候，server端会对每次的查询进行记录，当超过你设置的慢查询时间(long_query_time)的时候就把该条查询记录到日志。而你对性能进行优化的时候，就可以分析慢查询日志，对慢查询的查询语句进行有目的的优化。可以通过创建各种索引，可以通过分表等操作。那为什么要分库分表那，当不分库分表的时候那个地方是限制性能的地方啊。下面我们就简单介绍。&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t5&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t4&quot;&gt;&lt;/a&gt;&amp;nbsp; 4：分库分表&lt;/h2&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 分库分表应该算是查询优化的杀手锏了。上述各种措施在数据量达到一定等级之后，能起到优化的作用已经不明显了。这个时候就必须对数据量进行分流。分流一般有分库与分表两种措施。而分表又有垂直切分与水平切分两种方式。下面我们就针对每一种方式简单介绍。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 对于mysql，其数据文件是以文件形式存储在磁盘上的。当一个数据文件过大的时候，&lt;a href=&quot;http://lib.csdn.net/base/operatingsystem&quot; class=&quot;replace_word&quot; title=&quot;操作系统知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;操作系统&lt;/a&gt;对大文件的操作就会比较麻烦与耗时，而且有的操作系统就不支持大文件，所以这个时候就必须分表了。另外对于mysql常用的存储引擎是Innodb，它的底层&lt;a href=&quot;http://lib.csdn.net/base/datastructure&quot; class=&quot;replace_word&quot; title=&quot;算法与数据结构知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;数据结构&lt;/a&gt;是B+树。当其数据文件过大的时候，B+树就会从层次和节点上比较多，当查询一个节点的时候可能会查询很多层次，而这必定会导致多次IO操作进行装载进内存，肯定会耗时的。除此之外还有Innodb对于B+树的锁机制。对每个节点进行加锁，那么当更改表结构的时候，这时候就会树进行加锁，当表文件大的时候，这可以认为是不可实现的。&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 所以综上我们就必须进行分表与分库的操作。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h1 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t6&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t5&quot;&gt;&lt;/a&gt;&amp;nbsp;二：数据转移&lt;/h1&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;&amp;nbsp; 当数据量达到一定等级之后，那么移库将是一个非常慎重又危险的工作。在移库中保证前后数据的一致性，各种突发情况的处理，移库过程中数据的变迁，每一个都是一个非常困难的问题。&lt;br/&gt;&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; line-height: 26px;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t7&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t6&quot;&gt;&lt;/a&gt;&amp;nbsp; 2.1：插入数据&lt;/h2&gt;&lt;p&gt;&amp;nbsp; 当进行数据迁移的时候，肯定会存在大数据的重新导入，你可以选择直接load文件，有的时候可能就需要代码插入了。这个时候就需要对插入语句进行一定的优化了。这个时候可以使用INSERT DELAYED语句，该语句是当你发出插入请求的时候，部马上就插入到数据库而是放在缓存里面，等待时机成熟之后再进行插入。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;&quot;&gt;待补充。。。&lt;/p&gt;&lt;h1 class=&quot;postTitle&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(85, 85, 85); white-space: normal; background-color: rgb(255, 255, 255); position: relative; width: 690px; border: none; overflow: hidden; font-family: verdana, Arial, Helvetica;&quot;&gt;&lt;a style=&quot;color: rgb(12, 137, 207);&quot; name=&quot;t8&quot;&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; id=&quot;cb_post_title_url&quot; class=&quot;postTitle2&quot; href=&quot;http://www.cnblogs.com/buffer/archive/2011/04/16/2018531.html&quot; style=&quot;text-decoration: none; color: rgb(106, 99, 82); margin: 0px; padding: 0px; font-family: 微软雅黑, 华文细黑, 黑体, Arial; font-size: 18px; font-weight: normal;&quot;&gt;mysql大数据量处理&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;一、概述&lt;/span&gt;&lt;/p&gt;&lt;p&gt;分表是个目前算是比较炒的比较流行的概念，特别是在大负载的情况下，分表是一个良好分散数据库压力的好方法。&lt;/p&gt;&lt;p&gt;首先要了解为什么要分表，分表的好处是什么。我们先来大概了解以下一个数据库执行SQL的过程：&lt;/p&gt;&lt;p&gt;接收到SQL --&amp;gt; 放入SQL执行队列 --&amp;gt; 使用分析器分解SQL --&amp;gt; 按照分析结果进行数据的提取或者修改 --&amp;gt; 返回处理结果&lt;/p&gt;&lt;p&gt;当然，这个流程图不一定正确，这只是我自己主观意识上这么我认为。那么这个处理过程当中，最容易出现问题的是什么？就是说，如果前一个SQL没有执行完毕的话，后面的SQL是不会执行的，因为为了保证数据的完整性，必须对数据表文件进行锁定，包括共享锁和独享锁两种锁定。共享锁是在锁定的期间，其它线程也可以访问这个数据文件，但是不允许修改操作，相应的，独享锁就是整个文件就是归一个线程所有，其它线程无法访问这个数据文件。一般MySQL中最快的存储引擎MyISAM，它是基于表锁定的，就是说如果一锁定的话，那么整个数据文件外部都无法访问，必须等前一个操作完成后，才能接收下一个操作，那么在这个前一个操作没有执行完成，后一个操作等待在队列里无法执行的情况叫做阻塞，一般我们通俗意义上叫做“锁表”。&lt;/p&gt;&lt;p&gt;锁表直接导致的后果是什么？就是大量的SQL无法立即执行，必须等队列前面的SQL全部执行完毕才能继续执行。这个无法执行的SQL就会导致没有结果，或者延迟严重，影响用户体验。&lt;/p&gt;&lt;p&gt;特别是对于一些使用比较频繁的表，比如SNS系统中的用户信息表、论坛系统中的帖子表等等，都是访问量大很大的表，为了保证数据的快速提取返回给用户，必须使用一些处理方式来解决这个问题，这个就是我今天要聊到的分表技术。&lt;/p&gt;&lt;p&gt;分表技术顾名思义，就是把若干个存储相同类型数据的表分成几个表分表存储，在提取数据的时候，不同的用户访问不同的表，互不冲突，减少锁表的几率。比如，目前保存用户分表有两个表，一个是user_1表，还有一个是 user_2 表，两个表保存了不同的用户信息，user_1 保存了前10万的用户信息，user_2保存了后10万名用户的信息，现在如果同时查询用户 heiyeluren1 和 heiyeluren2 这个两个用户，那么就是分表从不同的表提取出来，减少锁表的可能。&lt;/p&gt;&lt;p&gt;我下面要讲述的两种分表方法我自己都没有实验过，不保证准确能用，只是提供一个设计思路。下面关于分表的例子我假设是在一个贴吧系统的基础上来进行处理和构建的。（如果没有用过贴吧的用户赶紧Google一下）&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;二、基于基础表的分表处理&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这个基于基础表的分表处理方式大致的思想就是：一个主要表，保存了所有的基本信息，如果某个项目需要找到它所存储的表，那么必须从这个基础表中查找出对应的表名等项目，好直接访问这个表。如果觉得这个基础表速度不够快，可以完全把整个基础表保存在缓存或者内存中，方便有效的查询。&lt;/p&gt;&lt;p&gt;我们基于贴吧的情况，构建假设如下的3张表：&lt;/p&gt;&lt;p&gt;1. 贴吧版块表: 保存贴吧中版块的信息&lt;/p&gt;&lt;p&gt;2. 贴吧主题表：保存贴吧中版块中的主题信息，用于浏览&lt;/p&gt;&lt;p&gt;3. 贴吧回复表：保存主题的原始内容和回复内容&lt;/p&gt;&lt;p&gt;“贴吧版块表”包含如下字段：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; board_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块名称&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; board_name&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; char(50)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;子表&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; smallint(5)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;产生时间&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; created&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; datetime&lt;/span&gt;&lt;/p&gt;&lt;p&gt;“贴吧主题表”包含如下字段：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;主题&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; topic_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;主题名称&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; topic_name&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; char(255)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; board_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;创建时间&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; created&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; datetime&lt;/span&gt;&lt;/p&gt;&lt;p&gt;“贴吧回复表”的字段如下：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;回复&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; reply_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;回复内容&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; reply_text&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; text&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;主题&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; topic_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; board_id&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; int(10)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;创建时间&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; created&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; datetime&lt;/span&gt;&lt;/p&gt;&lt;p&gt;那么上面保存了我们整个贴吧中的表结构信息，三个表对应的关系是：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;--&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;多个主题&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;主题&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;--&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;多个回复&lt;/span&gt;&lt;/p&gt;&lt;p&gt;那么就是说，表文件大小的关系是：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;版块表文件&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;lt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;主题表文件&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;lt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;回复表文件&lt;/span&gt;&lt;/p&gt;&lt;p&gt;所以基本可以确定需要对主题表和回复表进行分表，已增加我们数据检索查询更改时候的速度和性能。&lt;/p&gt;&lt;p&gt;看了上面的表结构，会明显发现，在“版块表”中保存了一个&amp;quot;table_id&amp;quot;字段，这个字段就是用于保存一个版块对应的主题和回复都是分表保存在什么表里的。&lt;/p&gt;&lt;p&gt;比如我们有一个叫做“PHP”的贴吧，board_id是1，子表ID也是1，那么这条记录就是：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;board_id | board_name | table_id | created&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;1 | PHP | 1 | 2007-01-19 00:30:12&lt;/span&gt;&lt;/p&gt;&lt;p&gt;相应的，如果我需要提取“PHP”吧里的所有主题，那么就必须按照表里保存的table_id来组合一个存储了主题的表名称，比如我们主题表的前缀是“topic_”，那么组合出来“PHP”吧对应的主题表应该是：“topic_1”，那么我们执行：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;SELECT * FROM topic_1 WHERE board_id = 1 ORDER BY topic_id DESC LIMIT 10&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这样就能够获取这个主题下面回复列表，方便我们进行查看，如果需要查看某个主题下面的回复，我们可以继续使用版块表中保存的“table_id”来进行查询。比如我们回复表的前缀是“reply_”，那么就可以组合出“PHP”吧的ID为1的主题的回复：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;SELECT * FROM reply_1 WHERE topic_id = 1 ORDER BY reply_id DESC LIMIT 10&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这里，我们能够清晰的看到，其实我们这里使用了基础表，基础表就是我们的版块表。那么相应的，肯定会说：基础表的数据量大了以后如何保证它的速度和效率？&lt;/p&gt;&lt;p&gt;当然，我们就必须使得这个基础表保持最好的速度和性能，比如，可以采用MySQL的内存表来存储，或者保存在内存当中，比如Memcache之类的内存缓存等等，可以按照实际情况来进行调整。&lt;/p&gt;&lt;p&gt;一般基于基础表的分表机制在SNS、交友、论坛等Web2.0网站中是个比较不错的解决方案，在这些网站中，完全可以单独使用一个表来来保存基本标识和目标表之间的关系。使用表保存对应关系的好处是以后扩展非常方便，只需要增加一个表记录。&lt;/p&gt;&lt;p&gt;【&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;优势&lt;/span&gt;】增加删除节点非常方便，为后期升级维护带来很大便利&lt;/p&gt;&lt;p&gt;【&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;劣势&lt;/span&gt;】需要增加表或者对某一个表进行操作，还是无法离开数据库，会产生瓶颈&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;三、基于Hash算法的分表处理&lt;/span&gt;&lt;/p&gt;&lt;p&gt;我们知道Hash表就是通过某个特殊的Hash算法计算出的一个值，这个值必须是惟一的，并且能够使用这个计算出来的值查找到需要的值，这个叫做哈希表。&lt;/p&gt;&lt;p&gt;我们在分表里的hash算法跟这个思想类似：通过一个原始目标的ID或者名称通过一定的hash算法计算出数据存储表的表名，然后访问相应的表。&lt;/p&gt;&lt;p&gt;继续拿上面的贴吧来说，每个贴吧有版块名称和版块ID，那么这两项值是固定的，并且是惟一的，那么我们就可以考虑通过对这两项值中的一项进行一些运算得出一个目标表的名称。&lt;/p&gt;&lt;p&gt;现在假如我们针对我们这个贴吧系统，假设系统最大允许1亿条数据，考虑每个表保存100万条记录，那么整个系统就不超过100个表就能够容纳。按照这个标准，我们假设在贴吧的版块ID上进行hash，获得一个key值，这个值就是我们的表名，然后访问相应的表。&lt;/p&gt;&lt;p&gt;我们构造一个简单的hash算法：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;function get_hash($id){&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $str = bin2hex($id);&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $hash = substr($str, 0, 4);&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (strlen($hash)&amp;lt;4){&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $hash = str_pad($hash, 4, &amp;quot;0&amp;quot;);&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return $hash;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;算法大致就是传入一个版块ID值，然后函数返回一个4位的字符串，如果字符串长度不够，使用0进行补全。&lt;/p&gt;&lt;p&gt;比如：&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;get_hash(1)&lt;/span&gt;，输出的结果是“3100”，输入：&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;get_hash(23819)&lt;/span&gt;，得到的结果是：3233，那么我们经过简单的跟表前缀组合，就能够访问这个表了。那么我们需要访问ID为1的内容时候哦，组合的表将是：topic_3100、reply_3100，那么就可以直接对目标表进行访问了。&lt;/p&gt;&lt;p&gt;当然，使用hash算法后，有部分数据是可能在同一个表的，这一点跟hash表不同，hash表是尽量解决冲突，我们这里不需要，当然同样需要预测和分析表数据可能保存的表名。&lt;/p&gt;&lt;p&gt;如果需要存储的数据更多，同样的，可以对版块的名字进行hash操作，比如也是上面的二进制转换成十六进制，因为汉字比数字和字母要多很多，那么重复几率更小，但是可能组合成的表就更多了，相应就必须考虑一些其它的问题。&lt;/p&gt;&lt;p&gt;归根结底，使用hash方式的话必须选择一个好的hash算法，才能生成更多的表，然数据查询的更迅速。&lt;/p&gt;&lt;p&gt;【&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;优点&lt;/span&gt;hash算法直接得出目标表名称，效率很高&lt;/span&gt;】通过&lt;/p&gt;&lt;p&gt;【&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;劣势&lt;/span&gt;】扩展性比较差，选择了一个hash算法，定义了多少数据量，以后只能在这个数据量上跑，不能超过过这个数据量，可扩展性稍差&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;四、其它问题&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;1.&amp;nbsp;搜索问题&lt;/span&gt;&lt;/p&gt;&lt;p&gt;现在我们已经进行分表了，那么就无法直接对表进行搜索，因为你无法对可能系统中已经存在的几十或者几百个表进行检索，所以搜索必须借助第三方的组件来进行，比如Lucene作为站内搜索引擎是个不错的选择。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;2.&amp;nbsp;表文件问题&lt;/span&gt;&lt;/p&gt;&lt;p&gt;我们知道MySQL的MyISAM引擎每个表都会生成三个文件，*.frm、*.MYD、*.MYI 三个文件，分表用来保存表结构、表数据和表索引。Linux下面每个目录下的文件数量最好不要超过1000个，不然检索数据将更慢，那么每个表都会生成三个文件，相应的如果分表超过300个表，那么将检索非常慢，所以这时候就必须再进行分，比如在进行数据库的分离。&lt;/p&gt;&lt;p&gt;使用基础表，我们可以新增加一个字段，用来保存这个表保存在什么数据。使用Hash的方式，我们必须截取hash值中第几位来作为数据库的名字。这样，完好的解决这个问题。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;margin: 0px; padding: 0px;&quot;&gt;五、总结&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在大负载应用当中，数据库一直是个很重要的瓶颈，必须要突破，本文讲解了两种分表的方式，希望对很多人能够有启发的作用。当然，本文代码和设想没有经过任何代码测试，所以无法保证设计的完全准确实用，具体还是需要读者在使用过程当中认真分析实施。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483943557','1'),
('22','1','支付宝支付开发—当面付条码支付和扫码支付','1','http://download.csdn.net/detail/zhongxiangjinn/9732618','&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;本文分为以下五个部分：&lt;/p&gt;&lt;ol style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); padding: 0px 0px 0px 40px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;条码支付和扫码支付介绍&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;申请应用&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;密钥生成及配置&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;API及SDK集成&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;条码支付、扫码支付、订单查询、退款申请&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t0&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;/h2&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t1&quot;&gt;&lt;/a&gt;一、条码支付及二维码支付介绍&lt;/h2&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t2&quot;&gt;&lt;/a&gt;1. 条码支付&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;条码支付是支付宝给到线下传统行业的一种收款方式。商家使用扫码枪等条码识别设备扫描用户支付宝钱包上的条码/二维码，完成收款。用户仅需出示付款码，所有收款操作由商家端完成。其使用场景如下：&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826836663.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;业务流程：&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826715869.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;使用步骤：&lt;/p&gt;&lt;ol style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); padding: 0px 0px 0px 40px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;用户登陆支付宝钱包，点击首页“付款”，进入付款码界面；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;收银员在商家收银系统操作生成订单，用户确认支付金额；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用户出示钱包的“付款码”，收银员用扫码设备来扫描用户手机上的条码/二维码后，商家收银系统提交支付；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;付款成功后商家收银系统会拿到支付成功或者失败的结果。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t3&quot;&gt;&lt;/a&gt;2. 扫码支付&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;扫码支付，指用户打开支付宝钱包中的“扫一扫”功能，扫描商家展示在某收银场景下的二维码并进行支付的模式。该模式适用于线下实体店支付、面对面支付等场景。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;其使用场景如下：&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826194258.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;业务流程：&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826766843.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;使用步骤：&lt;/p&gt;&lt;ol style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); padding: 0px 0px 0px 40px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;用户登陆支付宝钱包，点击首页“付款-扫码付”，进入扫一扫界面；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;收银员在商家收银系统操作生成支付宝订单，用户确认支付金额，并生成二维码；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用户使用钱包的“扫码付”，扫收银员提供的二维码，确认支付；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用户付款后商家收银系统会拿到支付成功或者失败的结果。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t4&quot;&gt;&lt;/a&gt;二、接口申请&lt;/h2&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;企业在申请企业支付宝之后，进行功能申请并签约，然后在蚂蚁金服开放平台中申请应用如下（详细过程就略了）&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826683722.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;然后在功能列表中，申请当面付这一功能，申请成功后如下。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943826960206.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;这样，我们就有了当面付的权限了。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t5&quot;&gt;&lt;/a&gt;三、密钥生成&lt;/h2&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;在支付宝当面付的接口中，使用了非对称加密&lt;a href=&quot;http://lib.csdn.net/base/datastructure&quot; class=&quot;replace_word&quot; title=&quot;算法与数据结构知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;&quot;&gt;算法&lt;/a&gt;，商户自己的公钥和私钥需要自己使用OpenSSL手动生成。对这些概念比较陌生的话，请先自行先了解一下密码学的相关知识。OpenSSL也可以从方倍工作室博客中找到。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;下载支付宝官方提供的密钥生成工具OpenSSL，然后执行以下命令就可以生成公钥和私钥。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827663041.png&quot; alt=&quot;&quot; width=&quot;675&quot; height=&quot;315&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;其中&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;genrsa&amp;nbsp;-out&amp;nbsp;rsa_private_key.pem&amp;nbsp;1024&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;是用于生成RSA私钥，执行后在程序目录中生成一个文件rsa_private_key.pem，其内容如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;-----BEGIN&amp;nbsp;RSA&amp;nbsp;PRIVATE&amp;nbsp;KEY-----MIICXAIBAAKBgQCyffRONGd8Q/1kRh1cpsSRi360DXLHI7zxdPJGYe5HKDWF7u9b
3zZU9erZpM90XE7gZRKsxIgOurH4uqhmVRbto3e+LiYOyNpd6As3Q427KCTIT7aj
hHicZ6GWhegTUiVLqiuWLsauQcbI6DO4GEZrlvAdzus0WcJiJOxW02rxSQIDAQAB
AoGAXBJYyVaC4zj3Jph8YOStlR5N13bwdATdW/glWWT+0rnNEi90TQHRNvY7lNVN
JgrPrTS182TVgjOPxmwSnebakhIuGIdPq99GLE4LGd5lKWTzkd84BMvhatfNsCCz
cEVFqKg3tZd4t3fQ93FrILsnnZpLhiW53jIrStCkR3rx9OECQQDWMSHyc91hEVMQ
qVNasbGEicKWxhoDqjdm2lHkBx4mrB9JEZFDs6MxWdajf2/Qw+tgtpN3YBcCDw/H
nGHhQtStAkEA1VTyjOdAwWode8X4fu0IPq9+E19mcVOAJjLBH46mropwgOdj3raq
T/ThaKeaydjabsTAiY2J18HiTiyH+1bGjQJBAKgRJXH5OFxSG7uXIbCofYJiFi34
g7EcfxxVcqxaaW4u4N2Uy0c0TXkL5T+lXzeQg8D/gfbJj0QuTVNzgdofdoECQBHY
OznCFk6Xe8PguXqUhT4JG/iu4DjWjT+kuzbSjerHtcVylY4JpZFuoHRKoM4Fj6/4UUqwRjmABFgZrX4+sfkCQCNI8RCZ6yprh5kEOePo3uazAlNENP8dKkhgqChawdK7
7NzlJ727Nt23STHFx6NkhzyruJGQ5Vx1Lkl0wKuKbXM=
-----END&amp;nbsp;RSA&amp;nbsp;PRIVATE&amp;nbsp;KEY-----&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;命令&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;rsa&amp;nbsp;-in&amp;nbsp;rsa_private_key.pem&amp;nbsp;-pubout&amp;nbsp;-out&amp;nbsp;rsa_public_key.pem&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;是用于生成RSA公钥，执行后在程序目录中生成一个文件rsa_public_key.pem，其内容如下&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;-----BEGIN&amp;nbsp;PUBLIC&amp;nbsp;KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCyffRONGd8Q/1kRh1cpsSRi360
DXLHI7zxdPJGYe5HKDWF7u9b3zZU9erZpM90XE7gZRKsxIgOurH4uqhmVRbto3e+LiYOyNpd6As3Q427KCTIT7ajhHicZ6GWhegTUiVLqiuWLsauQcbI6DO4GEZrlvAd
zus0WcJiJOxW02rxSQIDAQAB-----END&amp;nbsp;PUBLIC&amp;nbsp;KEY-----&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;生成的这个RSA公钥，需要填写到应用中去，填写地址如下所示。私钥不需要填到配置中，到时候配置到代码中。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827516921.png&quot; alt=&quot;&quot; width=&quot;700&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;特别注意，密钥要去掉注释部分，且转换成一行字符，否则回车换行也成为密钥的一部分，将导致无法正常加解密。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827876128.png&quot; alt=&quot;&quot; width=&quot;600&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;同时，可以点击 “查看支付宝公钥”，将支付宝的公钥复制保存下来，后面的程序中将需要用到。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827817437.png&quot; alt=&quot;&quot; width=&quot;600&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t6&quot;&gt;&lt;/a&gt;四、密钥生成API与密钥配置&lt;/h2&gt;&lt;p id=&quot;s0&quot; style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;公共参数&lt;/p&gt;&lt;p&gt;请求地址：&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;tbody style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;th width=&quot;30%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;环境&lt;/th&gt;&lt;th width=&quot;65%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;HTTPS请求地址&lt;/th&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;正式环境&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;https://openapi.alipay.com/gateway.do&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;公共请求参数：&lt;/p&gt;&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;thead style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;th width=&quot;20%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;参数&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;12%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;类型&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是否必填&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;最大长度&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;25%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;描述&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;app_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付宝分配给开发者的应用ID&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;method&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;128&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;接口名称&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;format&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;否&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;40&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;仅支持JSON&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;charset&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;10&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;请求使用的编码格式，如utf-8,gbk,gb2312等&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sign_type&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;10&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户生成签名字符串所使用的签名算法类型，目前支持RSA&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sign&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;256&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户请求参数的签名串，详见&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/doc2/detail.htm?treeId=200&amp;articleId=105351&amp;docType=1&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;签名&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;timestamp&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;19&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;发送请求的时间，格式&amp;quot;yyyy-MM-dd HH:mm:ss&amp;quot;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;version&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;3&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;调用的接口版本，固定为：1.0&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;notify_url&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;否&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;256&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付宝服务器主动通知商户服务器里指定的页面http/https路径。&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;app_auth_token&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;否&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;40&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;详见&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/doc2/detail.htm?treeId=216&amp;articleId=105193&amp;docType=1&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;应用授权概述&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;biz_content&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;请求参数的集合，最大长度不限，除公共参数外所有请求参数都必须放在这个参数中传递，具体参照各产品快速接入文档&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p id=&quot;s1&quot; style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span class=&quot;triangle open&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;请求参数&lt;/span&gt;&lt;/p&gt;&lt;table class=&quot;table&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;thead style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;th width=&quot;22%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;参数&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;15%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;类型&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;12%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是否必填&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;12%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;最大长度&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;36%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;描述&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;out_trade_no&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必须&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;64&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户订单号,64个字符以内、可包含字母、数字、下划线；需保证在商户端不重复&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;scene&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必须&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付场景 条码支付，取值：bar_code 声波支付，取值：wave_code&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;auth_code&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必须&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付授权码&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;seller_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;28&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;如果该值为空，则默认为商户签约账号对应的支付宝用户ID&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;total_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;订单总金额，单位为元，&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;discountable_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;参与优惠计算的金额，单位为元&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;undiscountable_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;不参与优惠计算的金额，单位为元&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;subject&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必须&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;256&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;订单标题&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;body&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;128&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;订单描述&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;J_tableTr J_tableTrigger even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;icon-wrap J_tableIcon&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;goods_detail&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;GoodsDetail []&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;订单包含的商品列表信息，Json格式，其它说明详见商品明细说明&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;operator_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;28&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户操作员编号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;store_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户门店编号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;terminal_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户机具终端编号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;alipay_store_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付宝的店铺编号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;J_tableTr J_tableTrigger&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;icon-wrap J_tableIcon&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;extend_params&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;ExtendParams&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;业务扩展参数&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;timeout_express&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;6&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;该笔订单允许的最晚付款时间，逾期将关闭交易。&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;J_tableTr J_tableTrigger&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;icon-wrap J_tableIcon&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;royalty_info&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;RoyaltyInfo&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;描述分账信息，Json格式，其它说明详见分账说明&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;J_tableTr J_tableTrigger even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;icon-wrap J_tableIcon&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sub_merchant&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;SubMerchant&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;可选&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;二级商户信息,当前只对特殊银行机构特定场景下使用此字段&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p id=&quot;s2&quot; style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span class=&quot;triangle open&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;公共响应参数&lt;/span&gt;&lt;/p&gt;&lt;table class=&quot;table&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;thead style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;th width=&quot;25%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;参数&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;15%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;类型&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是否必填&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;最大长度&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;18%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;描述&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;code&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;网关返回码,&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=200&amp;articleId=105351&amp;docType=1#s2&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;详见文档&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;msg&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;网关返回码描述,&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=200&amp;articleId=105351&amp;docType=1#s2&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;详见文档&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sub_code&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;否&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;业务返回码,&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=200&amp;articleId=105351&amp;docType=1#s2&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;详见文档&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sub_msg&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;否&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;业务返回码描述,&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=200&amp;articleId=105351&amp;docType=1#s2&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;详见文档&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;sign&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;签名,&lt;a target=&quot;_blank&quot; href=&quot;https://doc.open.alipay.com/docs/doc.htm?treeId=200&amp;articleId=105351&amp;docType=1&quot; style=&quot;color: rgb(0, 0, 0); text-decoration: none; margin: 0px; padding: 0px; border-bottom: 1px dotted rgb(51, 51, 51);&quot;&gt;详见文档&lt;/a&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p id=&quot;s3&quot; style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span class=&quot;triangle open&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;响应参数&lt;/span&gt;&lt;/p&gt;&lt;table class=&quot;table&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;&lt;thead style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot; class=&quot;firstRow&quot;&gt;&lt;th width=&quot;25%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;参数&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;15%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;类型&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;是否必填&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;10%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;最大长度&lt;/span&gt;&lt;/th&gt;&lt;th width=&quot;25%&quot; style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;描述&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;trade_no&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;64&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付宝交易号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;out_trade_no&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;64&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;商户订单号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;buyer_logon_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;100&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;买家支付宝账号&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;total_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;交易金额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;receipt_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;实收金额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;buyer_pay_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;选填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;买家付款的金额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;point_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;选填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;使用积分宝付款的金额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;invoice_amount&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;选填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;交易中可给用户开具发票的金额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;gmt_payment&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Date&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;32&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;交易支付时间&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;J_tableTr2 J_tableTrigger even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;icon-wrap J_tableIcon&quot; style=&quot;font-family: FontAwesome; text-decoration: inherit; -webkit-font-smoothing: antialiased; margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;fund_bill_list&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;TradeFundBill []&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;交易支付使用的资金渠道&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;card_balance&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;Price&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;选填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;11&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;支付宝卡余额&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;store_name&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;选填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;512&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;发生支付交易的商户门店名称&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;buyer_user_id&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;28&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;买家在支付宝的用户id&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;even&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;discount_goods_detail&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;String&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;必填&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;-&lt;/span&gt;&lt;/td&gt;&lt;td style=&quot;margin: 0px; padding: 3px; border-color: silver; border-collapse: collapse;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.8;&quot;&gt;本次交易支付所使用的单品券优惠的商品优惠信息&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;系统中配置如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;&amp;lt;?php$config&amp;nbsp;=&amp;nbsp;array&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//支付宝公钥
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;alipay_public_key&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDDI6d306Q8fIfCOaTXyiUeJHkrIvYISRcc73s3vF1ZT7XN8RNPwJxo8pWaJMmvyTn9N4HQ632qJBVHf8sxHi/fEsraprwCtzvzQETrNRwVxLO5jVmRGi60j8Ue1efIlzPXV9je9mkjzOmdssymZkh2QhUrCmZYI/FCEa3/cNMW0QIDAQAB&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//商户私钥
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;merchant_private_key&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;MIICXAIBAAKBgQCyffRONGd8Q/1kRh1cpsSRi360DXLHI7zxdPJGYe5HKDWF7u9b3zZU9erZpM90XE7gZRKsxIgOurH4uqhmVRbto3e+LiYOyNpd6As3Q427KCTIT7ajhHicZ6GWhegTUiVLqiuWLsauQcbI6DO4GEZrlvAdzus0WcJiJOxW02rxSQIDAQABAoGAXBJYyVaC4zj3Jph8YOStlR5N13bwdATdW/glWWT+0rnNEi90TQHRNvY7lNVNJgrPrTS182TVgjOPxmwSnebakhIuGIdPq99GLE4LGd5lKWTzkd84BMvhatfNsCCzcEVFqKg3tZd4t3fQ93FrILsnnZpLhiW53jIrStCkR3rx9OECQQDWMSHyc91hEVMQqVNasbGEicKWxhoDqjdm2lHkBx4mrB9JEZFDs6MxWdajf2/Qw+tgtpN3YBcCDw/HnGHhQtStAkEA1VTyjOdAwWode8X4fu0IPq9+E19mcVOAJjLBH46mropwgOdj3raqT/ThaKeaydjabsTAiY2J18HiTiyH+1bGjQJBAKgRJXH5OFxSG7uXIbCofYJiFi34g7EcfxxVcqxaaW4u4N2Uy0c0TXkL5T+lXzeQg8D/gfbJj0QuTVNzgdofdoECQBHYOznCFk6Xe8PguXqUhT4JG/iu4DjWjT+kuzbSjerHtcVylY4JpZFuoHRKoM4Fj6/4UUqwRjmABFgZrX4+sfkCQCNI8RCZ6yprh5kEOePo3uazAlNENP8dKkhgqChawdK77NzlJ727Nt23STHFx6NkhzyruJGQ5Vx1Lkl0wKuKbXM=&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//编码格式
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;charset&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;UTF-8&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//支付宝网关
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;gatewayUrl&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;https://openapi.alipay.com/gateway.do&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//应用ID
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;app_id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;2016061501500000&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//异步通知地址,只有扫码支付预下单可用
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;notify_url&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;http://www.fangbei.org/alipay/notify.html&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//最大查询重试次数
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;MaxQueryRetry&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;10&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//查询间隔
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;QueryDuration&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;quot;3&amp;quot;);&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;其中支付宝公钥就是在前面中复制保存的，直接复制到程序中即可，而商户私钥是之前OpenSSL中生成的私钥。APPID是该服务的id号。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;而这个异步通知将会接收扫码支付结果的通知。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h2 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); line-height: 1.8; font-size: 21px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t7&quot;&gt;&lt;/a&gt;五、条码支付、扫码支付、订单查询、退款申请&lt;/h2&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t8&quot;&gt;&lt;/a&gt;1. 条码支付&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;条码支付的参数配置如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;//&amp;nbsp;(必填)&amp;nbsp;商户网站订单系统中唯一订单号，64个字符以内，只能包含字母、数字、下划线，
//&amp;nbsp;需保证商户系统端不能重复，建议通过数据库sequence生成，$outTradeNo&amp;nbsp;=&amp;nbsp;&amp;quot;barpay&amp;quot;&amp;nbsp;.&amp;nbsp;date(&amp;#39;Ymdhis&amp;#39;)&amp;nbsp;.&amp;nbsp;mt_rand(100,&amp;nbsp;1000);$subject&amp;nbsp;=&amp;nbsp;&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;;$totalAmount&amp;nbsp;=&amp;nbsp;0.01;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;(必填)&amp;nbsp;订单总金额，单位为元，不能超过1亿元

//&amp;nbsp;(必填)&amp;nbsp;付款条码，用户支付宝钱包手机app点击“付款”产生的付款条码$authCode&amp;nbsp;=&amp;nbsp;$_POST[&amp;#39;auth_code&amp;#39;];&amp;nbsp;//28开头18位数字

//&amp;nbsp;支付超时，线下扫码交易定义为5分钟$timeExpress&amp;nbsp;=&amp;nbsp;&amp;quot;5m&amp;quot;;//&amp;nbsp;创建请求builder，设置请求参数$barPayRequestBuilder&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradePayContentBuilder();$barPayRequestBuilder-&amp;gt;setOutTradeNo($outTradeNo);$barPayRequestBuilder-&amp;gt;setTotalAmount($totalAmount);$barPayRequestBuilder-&amp;gt;setAuthCode($authCode);$barPayRequestBuilder-&amp;gt;setTimeExpress($timeExpress);$barPayRequestBuilder-&amp;gt;setSubject($subject);//&amp;nbsp;调用barPay方法获取当面付应答$barPay&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeService($config);$barPayResult&amp;nbsp;=&amp;nbsp;$barPay-&amp;gt;barPay($barPayRequestBuilder);switch&amp;nbsp;($barPayResult-&amp;gt;getTradeStatus())&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;SUCCESS&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝支付成功:&amp;quot;&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($barPayResult-&amp;gt;getResponse());&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;FAILED&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝支付失败!!!&amp;quot;&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!empty($barPayResult-&amp;gt;getResponse()))&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($barPayResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;UNKNOWN&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;系统异常，订单状态未知!!!&amp;quot;&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!empty($barPayResult-&amp;gt;getResponse()))&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($barPayResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;default:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;不支持的交易状态，交易返回异常!!!&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;
}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return;
}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;程序监测，最终提交的url如下&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;https://openapi.alipay.com/gateway.do?app_id=2016061501500000&amp;amp;version=1.0&amp;amp;format=json&amp;amp;sign_type=RSA&amp;amp;method=alipay.trade.pay&amp;amp;timestamp=2016-08-26+17%3A14%3A52&amp;amp;auth_token=&amp;amp;alipay_sdk=alipay-sdk-php-20160411&amp;amp;terminal_type=&amp;amp;terminal_info=&amp;amp;prod_code=&amp;amp;notify_url=&amp;amp;charset=UTF-8&amp;amp;app_auth_token=&amp;amp;sign=EMVoBAhPkW6B1m%2BoXytdbUpIxnIAq73jtiPhlH2VUYy4OcJQ2UiVTXWttw0y%2B7UEXHWILY8fYRDoNrJWSjBATrAqbGCLpPc4YBQSwtPCb%2F76d65dMQEyrEnk2sgcqhxCiJNKRoQjgAQmBQdHneerU7SwSNJ%2FfF%2F025yltZk5lzQ%3D&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;发送的json数据如下：&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;scene&amp;quot;:&amp;quot;bar_code&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;barpay20160826051452680&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:0.01,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;auth_code&amp;quot;:&amp;quot;289743098358423535&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;timeout_express&amp;quot;:&amp;quot;5m&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;subject&amp;quot;:&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;接收到的数据如下&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;alipay_trade_pay_response&amp;quot;:{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;code&amp;quot;:&amp;quot;10000&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;msg&amp;quot;:&amp;quot;Success&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_logon_id&amp;quot;:&amp;quot;118***@qq.com&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_pay_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_user_id&amp;quot;:&amp;quot;2088002364008751&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_bill_list&amp;quot;:[
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_channel&amp;quot;:&amp;quot;ALIPAYACCOUNT&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;],&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;gmt_payment&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;17:14:59&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;invoice_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;open_id&amp;quot;:&amp;quot;20880044751374809757987911112575&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;barpay20160826051452680&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;point_amount&amp;quot;:&amp;quot;0.00&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;receipt_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_no&amp;quot;:&amp;quot;2016082621001004750244100034&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;pEDeMwh6x73t9LmWrZpGnVb1npnKtODw6+8MDUTurNPVWXR1JHT+x3cRt2G4SDNHzxkJTzSpUXjNylsWisRTnQJJzqRP5XMujxmaAHP/d5xXeyWasDag5Cj7yGD7t80buDAsdE4eoqQ6ox7KzJ6LwKcphOX13tI+Ukt1dGCQS5o=&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t9&quot;&gt;&lt;/a&gt;2. 扫码支付&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;扫码支付的参数配置如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;//&amp;nbsp;(必填)&amp;nbsp;商户网站订单系统中唯一订单号，64个字符以内，只能包含字母、数字、下划线，
//&amp;nbsp;需保证商户系统端不能重复，建议通过数据库sequence生成，$outTradeNo&amp;nbsp;=&amp;nbsp;&amp;quot;qrpay&amp;quot;.date(&amp;#39;Ymdhis&amp;#39;).mt_rand(100,1000);$subject&amp;nbsp;=&amp;nbsp;&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;;$totalAmount&amp;nbsp;=&amp;nbsp;&amp;quot;0.01&amp;quot;;//&amp;nbsp;支付超时，线下扫码交易定义为5分钟$timeExpress&amp;nbsp;=&amp;nbsp;&amp;quot;5m&amp;quot;;//&amp;nbsp;创建请求builder，设置请求参数$qrPayRequestBuilder&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradePrecreateContentBuilder();$qrPayRequestBuilder-&amp;gt;setOutTradeNo($outTradeNo);$qrPayRequestBuilder-&amp;gt;setTotalAmount($totalAmount);$qrPayRequestBuilder-&amp;gt;setTimeExpress($timeExpress);$qrPayRequestBuilder-&amp;gt;setSubject($subject);//&amp;nbsp;调用qrPay方法获取当面付应答$qrPay&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeService($config);$qrPayResult&amp;nbsp;=&amp;nbsp;$qrPay-&amp;gt;qrPay($qrPayRequestBuilder);//&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;根据状态值进行业务处理switch&amp;nbsp;($qrPayResult-&amp;gt;getTradeStatus()){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;SUCCESS&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝创建订单二维码成功:&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;---------------------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$response&amp;nbsp;=&amp;nbsp;$qrPayResult-&amp;gt;getResponse();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$qrcode&amp;nbsp;=&amp;nbsp;$qrPay-&amp;gt;create_erweima($response-&amp;gt;qr_code);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$qrcode;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($response);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;FAILED&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝创建订单二维码失败!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($qrPayResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($qrPayResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;UNKNOWN&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;系统异常，状态未知!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($qrPayResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($qrPayResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;default:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;不支持的返回状态，创建订单二维码返回异常!!!&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;
}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;生成的提交请求URL如下&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;https://openapi.alipay.com/gateway.do?app_id=2016061501500000&amp;amp;version=1.0&amp;amp;format=json&amp;amp;sign_type=RSA&amp;amp;method=alipay.trade.precreate&amp;amp;timestamp=2016-08-26+17%3A38%3A13&amp;amp;auth_token=&amp;amp;alipay_sdk=alipay-sdk-php-20160411&amp;amp;terminal_type=&amp;amp;terminal_info=&amp;amp;prod_code=&amp;amp;notify_url=http%3A%2F%2F123.daoqidata.com%2Fweixin%2Frawpost.php&amp;amp;charset=UTF-8&amp;amp;app_auth_token=&amp;amp;sign=ayYiJRZ63RomVEt8Ayz58Uiyv3y5IrbbX8CTfX6zNHkT%2Fu11U7ISUYWCXjrwrwCo2Oq2tdo%2FjtuhrBbDp5ULnTmuBBUktQDCCF53PF5yiUDGikxUPFYugeUrTg3gw4DqxOiNKM6ZB6MI0n%2F9M78a%2FnP8GtZ4WthyHIl%2B%2FozSyT4%3D&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;发送的json数据如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;timeout_express&amp;quot;:&amp;quot;5m&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;subject&amp;quot;:&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;}&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;返回的数据如下：&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;alipay_trade_precreate_response&amp;quot;:{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;code&amp;quot;:&amp;quot;10000&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;msg&amp;quot;:&amp;quot;Success&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;qr_code&amp;quot;:&amp;quot;https://qr.alipay.com/bax00885xbhszseo9l7p404d&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;VfNTGo2WMZ+2CE1L05lNYWtFn4inHXO/tUaBZIBHN4fPlXnCvyc9IhS8S7wa3FYw23G30luEPEHkZWobnfpUjILonmExZVElHv3ylINz+Q2mQ5M8Sb/d61YPvf4Bgy1OvlrT4D3H/i3judmzEDBrOyFN9kB9vSkKaYC+b6L41Zw=&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;其中的https://qr.alipay.com/bax00885xbhszseo9l7p404d 就是二维码链接地址，使用接口将其成二维码后如下所示。&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943828723048.png&quot; alt=&quot;&quot; style=&quot;border: 0px; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;当支付宝用户扫码的时候，接口通知将收到如下数据&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_id&amp;quot;:&amp;quot;4c2c04c3cc50e978d44212febe7c3f0lse&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;seller_email&amp;quot;:&amp;quot;pay***@fangbei.org&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_type&amp;quot;:&amp;quot;trade_status_sync&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;R0iRdYmSQ0+zuSUGLzkutHcR40hoOp+CcKojVBCMa1uji3rqQFe5XeHoJB1nMBCApE3zXPKhXMdLis109ngPbGy+NUEBR7YZjYuR/hXq3WXeYfZ8aiWLvloZHrF7dQWxDho/VHYexaLeqvRi/03m0HxrwhZKUOu1eS9wMgZOlqQ=&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_no&amp;quot;:&amp;quot;2016082621001004750241229810&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_id&amp;quot;:&amp;quot;2088002364008751&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;app_id&amp;quot;:&amp;quot;2016061501500000&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;gmt_create&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:20:37&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826062009757&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;seller_id&amp;quot;:&amp;quot;2088421202724253&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_time&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:20:37&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;subject&amp;quot;:&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_status&amp;quot;:&amp;quot;WAIT_BUYER_PAY&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;open_id&amp;quot;:&amp;quot;20880044751374809757987911112575&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign_type&amp;quot;:&amp;quot;RSA&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_logon_id&amp;quot;:&amp;quot;118***@qq.com&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;当用户输入密码付款成功之后，将收到如下数据&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_bill_list&amp;quot;:&amp;quot;[{&amp;quot;amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;quot;fundChannel&amp;quot;:&amp;quot;ALIPAYACCOUNT&amp;quot;}]&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;subject&amp;quot;:&amp;quot;方倍工作室-支付宝-当面付-扫码支付&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_no&amp;quot;:&amp;quot;2016082621001004750241229810&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;gmt_create&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:20:37&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_type&amp;quot;:&amp;quot;trade_status_sync&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826062009757&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;invoice_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;open_id&amp;quot;:&amp;quot;20880044751374809757987911112575&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;seller_id&amp;quot;:&amp;quot;2088421202724253&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_time&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:20:50&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_status&amp;quot;:&amp;quot;TRADE_SUCCESS&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;gmt_payment&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:20:50&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;seller_email&amp;quot;:&amp;quot;pay***@fangbei.org&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;receipt_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_id&amp;quot;:&amp;quot;2088002364008751&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;app_id&amp;quot;:&amp;quot;2016061501500000&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;notify_id&amp;quot;:&amp;quot;56f97611ee609f46384b188b409e75else&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_logon_id&amp;quot;:&amp;quot;118***@qq.com&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign_type&amp;quot;:&amp;quot;RSA&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_pay_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;nf/KJryACk0utqlNrnuYMiSnYw6HsxqpJPk2O5MhCZ+wZUVQbrD3sq5POO3GU7LSRoSiUUIO4JEYEL12Ek2+w3lTcLS9WEi60sYowPOcJEYGmVfNZbVR6+k7yO5au2WIkM3MKsxm2XxIB9xPMmRDACGhvqZ2BXUAQujkPk1FT0s=&amp;quot;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;point_amount&amp;quot;:&amp;quot;0.00&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t10&quot;&gt;&lt;/a&gt;3. 订单查询&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;订单查询的参数配置如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;////获取商户订单号$out_trade_no&amp;nbsp;=&amp;nbsp;trim($_POST[&amp;#39;out_trade_no&amp;#39;]);//第三方应用授权令牌,商户授权系统商开发模式下使用$appAuthToken&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;quot;;//根据真实值填写

//构造查询业务请求参数对象$queryContentBuilder&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeQueryContentBuilder();$queryContentBuilder-&amp;gt;setOutTradeNo($out_trade_no);$queryContentBuilder-&amp;gt;setAppAuthToken($appAuthToken);//初始化类对象，调用queryTradeResult方法获取查询应答$queryResponse&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeService($config);$queryResult&amp;nbsp;=&amp;nbsp;$queryResponse-&amp;gt;queryTradeResult($queryContentBuilder);//根据查询返回结果状态进行业务处理switch&amp;nbsp;($queryResult-&amp;gt;getTradeStatus()){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;SUCCESS&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝查询交易成功:&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($queryResult-&amp;gt;getResponse());&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;FAILED&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝查询交易失败或者交易已关闭!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($queryResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($queryResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;UNKNOWN&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;系统异常，订单状态未知!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($queryResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($queryResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;default:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;不支持的查询状态，交易返回异常!!!&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;
}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;最终提交的url如下&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;https://openapi.alipay.com/gateway.do?app_id=2016061501500000&amp;amp;version=1.0&amp;amp;format=json&amp;amp;sign_type=RSA&amp;amp;method=alipay.trade.query&amp;amp;timestamp=2016-08-26+18%3A27%3A07&amp;amp;auth_token=&amp;amp;alipay_sdk=alipay-sdk-php-20160411&amp;amp;terminal_type=&amp;amp;terminal_info=&amp;amp;prod_code=&amp;amp;notify_url=&amp;amp;charset=UTF-8&amp;amp;app_auth_token=&amp;amp;sign=eIuYJtes95quAN3X9eXbQzBa%2FCvm5QgQ0ToUsS8MSkCjhZACYpnU7ZT5MuD31lPZPFHVEjCKsdWiq4tuNtJPFPxirg7pkTiT09C%2Bz8PsUA844Y7hjkkX%2B4CVZcGtO11m3Ap0JECrtZW8hhJTE9bPY1v43X2BSL5Cp3Ulpac1FsM%3D&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;发送的json数据如下：&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;}&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;接收到的数据如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;alipay_trade_query_response&amp;quot;:{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;code&amp;quot;:&amp;quot;10000&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;msg&amp;quot;:&amp;quot;Success&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_logon_id&amp;quot;:&amp;quot;118***@qq.com&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_pay_amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_user_id&amp;quot;:&amp;quot;2088002364008751&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_bill_list&amp;quot;:[
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_channel&amp;quot;:&amp;quot;ALIPAYACCOUNT&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;],
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;invoice_amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;open_id&amp;quot;:&amp;quot;20880044751374809757987911112575&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;point_amount&amp;quot;:&amp;quot;0.00&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;receipt_amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;send_pay_date&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;17:38:58&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_no&amp;quot;:&amp;quot;2016082621001004750239053830&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_status&amp;quot;:&amp;quot;TRADE_SUCCESS&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;E2MxjdAhW/EqRFNkZgy/Y//dA5Cmb54Hnqa0cjBz+ZcFTULi1lvFms93onP7cpVK/fI7YxbkZTKBPk29o4aeWKXlSYCrT92domAyqahzYCA7/5A3Msc/awALYrFOdWyJJdlncWdFRN9hx52iVRIjxvLJ0hIMVIQqEDavG28HPbo=&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;h3 style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); white-space: normal; background-color: rgb(255, 255, 255); font-size: 16px; font-family: verdana, Arial, Helvetica, sans-serif;&quot;&gt;&lt;a style=&quot;color: rgb(51, 102, 153);&quot; name=&quot;t11&quot;&gt;&lt;/a&gt;4. 订单退款&lt;/h3&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;订单退款的参数配置如下&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;$out_trade_no&amp;nbsp;=&amp;nbsp;trim($_POST[&amp;#39;out_trade_no&amp;#39;]);$refund_amount&amp;nbsp;=&amp;nbsp;trim($_POST[&amp;#39;refund_amount&amp;#39;]);$out_request_no&amp;nbsp;=&amp;nbsp;trim($_POST[&amp;#39;out_request_no&amp;#39;]);//第三方应用授权令牌,商户授权系统商开发模式下使用$appAuthToken&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;quot;;//根据真实值填写

//创建退款请求builder,设置参数$refundRequestBuilder&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeRefundContentBuilder();$refundRequestBuilder-&amp;gt;setOutTradeNo($out_trade_no);$refundRequestBuilder-&amp;gt;setRefundAmount($refund_amount);$refundRequestBuilder-&amp;gt;setOutRequestNo($out_request_no);$refundRequestBuilder-&amp;gt;setAppAuthToken($appAuthToken);//初始化类对象,调用refund获取退款应答$refundResponse&amp;nbsp;=&amp;nbsp;new&amp;nbsp;AlipayTradeService($config);$refundResult&amp;nbsp;=&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$refundResponse-&amp;gt;refund($refundRequestBuilder);//根据交易状态进行处理switch&amp;nbsp;($refundResult-&amp;gt;getTradeStatus()){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;SUCCESS&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝退款成功:&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($refundResult-&amp;gt;getResponse());&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;FAILED&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;支付宝退款失败!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($refundResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($refundResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;case&amp;nbsp;&amp;quot;UNKNOWN&amp;quot;:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;系统异常，订单状态未知!!!&amp;quot;.&amp;quot;&amp;lt;br&amp;gt;--------------------------&amp;lt;br&amp;gt;&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!empty($refundResult-&amp;gt;getResponse())){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r($refundResult-&amp;gt;getResponse());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;default:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;不支持的交易状态，交易返回异常!!!&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;
}&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;最终提交的url如下&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;https://openapi.alipay.com/gateway.do?app_id=2016061501500000&amp;amp;version=1.0&amp;amp;format=json&amp;amp;sign_type=RSA&amp;amp;method=alipay.trade.refund&amp;amp;timestamp=2016-08-26+18%3A47%3A35&amp;amp;auth_token=&amp;amp;alipay_sdk=alipay-sdk-php-20160411&amp;amp;terminal_type=&amp;amp;terminal_info=&amp;amp;prod_code=&amp;amp;notify_url=&amp;amp;charset=UTF-8&amp;amp;app_auth_token=&amp;amp;sign=Y1c5qWglAQ0t3brViEtqFnIJRQMn%2Fl9vMla1xgXKcExercJopMyS2rPOHaw%2F2PJEOKJC7r9qAfDGkNq4LHzXhBrD8sxLPqImPS6aWcW9p8s%2FzC2oQCJnLfaPx6lh8veHarj4WzDayeZLA48ttoQLjuMGPrITgOXYjHHyUKdBqSs%3D&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;发送的json数据如下：&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;refund_amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_request_no&amp;quot;:&amp;quot;1&amp;quot;}&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); margin: 10px auto; padding-top: 0px; padding-bottom: 0px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 25.2px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;接收到的数据如下&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.8;&quot;&gt;&lt;a target=&quot;_blank&quot; title=&quot;复制代码&quot; style=&quot;color: rgb(51, 102, 153); margin: 0px; padding: 0px; border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483943827510328.gif&quot; alt=&quot;复制代码&quot; style=&quot;border: none !important; max-width: 900px; margin: 0px; padding: 0px;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;white-space: pre-wrap; word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;alipay_trade_refund_response&amp;quot;:{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;code&amp;quot;:&amp;quot;10000&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;msg&amp;quot;:&amp;quot;Success&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_logon_id&amp;quot;:&amp;quot;123***@qq.com&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;buyer_user_id&amp;quot;:&amp;quot;2088002364008751&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_change&amp;quot;:&amp;quot;Y&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;gmt_refund_pay&amp;quot;:&amp;quot;2016-08-26&amp;nbsp;18:47:41&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;open_id&amp;quot;:&amp;quot;20880044751374809757987911112575&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;out_trade_no&amp;quot;:&amp;quot;qrpay20160826053813582&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;refund_detail_item_list&amp;quot;:[
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;amount&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;fund_channel&amp;quot;:&amp;quot;ALIPAYACCOUNT&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;],
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;refund_fee&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;send_back_fee&amp;quot;:&amp;quot;0.01&amp;quot;,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;trade_no&amp;quot;:&amp;quot;2016082621001004750239053830&amp;quot;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;sign&amp;quot;:&amp;quot;YDNSMpX5y0rQEs0ZbfNxRFVIp8hf0W30OR74cMtwKVPO2BYee6TQC+pbnwESSZ2XSGLozTyy7o+SIa07L+FMhDv/PTt6QX1mVgQv7RhzoDkls0zDRS/5/fy9Oyj01XS1wb8Od/93iNLZDkd2yw9g0He6qGYlpcXutkmwuASd7BM=&amp;quot;}&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483943850','1'),
('23','1','PhpExcel中文帮助手册|PhpExcel使用方法','1','PhpExcel中文帮助手册|PhpExcel使用方法','&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;box-sizing: border-box; padding-right: 5px; line-height: 1.5 !important;&quot;&gt;&lt;a title=&quot;复制代码&quot; style=&quot;box-sizing: border-box; color: rgb(52, 104, 164); border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483944781723569.gif&quot; alt=&quot;复制代码&quot; style=&quot;box-sizing: border-box; max-width: 900px; border: none !important;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;margin-top: 0px; margin-bottom: 0px; white-space: pre-wrap; word-wrap: break-word; box-sizing: border-box; font-size: 12px; font-family: &amp;quot;Courier New&amp;quot; !important;&quot;&gt;下面是总结的几个使用方法include&amp;nbsp;&amp;#39;PHPExcel.php&amp;#39;;include&amp;nbsp;&amp;#39;PHPExcel/Writer/Excel2007.php&amp;#39;;//或者include&amp;nbsp;&amp;#39;PHPExcel/Writer/Excel5.php&amp;#39;;&amp;nbsp;用于输出.xls的创建一个excel$objPHPExcel&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel();
保存excel—2007格式$objWriter&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel_Writer_Excel2007($objPHPExcel);//或者$objWriter&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel_Writer_Excel5($objPHPExcel);&amp;nbsp;非2007格式$objWriter-&amp;gt;save(&amp;quot;xxx.xlsx&amp;quot;);
直接输出到浏览器$objWriter&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel_Writer_Excel5($objPHPExcel);header(&amp;quot;Pragma:&amp;nbsp;public&amp;quot;);header(&amp;quot;Expires:&amp;nbsp;0″);
header(&amp;quot;Cache-Control:must-revalidate,&amp;nbsp;post-check=0,&amp;nbsp;pre-check=0″);header(&amp;quot;Content-Type:application/force-download&amp;quot;);header(&amp;quot;Content-Type:application/vnd.ms-execl&amp;quot;);header(&amp;quot;Content-Type:application/octet-stream&amp;quot;);header(&amp;quot;Content-Type:application/download&amp;quot;);;header(&amp;#39;Content-Disposition:attachment;filename=&amp;quot;resume.xls&amp;quot;&amp;#39;);header(&amp;quot;Content-Transfer-Encoding:binary&amp;quot;);$objWriter-&amp;gt;save(&amp;#39;php://output&amp;#39;);
——————————————————————————————————————–
设置excel的属性：
创建人$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setCreator(&amp;quot;Maarten&amp;nbsp;Balliauw&amp;quot;);
最后修改人$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setLastModifiedBy(&amp;quot;Maarten&amp;nbsp;Balliauw&amp;quot;);
标题$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setTitle(&amp;quot;Office&amp;nbsp;2007&amp;nbsp;XLSX&amp;nbsp;Test&amp;nbsp;Document&amp;quot;);
题目$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setSubject(&amp;quot;Office&amp;nbsp;2007&amp;nbsp;XLSX&amp;nbsp;Test&amp;nbsp;Document&amp;quot;);
描述$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setDescription(&amp;quot;Test&amp;nbsp;document&amp;nbsp;for&amp;nbsp;Office&amp;nbsp;2007&amp;nbsp;XLSX,&amp;nbsp;generated&amp;nbsp;using&amp;nbsp;PHP&amp;nbsp;classes.&amp;quot;);
关键字$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setKeywords(&amp;quot;office&amp;nbsp;2007&amp;nbsp;openxml&amp;nbsp;php&amp;quot;);
种类$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setCategory(&amp;quot;Test&amp;nbsp;result&amp;nbsp;file&amp;quot;);
——————————————————————————————————————–
设置当前的sheet$objPHPExcel-&amp;gt;setActiveSheetIndex(0);
设置sheet的name$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setTitle(&amp;#39;Simple&amp;#39;);
设置单元格的值$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A1&amp;#39;,&amp;nbsp;&amp;#39;String&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A2&amp;#39;,&amp;nbsp;12);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A3&amp;#39;,&amp;nbsp;true);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;C5&amp;#39;,&amp;nbsp;&amp;#39;=SUM(C2:C4)&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;B8&amp;#39;,&amp;nbsp;&amp;#39;=MIN(B2:C5)&amp;#39;);
合并单元格$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;mergeCells(&amp;#39;A18:E22&amp;#39;);
分离单元格$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;unmergeCells(&amp;#39;A28:B28&amp;#39;);

保护cell$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getProtection()-&amp;gt;setSheet(true);&amp;nbsp;//&amp;nbsp;Needs&amp;nbsp;to&amp;nbsp;be&amp;nbsp;set&amp;nbsp;to&amp;nbsp;true&amp;nbsp;in&amp;nbsp;order&amp;nbsp;to&amp;nbsp;enable&amp;nbsp;any&amp;nbsp;worksheet&amp;nbsp;protection!$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;protectCells(&amp;#39;A3:E13&amp;#39;,&amp;nbsp;&amp;#39;PHPExcel&amp;#39;);
设置格式//&amp;nbsp;Set&amp;nbsp;cell&amp;nbsp;number&amp;nbsp;formatsecho&amp;nbsp;date(&amp;#39;H:i:s&amp;#39;)&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;nbsp;Set&amp;nbsp;cell&amp;nbsp;number&amp;nbsp;formats\\n&amp;quot;;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;)-&amp;gt;getNumberFormat()-&amp;gt;setFormatCode(PHPExcel_Style_NumberFormat::FORMAT_CURRENCY_EUR_SIMPLE);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;duplicateStyle(&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;),&amp;nbsp;&amp;#39;E5:E13&amp;#39;&amp;nbsp;);
设置宽width//&amp;nbsp;Set&amp;nbsp;column&amp;nbsp;widths$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getColumnDimension(&amp;#39;B&amp;#39;)-&amp;gt;setAutoSize(true);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getColumnDimension(&amp;#39;D&amp;#39;)-&amp;gt;setWidth(12);
设置font$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setName(&amp;#39;Candara&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setSize(20);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setUnderline(PHPExcel_Style_Font::UNDERLINE_SINGLE);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;getColor()-&amp;gt;setARGB(PHPExcel_Style_Color::COLOR_WHITE);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E1&amp;#39;)-&amp;gt;getFont()-&amp;gt;getColor()-&amp;gt;setARGB(PHPExcel_Style_Color::COLOR_WHITE);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);
设置align$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D11&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D12&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A18&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_JUSTIFY);//垂直居中$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A18&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setVertical(PHPExcel_Style_Alignment::VERTICAL_CENTER);
设置column的border$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;C4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);
设置border的color$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getLeft()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getBottom()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getBottom()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getRight()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);
设置填充颜色$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A1&amp;#39;)-&amp;gt;getFill()-&amp;gt;setFillType(PHPExcel_Style_Fill::FILL_SOLID);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A1&amp;#39;)-&amp;gt;getFill()-&amp;gt;getStartColor()-&amp;gt;setARGB(&amp;#39;FF808080&amp;#39;);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFill()-&amp;gt;setFillType(PHPExcel_Style_Fill::FILL_SOLID);$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFill()-&amp;gt;getStartColor()-&amp;gt;setARGB(&amp;#39;FF808080&amp;#39;);
加图片$objDrawing&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel_Worksheet_Drawing();$objDrawing-&amp;gt;setName(&amp;#39;Logo&amp;#39;);$objDrawing-&amp;gt;setDescription(&amp;#39;Logo&amp;#39;);$objDrawing-&amp;gt;setPath(&amp;#39;./images/officelogo.jpg&amp;#39;);$objDrawing-&amp;gt;setHeight(36);$objDrawing-&amp;gt;setWorksheet($objPHPExcel-&amp;gt;getActiveSheet());$objDrawing&amp;nbsp;=&amp;nbsp;new&amp;nbsp;PHPExcel_Worksheet_Drawing();$objDrawing-&amp;gt;setName(&amp;#39;Paid&amp;#39;);$objDrawing-&amp;gt;setDescription(&amp;#39;Paid&amp;#39;);$objDrawing-&amp;gt;setPath(&amp;#39;./images/paid.png&amp;#39;);$objDrawing-&amp;gt;setCoordinates(&amp;#39;B15&amp;#39;);$objDrawing-&amp;gt;setOffsetX(110);$objDrawing-&amp;gt;setRotation(25);$objDrawing-&amp;gt;getShadow()-&amp;gt;setVisible(true);$objDrawing-&amp;gt;getShadow()-&amp;gt;setDirection(45);$objDrawing-&amp;gt;setWorksheet($objPHPExcel-&amp;gt;getActiveSheet());//处理中文输出问题需要将字符串转化为UTF-8编码，才能正常输出，否则中文字符将输出为空白，如下处理：&amp;nbsp;$str&amp;nbsp;&amp;nbsp;=&amp;nbsp;iconv(&amp;#39;gb2312&amp;#39;,&amp;nbsp;&amp;#39;utf-8&amp;#39;,&amp;nbsp;$str);
或者你可以写一个函数专门处理中文字符串：function&amp;nbsp;convertUTF8($str)
{&amp;nbsp;&amp;nbsp;&amp;nbsp;if(empty($str))&amp;nbsp;return&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;&amp;nbsp;iconv(&amp;#39;gb2312&amp;#39;,&amp;nbsp;&amp;#39;utf-8&amp;#39;,&amp;nbsp;$str);
}//从数据库输出数据处理方式从数据库读取数据如：$db&amp;nbsp;=&amp;nbsp;new&amp;nbsp;Mysql($dbconfig);$sql&amp;nbsp;=&amp;nbsp;&amp;quot;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;&amp;nbsp;表名&amp;quot;;$row&amp;nbsp;=&amp;nbsp;$db-&amp;gt;GetAll($sql);&amp;nbsp;&amp;nbsp;//&amp;nbsp;$row&amp;nbsp;为二维数组$count&amp;nbsp;=&amp;nbsp;count($row);for&amp;nbsp;($i&amp;nbsp;=&amp;nbsp;2;&amp;nbsp;$i&amp;nbsp;&amp;lt;=&amp;nbsp;$count+1;&amp;nbsp;$i++)&amp;nbsp;{&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][1]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;B&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][2]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;C&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][3]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;D&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][4]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;E&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8(date(&amp;quot;Y-m-d&amp;quot;,&amp;nbsp;$row[$i-2][5])));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;F&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][6]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;G&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][7]));&amp;nbsp;$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;H&amp;#39;&amp;nbsp;.&amp;nbsp;$i,&amp;nbsp;convertUTF8($row[$i-2][8]));
}
&amp;nbsp;
在默认sheet后，创建一个worksheetecho&amp;nbsp;date(&amp;#39;H:i:s&amp;#39;)&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;nbsp;Create&amp;nbsp;new&amp;nbsp;Worksheet&amp;nbsp;object\\n&amp;quot;;$objPHPExcel-&amp;gt;createSheet();$objWriter&amp;nbsp;=&amp;nbsp;PHPExcel_IOFactory::createWriter($objExcel,&amp;nbsp;&amp;#39;Excel5&amp;#39;);$objWriter-save(&amp;#39;php://output&amp;#39;);&lt;/pre&gt;&lt;p&gt;&lt;span class=&quot;cnblogs_code_copy&quot; style=&quot;box-sizing: border-box; padding-right: 5px; line-height: 1.5 !important;&quot;&gt;&lt;a title=&quot;复制代码&quot; style=&quot;box-sizing: border-box; color: rgb(52, 104, 164); border: none !important;&quot;&gt;&lt;img src=&quot;/tp3/Public/Upload/image/20170109/1483944781723569.gif&quot; alt=&quot;复制代码&quot; style=&quot;box-sizing: border-box; max-width: 900px; border: none !important;&quot;/&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1483944791','1'),
('24','1','正则表达式','1','正则表达式','&lt;p&gt;1. &amp;nbsp; &amp;nbsp;平时做网站经常要用正则表达式，下面是一些讲解和例子，仅供大家参考和修改使用：&lt;/p&gt;&lt;p&gt;2. &amp;nbsp; &amp;nbsp;&amp;quot;^\\d+$&amp;quot;　　//非负整数（正整数 + 0） &amp;nbsp;&lt;/p&gt;&lt;p&gt;3. &amp;nbsp; &amp;nbsp;&amp;quot;^[0-9]*[1-9][0-9]*$&amp;quot;　　//正整数 &amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p&gt;4. &amp;nbsp; &amp;nbsp;&amp;quot;^((-d+)|(0+))$&amp;quot;　　//非正整数（负整数 + 0）&lt;/p&gt;&lt;p&gt;5. &amp;nbsp; &amp;nbsp;&amp;quot;^-[0-9]*[1-9][0-9]*$&amp;quot;　　//负整数&lt;/p&gt;&lt;p&gt;6. &amp;nbsp; &amp;nbsp;&amp;quot;^-?d+$&amp;quot;　　　　//整数&lt;/p&gt;&lt;p&gt;7. &amp;nbsp; &amp;nbsp;&amp;quot;^d+(.d+)?$&amp;quot;　　//非负浮点数（正浮点数 + 0）&lt;/p&gt;&lt;p&gt;8. &amp;nbsp; &amp;nbsp;&amp;quot;^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$&amp;quot;　　//正浮点数&lt;/p&gt;&lt;p&gt;9. &amp;nbsp; &amp;nbsp;&amp;quot;^((-d+(.d+)?)|(0+(.0+)?))$&amp;quot;　　//非正浮点数（负浮点数 + 0）&lt;/p&gt;&lt;p&gt;10. &amp;nbsp; &amp;nbsp;&amp;quot;^(-(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*)))$&amp;quot;　　//负浮点数&lt;/p&gt;&lt;p&gt;11. &amp;nbsp; &amp;nbsp;&amp;quot;^(-?d+)(.d+)?$&amp;quot;　　//浮点数&lt;/p&gt;&lt;p&gt;12. &amp;nbsp; &amp;nbsp;&amp;quot;^[A-Za-z]+$&amp;quot;　　//由26个英文字母组成的字符串&lt;/p&gt;&lt;p&gt;13. &amp;nbsp; &amp;nbsp;&amp;quot;^[A-Z]+$&amp;quot;　　//由26个英文字母的大写组成的字符串&lt;/p&gt;&lt;p&gt;14. &amp;nbsp; &amp;nbsp;&amp;quot;^[a-z]+$&amp;quot;　　//由26个英文字母的小写组成的字符串&lt;/p&gt;&lt;p&gt;15. &amp;nbsp; &amp;nbsp;&amp;quot;^[A-Za-z0-9]+$&amp;quot;　　//由数字和26个英文字母组成的字符串&lt;/p&gt;&lt;p&gt;16. &amp;nbsp; &amp;nbsp;&amp;quot;^w+$&amp;quot;　　//由数字、26个英文字母或者下划线组成的字符串&lt;/p&gt;&lt;p&gt;17. &amp;nbsp; &amp;nbsp;&amp;quot;^[w-]+(.[w-]+)*@[w-]+(.[w-]+)+$&amp;quot;　　　　//email地址&lt;/p&gt;&lt;p&gt;18. &amp;nbsp; &amp;nbsp;&amp;quot;^[a-zA-z]+://(w+(-w+)*)(.(w+(-w+)*))*(?S*)?$&amp;quot;　　//url&lt;/p&gt;&lt;p&gt;19. &amp;nbsp; &amp;nbsp;/^(d{2}|d{4})-((0([1-9]{1}))|(1[1|2]))-(([0-2]([1-9]{1}))|(3[0|1]))$/ &amp;nbsp; // &amp;nbsp;年-月-日&lt;/p&gt;&lt;p&gt;20. &amp;nbsp; &amp;nbsp;/^((0([1-9]{1}))|(1[1|2]))/(([0-2]([1-9]{1}))|(3[0|1]))/(d{2}|d{4})$/ &amp;nbsp; // 月/日/年&lt;/p&gt;&lt;p&gt;21. &amp;nbsp; &amp;nbsp;&amp;quot;^([w-.]+)@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.)|(([w-]+.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(]?)$&amp;quot; &amp;nbsp; //Emil&lt;/p&gt;&lt;p&gt;22. &amp;nbsp; &amp;nbsp;/^((+?[0-9]{2,4}-[0-9]{3,4}-)|([0-9]{3,4}-))?([0-9]{7,8})(-[0-9]+)?$/ &amp;nbsp; &amp;nbsp; //电话号码&lt;/p&gt;&lt;p&gt;23. &amp;nbsp; &amp;nbsp;&amp;quot;^(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5])$&amp;quot; &amp;nbsp; //IP地址&lt;/p&gt;&lt;p&gt;24. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;25. &amp;nbsp; &amp;nbsp;匹配中文字符的正则表达式： [u4e00-u9fa5] 顺平注: 应该 $reg=&amp;#39;/[\\x{4e00}-\\x{9fa5}]/iu&amp;#39;;&amp;nbsp;&lt;/p&gt;&lt;p&gt;26. &amp;nbsp; &amp;nbsp;匹配双字节字符(包括汉字在内)：[^x00-xff]&lt;/p&gt;&lt;p&gt;27. &amp;nbsp; &amp;nbsp;匹配空行的正则表达式： [s| ]*&lt;/p&gt;&lt;p&gt;28. &amp;nbsp; &amp;nbsp;匹配HTML标记的正则表达式：/&amp;lt;(.*)&amp;gt;.*&amp;lt;/1&amp;gt;|&amp;lt;(.*) /&amp;gt;/&lt;/p&gt;&lt;p&gt;29. &amp;nbsp; &amp;nbsp;匹配首尾空格的正则表达式：(^s*)|(s*$)&lt;/p&gt;&lt;p&gt;30. &amp;nbsp; &amp;nbsp;匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*&lt;/p&gt;&lt;p&gt;31. &amp;nbsp; &amp;nbsp;匹配网址URL的正则表达式：^[a-zA-z]+://(\\w+(-\\w+)*)(\\.(\\w+(-\\w+)*))*(\\?\\S*)?$&lt;/p&gt;&lt;p&gt;32. &amp;nbsp; &amp;nbsp;匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$&lt;/p&gt;&lt;p&gt;33. &amp;nbsp; &amp;nbsp;匹配国内电话号码：(d{3}-|d{4}-)?(d{8}|d{7})?&lt;/p&gt;&lt;p&gt;34. &amp;nbsp; &amp;nbsp;匹配腾讯QQ号：^[1-9]*[1-9][0-9]*$&lt;/p&gt;&lt;p&gt;35. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;36. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;37. &amp;nbsp; &amp;nbsp;元字符及其在正则表达式上下文中的行为：&lt;/p&gt;&lt;p&gt;38. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;39. &amp;nbsp; &amp;nbsp;将下一个字符标记为一个特殊字符、或一个原义字符、或一个后向引用、或一个八进制转义符。&lt;/p&gt;&lt;p&gt;40. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;41. &amp;nbsp; &amp;nbsp;^ 匹配输入字符串的开始位置。如果设置了 RegExp 对象的Multiline 属性，^ 也匹配 ’ ’ 或 ’ ’ 之后的位置。&lt;/p&gt;&lt;p&gt;42. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;43. &amp;nbsp; &amp;nbsp;$ 匹配输入字符串的结束位置。如果设置了 RegExp 对象的Multiline 属性，$ 也匹配 ’ ’ 或 ’ ’ 之前的位置。&lt;/p&gt;&lt;p&gt;44. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;45. &amp;nbsp; &amp;nbsp;* 匹配前面的子表达式零次或多次。&lt;/p&gt;&lt;p&gt;46. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;47. &amp;nbsp; &amp;nbsp;+ 匹配前面的子表达式一次或多次。+ 等价于 {1,}。&lt;/p&gt;&lt;p&gt;48. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;49. &amp;nbsp; &amp;nbsp;? 匹配前面的子表达式零次或一次。? 等价于 {0,1}。&lt;/p&gt;&lt;p&gt;50. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;51. &amp;nbsp; &amp;nbsp;{n} n 是一个非负整数，匹配确定的n 次。&lt;/p&gt;&lt;p&gt;52. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;53. &amp;nbsp; &amp;nbsp;{n,} n 是一个非负整数，至少匹配n 次。&lt;/p&gt;&lt;p&gt;54. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;55. &amp;nbsp; &amp;nbsp;{n,m} m 和 n 均为非负整数，其中n &amp;lt;= m。最少匹配 n 次且最多匹配 m 次。在逗号和两个数之间不能有空格。&lt;/p&gt;&lt;p&gt;56. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;57. &amp;nbsp; &amp;nbsp;? 当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。&lt;/p&gt;&lt;p&gt;58. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;59. &amp;nbsp; &amp;nbsp;. 匹配除 &amp;quot; &amp;quot; 之外的任何单个字符。要匹配包括 ’ ’ 在内的任何字符，请使用象 ’[. ]’ 的模式。&lt;/p&gt;&lt;p&gt;60. &amp;nbsp; &amp;nbsp;(pattern) 匹配pattern 并获取这一匹配。&lt;/p&gt;&lt;p&gt;61. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;62. &amp;nbsp; &amp;nbsp;(?:pattern) 匹配pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。&lt;/p&gt;&lt;p&gt;63. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;64. &amp;nbsp; &amp;nbsp;(?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。&lt;/p&gt;&lt;p&gt;65. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;66. &amp;nbsp; &amp;nbsp;(?!pattern) 负向预查，与(?=pattern)作用相反&lt;/p&gt;&lt;p&gt;67. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;68. &amp;nbsp; &amp;nbsp;x|y 匹配 x 或 y。&lt;/p&gt;&lt;p&gt;69. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;70. &amp;nbsp; &amp;nbsp;[xyz] 字符集合。&lt;/p&gt;&lt;p&gt;71. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;72. &amp;nbsp; &amp;nbsp;[^xyz] 负值字符集合。&lt;/p&gt;&lt;p&gt;73. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;74. &amp;nbsp; &amp;nbsp;[a-z] 字符范围，匹配指定范围内的任意字符。&lt;/p&gt;&lt;p&gt;75. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;76. &amp;nbsp; &amp;nbsp;[^a-z] 负值字符范围，匹配任何不在指定范围内的任意字符。&lt;/p&gt;&lt;p&gt;77. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;78. &amp;nbsp; &amp;nbsp; 匹配一个单词边界，也就是指单词和空格间的位置。&lt;/p&gt;&lt;p&gt;79. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;80. &amp;nbsp; &amp;nbsp;B 匹配非单词边界。&lt;/p&gt;&lt;p&gt;81. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;82. &amp;nbsp; &amp;nbsp;cx 匹配由x指明的控制字符。&lt;/p&gt;&lt;p&gt;83. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;84. &amp;nbsp; &amp;nbsp;d 匹配一个数字字符。等价于 [0-9]。&lt;/p&gt;&lt;p&gt;85. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;86. &amp;nbsp; &amp;nbsp;D 匹配一个非数字字符。等价于 [^0-9]。&lt;/p&gt;&lt;p&gt;87. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;88. &amp;nbsp; &amp;nbsp;f 匹配一个换页符。等价于 x0c 和 cL。&lt;/p&gt;&lt;p&gt;89. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;90. &amp;nbsp; &amp;nbsp;匹配一个换行符。等价于 x0a 和 cJ。&lt;/p&gt;&lt;p&gt;91. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;92. &amp;nbsp; &amp;nbsp;匹配一个回车符。等价于 x0d 和 cM。&lt;/p&gt;&lt;p&gt;93. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;94. &amp;nbsp; &amp;nbsp;s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ f v]。&lt;/p&gt;&lt;p&gt;95. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;96. &amp;nbsp; &amp;nbsp;S 匹配任何非空白字符。等价于 [^ f v]。&lt;/p&gt;&lt;p&gt;97. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;98. &amp;nbsp; &amp;nbsp;匹配一个制表符。等价于 x09 和 cI。&lt;/p&gt;&lt;p&gt;99. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;100. &amp;nbsp; &amp;nbsp;v 匹配一个垂直制表符。等价于 x0b 和 cK。&lt;/p&gt;&lt;p&gt;101. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;102. &amp;nbsp; &amp;nbsp;w 匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。&lt;/p&gt;&lt;p&gt;103. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;104. &amp;nbsp; &amp;nbsp;W 匹配任何非单词字符。等价于 ’[^A-Za-z0-9_]’。&lt;/p&gt;&lt;p&gt;105. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;106. &amp;nbsp; &amp;nbsp;xn 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。&lt;/p&gt;&lt;p&gt;107. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;108. &amp;nbsp; &amp;nbsp;um 匹配 num，其中num是一个正整数。对所获取的匹配的引用。&lt;/p&gt;&lt;p&gt;109. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;110. &amp;nbsp; &amp;nbsp;标识一个八进制转义值或一个后向引用。如果 之前至少 n 个获取的子表达式，则 n 为后向引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值。&lt;/p&gt;&lt;p&gt;111. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;112. &amp;nbsp; &amp;nbsp;m 标识一个八进制转义值或一个后向引用。如果 m 之前至少有is preceded by at least nm 个获取得子表达式，则 nm 为后向引用。如果 m 之前至少有 n 个获取，则 n 为一个后跟文字 m 的后向引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 m 将匹配八进制转义值 nm。&lt;/p&gt;&lt;p&gt;113. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;114. &amp;nbsp; &amp;nbsp;ml 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。&lt;/p&gt;&lt;p&gt;115. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;116. &amp;nbsp; &amp;nbsp;un 匹配 n，其中 n 是一个用四个十六进制数字表示的Unicode字符。&lt;/p&gt;&lt;p&gt;117. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;118. &amp;nbsp; &amp;nbsp;匹配中文字符的正则表达式： [u4e00-u9fa5]&lt;/p&gt;&lt;p&gt;119. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;120. &amp;nbsp; &amp;nbsp;匹配双字节字符(包括汉字在内)：[^x00-xff]&lt;/p&gt;&lt;p&gt;121. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;122. &amp;nbsp; &amp;nbsp;匹配空行的正则表达式：n[s| ]*r&lt;/p&gt;&lt;p&gt;123. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;124. &amp;nbsp; &amp;nbsp;匹配HTML标记的正则表达式：/&amp;lt;(.*)&amp;gt;.*&amp;lt;/1&amp;gt;|&amp;lt;(.*) /&amp;gt;/&lt;/p&gt;&lt;p&gt;125. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;126. &amp;nbsp; &amp;nbsp;匹配首尾空格的正则表达式：(^s*)|(s*$)&lt;/p&gt;&lt;p&gt;127. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;128. &amp;nbsp; &amp;nbsp;匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*&lt;/p&gt;&lt;p&gt;129. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;130. &amp;nbsp; &amp;nbsp;匹配网址URL的正则表达式：http://([w-]+.)+[w-]+(/[w- ./?%&amp;amp;=]*)?&lt;/p&gt;&lt;p&gt;131. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;132. &amp;nbsp; &amp;nbsp;利用正则表达式限制网页表单里的文本框输入内容：&lt;/p&gt;&lt;p&gt;133. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;134. &amp;nbsp; &amp;nbsp;用正则表达式限制只能输入中文：onkeyup=&amp;quot;value=value.replace(/[^u4E00-u9FA5]/g,)&amp;quot; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; onbeforepaste=&amp;quot;clipboardData.setData(text,clipboardData.getData(text).replace(/[^u4E00-u9FA5]/g,))&amp;quot;&lt;/p&gt;&lt;p&gt;135. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;136. &amp;nbsp; &amp;nbsp;用正则表达式限制只能输入全角字符： onkeyup=&amp;quot;value=value.replace(/[^uFF00-uFFFF]/g,)&amp;quot; onbeforepaste=&amp;quot;clipboardData.setData(text,clipboardData.getData(text).replace(/[^uFF00-uFFFF]/g,))&amp;quot;&lt;/p&gt;&lt;p&gt;137. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;138. &amp;nbsp; &amp;nbsp;用正则表达式限制只能输入数字：onkeyup=&amp;quot;value=value.replace(/[^d]/g,) &amp;quot;onbeforepaste=&amp;quot;clipboardData.setData(text,clipboardData.getData(text).replace(/[^d]/g,))&amp;quot;&lt;/p&gt;&lt;p&gt;139. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;140. &amp;nbsp; &amp;nbsp;用正则表达式限制只能输入数字和英文：onkeyup=&amp;quot;value=value.replace(/[W]/g,) &amp;quot;onbeforepaste=&amp;quot;clipboardData.setData(text,clipboardData.getData(text).replace(/[^d]/g,))&amp;quot;&lt;/p&gt;&lt;p&gt;141. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;142. &amp;nbsp; &amp;nbsp;=========常用正则式&lt;/p&gt;&lt;p&gt;143. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;144. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;145. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;146. &amp;nbsp; &amp;nbsp;匹配中文字符的正则表达式： [u4e00-u9fa5]&lt;/p&gt;&lt;p&gt;147. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;148. &amp;nbsp; &amp;nbsp;匹配双字节字符(包括汉字在内)：[^x00-xff]&lt;/p&gt;&lt;p&gt;149. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;150. &amp;nbsp; &amp;nbsp;匹配空行的正则表达式： [s| ]*&lt;/p&gt;&lt;p&gt;151. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;152. &amp;nbsp; &amp;nbsp;匹配HTML标记的正则表达式：/&amp;lt;(.*)&amp;gt;.*&amp;lt;/1&amp;gt;|&amp;lt;(.*) /&amp;gt;/&lt;/p&gt;&lt;p&gt;153. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;154. &amp;nbsp; &amp;nbsp;匹配首尾空格的正则表达式：(^s*)|(s*$)&lt;/p&gt;&lt;p&gt;155. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;156. &amp;nbsp; &amp;nbsp;匹配IP地址的正则表达式：/(d+).(d+).(d+).(d+)/g //&lt;/p&gt;&lt;p&gt;157. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;158. &amp;nbsp; &amp;nbsp;匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*&lt;/p&gt;&lt;p&gt;159. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;160. &amp;nbsp; &amp;nbsp;匹配网址URL的正则表达式：http://(/[w-]+.)+[w-]+(/[w- ./?%&amp;amp;=]*)?&lt;/p&gt;&lt;p&gt;161. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;162. &amp;nbsp; &amp;nbsp;sql语句：^(select|drop|delete|create|update|insert).*$&lt;/p&gt;&lt;p&gt;163. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;164. &amp;nbsp; &amp;nbsp;1、非负整数：^d+$&lt;/p&gt;&lt;p&gt;165. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;166. &amp;nbsp; &amp;nbsp;2、正整数：^[0-9]*[1-9][0-9]*$&lt;/p&gt;&lt;p&gt;167. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;168. &amp;nbsp; &amp;nbsp;3、非正整数：^((-d+)|(0+))$&lt;/p&gt;&lt;p&gt;169. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;170. &amp;nbsp; &amp;nbsp;4、负整数：^-[0-9]*[1-9][0-9]*$&lt;/p&gt;&lt;p&gt;171. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;172. &amp;nbsp; &amp;nbsp;5、整数：^-?d+$&lt;/p&gt;&lt;p&gt;173. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;174. &amp;nbsp; &amp;nbsp;6、非负浮点数：^d+(.d+)?$&lt;/p&gt;&lt;p&gt;175. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;176. &amp;nbsp; &amp;nbsp;7、正浮点数：^((0-9)+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$&lt;/p&gt;&lt;p&gt;177. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;178. &amp;nbsp; &amp;nbsp;8、非正浮点数：^((-d+.d+)?)|(0+(.0+)?))$&lt;/p&gt;&lt;p&gt;179. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;180. &amp;nbsp; &amp;nbsp;9、负浮点数：^(-((正浮点数正则式)))$&lt;/p&gt;&lt;p&gt;181. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;182. &amp;nbsp; &amp;nbsp;10、英文字符串：^[A-Za-z]+$&lt;/p&gt;&lt;p&gt;183. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;184. &amp;nbsp; &amp;nbsp;11、英文大写串：^[A-Z]+$&lt;/p&gt;&lt;p&gt;185. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;186. &amp;nbsp; &amp;nbsp;12、英文小写串：^[a-z]+$&lt;/p&gt;&lt;p&gt;187. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;188. &amp;nbsp; &amp;nbsp;13、英文字符数字串：^[A-Za-z0-9]+$&lt;/p&gt;&lt;p&gt;189. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;190. &amp;nbsp; &amp;nbsp;14、英数字加下划线串：^w+$&lt;/p&gt;&lt;p&gt;191. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;192. &amp;nbsp; &amp;nbsp;15、E-mail地址：^[w-]+(.[w-]+)*@[w-]+(.[w-]+)+$&lt;/p&gt;&lt;p&gt;193. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;194. &amp;nbsp; &amp;nbsp;16、URL：^[a-zA-Z]+://(w+(-w+)*)(.(w+(-w+)*))*(?s*)?$&lt;/p&gt;&lt;p&gt;195. &amp;nbsp; &amp;nbsp;或：^http://[A-Za-z0-9]+.[A-Za-z0-9]+[/=?%-&amp;amp;_~`@[]:+!]*([^&amp;lt;&amp;gt;&amp;quot;&amp;quot;])*$&lt;/p&gt;&lt;p&gt;196. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;197. &amp;nbsp; &amp;nbsp;17、邮政编码：^[1-9]d{5}$&lt;/p&gt;&lt;p&gt;198. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;199. &amp;nbsp; &amp;nbsp;18、中文：^[u0391-uFFE5]+$&lt;/p&gt;&lt;p&gt;200. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;201. &amp;nbsp; &amp;nbsp;19、电话号码：^(((d{2,3}))|(d{3}-))?((0d{2,3})|0d{2,3}-)?[1-9]d{6,7}(-d{1,4})?$&lt;/p&gt;&lt;p&gt;202. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;203. &amp;nbsp; &amp;nbsp;20、手机号码：^(((d{2,3}))|(d{3}-))?13d{9}$&lt;/p&gt;&lt;p&gt;204. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;205. &amp;nbsp; &amp;nbsp;21、双字节字符(包括汉字在内)：^x00-xff&lt;/p&gt;&lt;p&gt;206. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;207. &amp;nbsp; &amp;nbsp;22、匹配首尾空格：(^s*)|(s*$)（像vbscript那样的trim函数）&lt;/p&gt;&lt;p&gt;208. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;209. &amp;nbsp; &amp;nbsp;23、匹配HTML标记：&amp;lt;(.*)&amp;gt;.*&amp;lt;/1&amp;gt;|&amp;lt;(.*) /&amp;gt;&lt;/p&gt;&lt;p&gt;210. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;211. &amp;nbsp; &amp;nbsp;24、匹配空行： [s| ]*&lt;/p&gt;&lt;p&gt;212. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;213. &amp;nbsp; &amp;nbsp;25、提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F) *= *(|&amp;quot;)?(w|\\|/|.)+(|&amp;quot;| *|&amp;gt;)?&lt;/p&gt;&lt;p&gt;214. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;215. &amp;nbsp; &amp;nbsp;26、提取信息中的邮件地址：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*&lt;/p&gt;&lt;p&gt;216. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;217. &amp;nbsp; &amp;nbsp;27、提取信息中的图片链接：(s|S)(r|R)(c|C) *= *(|&amp;quot;)?(w|\\|/|.)+(|&amp;quot;| *|&amp;gt;)?&lt;/p&gt;&lt;p&gt;218. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;219. &amp;nbsp; &amp;nbsp;28、提取信息中的IP地址：(d+).(d+).(d+).(d+)&lt;/p&gt;&lt;p&gt;220. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;221. &amp;nbsp; &amp;nbsp;29、提取信息中的中国手机号码：(86)*0*13d{9}&lt;/p&gt;&lt;p&gt;222. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;223. &amp;nbsp; &amp;nbsp;30、提取信息中的中国固定电话号码：((d{3,4})|d{3,4}-|s)?d{8}&lt;/p&gt;&lt;p&gt;224. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;225. &amp;nbsp; &amp;nbsp;31、提取信息中的中国电话号码（包括移动和固定电话）：((d{3,4})|d{3,4}-|s)?d{7,14}&lt;/p&gt;&lt;p&gt;226. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;227. &amp;nbsp; &amp;nbsp;32、提取信息中的中国邮政编码：[1-9]{1}(d+){5}&lt;/p&gt;&lt;p&gt;228. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;229. &amp;nbsp; &amp;nbsp;33、提取信息中的浮点数（即小数）：(-?d*).?d+&lt;/p&gt;&lt;p&gt;230. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;231. &amp;nbsp; &amp;nbsp;34、提取信息中的任何数字 ：(-?d*)(.d+)?&lt;/p&gt;&lt;p&gt;232. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;233. &amp;nbsp; &amp;nbsp;35、IP：(d+).(d+).(d+).(d+)&lt;/p&gt;&lt;p&gt;234. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;235. &amp;nbsp; &amp;nbsp;36、电话区号：/^0d{2,3}$/&lt;/p&gt;&lt;p&gt;236. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;237. &amp;nbsp; &amp;nbsp;37、腾讯QQ号：^[1-9]*[1-9][0-9]*$&lt;/p&gt;&lt;p&gt;238. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;239. &amp;nbsp; &amp;nbsp;38、帐号(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$&lt;/p&gt;&lt;p&gt;240. &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p&gt;241. &amp;nbsp; &amp;nbsp;39、中文、英文、数字及下划线：^[u4e00-u9fa5_a-zA-Z0-9]+$&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','1','0','1483949065','1'),
('25','1','支付宝对接','1','app传入订单号','&lt;p&gt;通过订单号查找订单信息&amp;nbsp;&lt;/p&gt;&lt;p&gt;后台生成订单数组 app端 组装 &amp;nbsp; 不能直接生成订单字符串 &amp;nbsp;不然app端无法支付 &amp;nbsp;&lt;/p&gt;&lt;p&gt;后台签名&lt;/p&gt;','0','0','1484274385','1'),
('26','1','Session 同步　Redis','1','Session 同步　Redis  Session 同步　Redis Session 同步　Redis','&lt;p&gt;&amp;lt;?php&amp;nbsp;&lt;/p&gt;&lt;p&gt;class Session_Redis{&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; /**&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @var string 键前缀&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; const CACHE_KEY = &amp;#39;SESSION:&amp;#39;;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; /**&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @var object 数据库对象&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; private $_cache = null;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; /**&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* 开始Session&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;* @return void&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;*/&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function __construct($cache) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $this-&amp;gt;_cache = $cache;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $this-&amp;gt;_lifetime = ini_get(&amp;#39;session.gc_maxlifetime&amp;#39;);&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; session_set_save_handler(&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_open&amp;#39;),&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_close&amp;#39;),&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_read&amp;#39;),&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_write&amp;#39;),&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_destroy&amp;#39;),&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; array($this, &amp;#39;_gc&amp;#39;)&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _open&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _open($savePath, $name) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _close&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _close() {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $this-&amp;gt;_gc($this-&amp;gt;_lifetime);&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return true;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _read&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _read($id) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $res = $this-&amp;gt;_cache-&amp;gt;get(self::CACHE_KEY . $id);&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return $res ? $res : &amp;#39;&amp;#39;;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _write&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _write($id, $value) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ($value) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $flag = $this-&amp;gt;_cache-&amp;gt;set(self::CACHE_KEY . $id, $value);&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return $flag;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } else {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return FALSE;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _destroy&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _destroy($id) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $flag = $this-&amp;gt;_cache-&amp;gt;delete(self::CACHE_KEY . $id);&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return $flag;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; // _gc&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; public function _gc($lifetime) {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;$redis=new \\Redis();&lt;/p&gt;&lt;p&gt;$redis-&amp;gt;connect(&amp;#39;127.0.0.1&amp;#39;,6379, 100);&lt;/p&gt;&lt;p&gt;new Session_Redis($redis);&lt;/p&gt;&lt;p&gt;session_start();&lt;/p&gt;&lt;p&gt;$_SESSION[&amp;#39;qiu&amp;#39;]=1234;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1486610938','1'),
('27','1','使用PHP+Sphinx建立高效的站内搜索引擎的方法','1','使用PHP+Sphinx建立高效的站内搜索引擎的方法','&lt;h1 class=&quot;postTitle&quot; style=&quot;margin: 0px; padding: 0px 0px 0px 5px; font-size: 14px; float: left; line-height: 1.5em; width: 1516.11px; clear: both; font-family: verdana, &amp;quot;ms song&amp;quot;, 宋体, Arial, 微软雅黑, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;a id=&quot;cb_post_title_url&quot; class=&quot;postTitle2&quot; href=&quot;http://www.cnblogs.com/zhongbin/p/3143792.html&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51); text-decoration: none;&quot;&gt;使用PHP+Sphinx建立高效的站内搜索引擎的方法&lt;/a&gt;&lt;/h1&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;1.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;为什么要使用Sphinx&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;假设你现在运营着一个论坛，论坛数据已经超过100+W，很多用户都反映论坛搜索的速度非常慢，那么这时你就可以考虑使用Sphinx了（当然其他的全文检索程序或方法也行）。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sphinx是什么&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;Sphinx由俄罗斯人Andrew&amp;nbsp;Aksyonoff&amp;nbsp;开发的高性能全文搜索软件包，在GPL与商业协议双许可协议下发行。&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;全文检索是指以文档的全部文本信息作为检索对象的一种信息检索技术。检索的对象有可能是文章的标题，也有可能是文章的作者，也有可能是文章摘要或内容。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;3.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sphinx的特性&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;l&amp;nbsp;&amp;nbsp;高速索引&amp;nbsp;(在新款CPU上,接近10&amp;nbsp;MB/秒);&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;高速搜索&amp;nbsp;(2-4G的文本量中平均查询速度小于0.1秒);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;高可用性&amp;nbsp;(单CPU上最大可支持100&amp;nbsp;GB的文本,100M文档);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;提供良好的相关性排名&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;支持分布式搜索;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;提供文档摘要生成;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;提供从MySQL内部的插件式存储引擎上搜索&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;支持布尔,短语,&amp;nbsp;和近义词查询;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;支持每个文档多个全文检索域(默认最大32个);&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;l&amp;nbsp;&amp;nbsp;支持每个文档多属性;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;支持断词;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;l&amp;nbsp;&amp;nbsp;支持单字节编码与UTF-8编码;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;4.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;下载并安装Sphinx&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;打开网址http://www.coreseek.cn/news/7/52/&amp;nbsp;找到适合自己的操作系统的版本，比如我是Windows那么我就可以下载Coreseek&amp;nbsp;Win32通用版本，Linux下可以下载源码包，自己编译安装。这里解释下为什么我们下载的程序叫Coreseek，Coreseek是基于Sphinx开发的一款软件，对Sphinx做了一些改动，在中文方面支持得比Sphinx好，所以我们使用之。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;下载完成后，将程序解压到你想解压的地方，比如我就想解压到E盘根目录，之后修改目录名为Coreseek，大功告成Coreseek安装完成了，安装的目录是在E:\\coreseek\\。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;5.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用Sphinx&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;我要使用Sphinx需要做以下几件事&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;首先得有数据&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;建立Sphinx配置文件&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;3)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;生成索引&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;4)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;启动Sphinx&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;5)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用之（调用api或search.exe程序进行查询）&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;第1件：（导入数据）&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;我们建立测试所需要用到得数据库、表以及数据，篇幅有限，这些在附件中都有，下载后导入MySQL即可。&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;第2件：（建立配置文件）&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;接下来我们需要建立一个Sphinx的配置文件&amp;nbsp;E:\\coreseek\\etc\\mysql.conf，将其内容改为下面这些：&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;source&amp;nbsp;mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_host&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;localhost&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_user&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_db&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;test&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_port&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3306&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_query_pre&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;SET&amp;nbsp;NAMES&amp;nbsp;utf8&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_query&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;SELECT&amp;nbsp;id,addtime,title,content&amp;nbsp;FROM&amp;nbsp;post&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sql_attr_timestamp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;addtime&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;index&amp;nbsp;mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;source&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;E:/coreseek/var/data/mysql&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;charset_dictpath&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;E:/coreseek/etc/&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;charset_type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;zh_cn.utf-8&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;searchd&amp;nbsp;&amp;nbsp;&amp;nbsp;{ &amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;9312&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;max_matches&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1000&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;pid_file&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;E:/coreseek/var/log/searchd_mysql.pid&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;E:/coreseek/var/log/searchd_mysql.log&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;query_log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;E:/coreseek/var/log/query_mysql.log&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;先讲下这个配置文件中每项的含义。&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;source&amp;nbsp;mysql{}&amp;nbsp;定义源名称为mysql，也可以叫其他的，比如：source&amp;nbsp;xxx{}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;type&amp;nbsp;&amp;nbsp;数据源类型&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_*&amp;nbsp;数据相关的配置，比如sql_host,sql_pass什么的，这些不解释。（数据源的配置信息） &amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_query&amp;nbsp;建立索引时的查询命令，在这里尽可能不使用where或group&amp;nbsp;by，将where与groupby的内容交给sphinx，由sphinx进行条件过滤与groupby效率会更高，注意：select&amp;nbsp;的字段必须包括一个唯一主键以及要全文检索的字段，where中要用到的字段也要select出来&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_query_pre&amp;nbsp;在执行sql_query前执行的sql命令,&amp;nbsp;可以有多条 &amp;nbsp;。&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_attr&amp;nbsp;以这个开头的配置项，表示属性字段，在where,orderby,groupby中出现的字段要分别定义一个属性，定义不同类型的字段要用不同的属性名,比如上面的sql_attr_timestamp就是时间戳类型。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;index&amp;nbsp;mysql{}&amp;nbsp;定义索引名称为mysql，也可以叫其他的，比如：index&amp;nbsp;xxx{}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;source&amp;nbsp;关联源，就是source&amp;nbsp;xxx定义的。&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;path&amp;nbsp;索引文件存放路径，比如：E:/coreseek/var/data/mysql&amp;nbsp;实际存放在E:/coreseek/var/data/目录，然后创建多个名称为mysql后缀却不同的索引文件&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;charset_dictpath&amp;nbsp;&amp;nbsp;指明分词法读取词典文件的位置，当启用分词法时，为必填项。在使用LibMMSeg作为分词&amp;nbsp;库时，需要确保词典文件uni.lib在指定的目录下&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;charset_type&amp;nbsp;字符集，比如charset_type&amp;nbsp;=&amp;nbsp;zh_cn.gbk&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;searchd{}&amp;nbsp;sphinx守护进程配置&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;listen&amp;nbsp;监听端口&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;max_matches最大匹配数，也就是查找的数据再多也只返回这里设置的1000条&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;pid_file&amp;nbsp;pid文件路径&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;log全文检索日志&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;query_log查询日志&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;好了，配置文件就这样，配置的参数还有很多，大家可以自己查文档。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;第3件：（生成索引）&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;开始&amp;nbsp;-&amp;gt;&amp;nbsp;运行&amp;nbsp;-&amp;gt;&amp;nbsp;输入cmd回车，打开命令行工具&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;e:\\coreseek\\bin\\indexer&amp;nbsp;--config&amp;nbsp;e:\\coreseek\\etc\\mysql.conf&amp;nbsp;--all&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;这一串东西其实就是调用indexer程序来生成所有索引&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;如果只想对某个数据源进行索引，则可以这样：e:\\coreseek\\bin\\indexer&amp;nbsp;--config&amp;nbsp;e:\\coreseek\\etc\\mysql.conf&amp;nbsp;索引名称（索引名称指配置文件中所定义的）&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;--config,--all这些都是indexer程序的参数，想了解更多参数的朋友可以查看文档&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;运行命令后如果你没看到FATAL,ERROR这些东西，那么索引文件就算生成成功了，比如我看到得就是&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;………省略………&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;&amp;#39;e:\\coreseek\\etc\\mysql.conf&amp;#39;...&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;indexing&amp;nbsp;index&amp;nbsp;&amp;#39;mysql&amp;#39;...&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;collected&amp;nbsp;4&amp;nbsp;docs,&amp;nbsp;0.0&amp;nbsp;MB&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;………省略………&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;第4件：（启动Sphinx）&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;同样命令行下&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;e:\\coreseek\\bin\\searchd&amp;nbsp;--config&amp;nbsp;e:\\coreseek\\etc\\mysql.conf&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;运行后提示了一大堆东西&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;&amp;#39;e:\\coreseek\\etc\\mysql.conf&amp;#39;...&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;listening&amp;nbsp;on&amp;nbsp;all&amp;nbsp;interfaces,&amp;nbsp;port=9312&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;accepting&amp;nbsp;connections&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;这样Sphinx是启动好了。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;现在有一串鸟文的这个命令行是不能关的，因为关了Sphinx也就关了，如果觉得这样不爽，可以将Sphinx安装成系统服务，在后台运行。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;安装系统服务只需在命令行中输入以下命令&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;e:\\coreseek\\bin\\searchd&amp;nbsp;--config&amp;nbsp;e:\\coreseek\\etc\\mysql.conf&amp;nbsp;--install&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;安装之后记得启动这个服务，不会启动那我没法，自己google、360 so。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;第5步：（使用Sphinx）&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;在web根目录下建立一个search目录（当然不在根目录也行，同样目录名也可以随取），复制E:\\coreseek\\api\\&amp;nbsp;sphinxapi.php文件到search目录（sphinxapi.php这个是sphinx官方提供的api），开始php程序的编写。&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;在search目录建立一个文件，名字叫啥都行，我管它叫index.php，其内容如下&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;?php&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;include&amp;nbsp;&amp;#39;sphinxapi.php&amp;#39;;&amp;nbsp;&amp;nbsp;//&amp;nbsp;加载Sphinx&amp;nbsp;API&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-1&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-2&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-3&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-4&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-5&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-6&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-7&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-8&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-9&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-10&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-11&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-12&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-13&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-14&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-15&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-16&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-17&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-18&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-19&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-20&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-21&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-22&quot; style=&quot;margin: 0px 0.222em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-23&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-24&quot; style=&quot;margin: 0px 0.111em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-25&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-26&quot; style=&quot;margin: 0px 0.111em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-27&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-28&quot; style=&quot;margin: 0px 0.278em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;实&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-29&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-30&quot; style=&quot;margin: 0px 0.278em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;例&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-31&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-32&quot; style=&quot;margin: 0px 0.278em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;化&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-33&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-34&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-35&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-1-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;nobr style=&quot;margin: 0px; padding: 0px; transition: none; border: 0px; max-width: none; max-height: none; min-width: 0px; min-height: 0px; vertical-align: 0px; line-height: normal;&quot;&gt;&lt;span class=&quot;math&quot; id=&quot;MathJax-Span-1&quot; role=&quot;math&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline-block; position: relative; border: 0px; vertical-align: 0px; width: 0.003em; height: 0px; font-size: 16.38px;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; position: absolute; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mrow&quot; id=&quot;MathJax-Span-2&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-3&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-4&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-5&quot; style=&quot;margin: 0px; padding: 0px 0px 0px 0.308em; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-6&quot; style=&quot;margin: 0px; padding: 0px 0px 0px 0.308em; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-7&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-8&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-9&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline-block; position: static; border: 0px; vertical-align: 0px; overflow: hidden; height: 1px; width: 0.064em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-10&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-11&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-12&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-13&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-14&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-15&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;span style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline-block; position: static; border: 0px; vertical-align: 0px; overflow: hidden; height: 1px; width: 0.064em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-16&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-17&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-18&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-19&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mi&quot; id=&quot;MathJax-Span-20&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Math-italic;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-21&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-22&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-23&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;texatom&quot; id=&quot;MathJax-Span-24&quot; style=&quot;margin: 0px; padding: 0px 0px 0px 0.186em; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mrow&quot; id=&quot;MathJax-Span-25&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-26&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;texatom&quot; id=&quot;MathJax-Span-27&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mrow&quot; id=&quot;MathJax-Span-28&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-29&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px; font-family: MathJax_Main;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;texatom&quot; id=&quot;MathJax-Span-30&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mrow&quot; id=&quot;MathJax-Span-31&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;span class=&quot;mo&quot; id=&quot;MathJax-Span-32&quot; style=&quot;margin: 0px; padding: 0px; transition: none; line-height: normal; display: inline; position: static; border: 0px; vertical-align: 0px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/nobr&gt;&lt;/span&gt;sc-&amp;gt;setServer(&amp;#39;localhost&amp;#39;,&amp;nbsp;9312);&amp;nbsp;//&amp;nbsp;设置服务端，第一个参数sphinx服务器地址，第二个sphinx监听端口&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-36&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-37&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-38&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-39&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-40&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-2-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;sc-&amp;gt;query(&amp;#39;sphinx&amp;#39;,&amp;nbsp;&amp;#39;mysql&amp;#39;);&amp;nbsp;//&amp;nbsp;执行查询，第一个参数查询的关键字，第二个查询的索引名称，mysql索引名称（这个也是在配置文件中定义的），多个索引名称以,分开，也可以用*表示所有索引。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;print_r($res);&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;打印结果：&amp;nbsp;&amp;nbsp;&amp;nbsp;Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;………省略………&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[matches]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[2]&amp;nbsp;=&amp;gt;&amp;nbsp;Array &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;em id=&quot;__mceDel&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;( &amp;nbsp;&lt;/em&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&lt;em id=&quot;__mceDel&quot; style=&quot;margin: 0px; padding: 0px;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[weight]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[attrs]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[addtime]&amp;nbsp;=&amp;gt;&amp;nbsp;1282622004&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[4]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[weight]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[attrs]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[addtime]&amp;nbsp;=&amp;gt;&amp;nbsp;1282622079&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&lt;/em&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;………省略………&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Matches中就是查询的结果了，但是仿佛不是我们想要的数据，比如titile，content字段的内容就没有查询出来，根据官方的说明是Sphinx并没有连接到MySQL去取数据，只是根据它自己的索引内容进行计算，因此如果想用Sphinx提供的API去取得我们想要的数据，还必须以查询的结果为依据，再次查询MySQL从而得到我们想要的数据。&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;查询结果中键值分别表示&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;2唯一主键&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;weight权重&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;attrs&amp;nbsp;sql_attr_*中配置&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;至此，搜索引擎算是完成一大半了，剩下的大家可以自行完成。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;比如：&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;?php&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-41&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-42&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-43&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-44&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-45&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-46&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-47&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-48&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-49&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;MJXp-msubsup&quot; id=&quot;MJXp-Span-50&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-51&quot; style=&quot;margin: 0px 0.05em 0px 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic MJXp-script&quot; id=&quot;MJXp-Span-52&quot; style=&quot;margin: 0px; padding: 0px; font-size: 0.8em; font-style: italic; line-height: 1.5; display: inline-block; vertical-align: -0.4em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-53&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-54&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-55&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-56&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-3-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;res[&amp;#39;matches&amp;#39;]);&amp;nbsp;//&amp;nbsp;获取主键&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-57&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-58&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-59&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-60&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-61&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-62&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-63&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-64&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-65&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-msup&quot; id=&quot;MJXp-Span-66&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-67&quot; style=&quot;margin: 0px 0.05em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;MJXp-mo MJXp-script&quot; id=&quot;MJXp-Span-68&quot; style=&quot;margin: 0px 0.15em; padding: 0px; font-size: 0.8em; line-height: 1.5; display: inline-block; vertical-align: 0.5em;&quot;&gt;′&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-msup&quot; id=&quot;MJXp-Span-69&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-70&quot; style=&quot;margin: 0px 0.05em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;MJXp-mo MJXp-script&quot; id=&quot;MJXp-Span-71&quot; style=&quot;margin: 0px 0.15em; padding: 0px; font-size: 0.8em; line-height: 1.5; display: inline-block; vertical-align: 0.5em;&quot;&gt;′&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-72&quot; style=&quot;margin: 0px 0.222em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-4-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;ids);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-73&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-74&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-75&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-76&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-77&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-78&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-79&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-80&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-81&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-82&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-83&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;MJXp-msubsup&quot; id=&quot;MJXp-Span-84&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-85&quot; style=&quot;margin: 0px 0.05em 0px 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic MJXp-script&quot; id=&quot;MJXp-Span-86&quot; style=&quot;margin: 0px; padding: 0px; font-size: 0.8em; font-style: italic; line-height: 1.5; display: inline-block; vertical-align: -0.4em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-87&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-88&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-89&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-90&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-91&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-92&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-93&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-94&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-95&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-96&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-97&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-98&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-99&quot; style=&quot;margin: 0px 0.267em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;∗&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-100&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-101&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-102&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-103&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-104&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-105&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-106&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-107&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-108&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-109&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-110&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-111&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-112&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-113&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-114&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-115&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-116&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-117&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-118&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mrow&quot; id=&quot;MJXp-Span-119&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-120&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;$&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-121&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-122&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-123&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-124&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-125&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-126&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-127&quot; style=&quot;margin: 0px 0.222em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-128&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-129&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-130&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-131&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-132&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-133&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-5-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;row&amp;nbsp;=&amp;nbsp;mysql_fetch_assoc($query))&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.....&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;Sphinx在windows下安装使用&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;前一阵子尝试使用了一下Sphinx，一个能够被各种语言(PHP/Python/Ruby/etc)方便调用的全文检索系统。网上的资料大多是在&amp;nbsp;linux环境下的安装使用，当然，作为生产环境很有必要部署在*nix环境下，作为学习测试，还是windows环境比较方便些。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;本文旨在提供一种便捷的方式让Sphinx在windows下安装配置以支持中文全文检索，配置部分在linux下通用。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp;一、关于Sphinx&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;Sphinx&amp;nbsp;是一个在GPLv2&amp;nbsp;下发布的一个全文检索引擎，商业授权（例如,&amp;nbsp;嵌入到其他程序中）需要联系作者（Sphinxsearch.com）以获得商业授权。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;一般而言，Sphinx是一个独立的搜索引擎，意图为其他应用提供高速、低空间占用、高结果相关度的全文搜索功能。Sphinx可以非常容易的与&amp;nbsp;SQL数据库和脚本语言集成。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;当前系统内置MySQL和PostgreSQL&amp;nbsp;数据库数据源的支持，也支持从标准输入读取特定格式的XML数据。通过修改源代码，用户可以自行增加新的数据源（例如：其他类型的DBMS的原生支持）。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;搜索API支持PHP、Python、Perl、Rudy和Java，并且也可以用作MySQL存储引擎。搜索API非常简单，可以在若干个小时之&amp;nbsp;内移植到新的语言上。&amp;nbsp;Sphinx特性：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;高速的建立索引(在当代CPU上，峰值性能可达到10MB/秒);&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;高性能的搜索(在2–4GB的文本数据上，平均每次检索响应时间小于0.1秒);&amp;nbsp;&amp;nbsp;&amp;nbsp;可处理海量数据(目前已知可以处理超过100GB的文本数据,在单一CPU的系统上可处理100M文档);&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;提供了优秀的相关度算法，基于短语相似度和统计（BM25）的复合Ranking方法;&amp;nbsp;&amp;nbsp;&amp;nbsp;支持分布式搜索;&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;提供文件的摘录生成;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;可作为MySQL的存储引擎提供搜索服务;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;支持布尔、短语、词语相似度等多种检索模式;&amp;nbsp;&amp;nbsp;文档支持多个全文检索字段(最大不超过32个);&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;文档支持多个额外的属性信息(例如：分组信息，时间戳等);&amp;nbsp;&amp;nbsp;停止词查询;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;支持单一字节编码和UTF-8编码;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;原生的MySQL支持(同时支持MyISAM和InnoDB);&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;原生的PostgreSQL支持.&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;中文手册可以在这里获得（酷勤&amp;nbsp;网备用下载地址：sphinx_doc_zhcn_0.9.pdf ）。&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;二、Sphinx在windows上的安装&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.直接在http://www.sphinxsearch.com/downloads.html找&amp;nbsp;到最新的windows版本，我这里下的是Win32&amp;nbsp;release&amp;nbsp;binaries&amp;nbsp;with&amp;nbsp;MySQL&amp;nbsp;support，下载后解压在D:\\sphinx目录下；&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2.在D:\\sphinx\\下新建一个data目录用来存放索引文件，&amp;nbsp;一个log目录方日志文件，复制D:\\sphinx\\sphinx.conf.in到D:\\sphinx\\bin\\sphinx.conf（注意修改文件&amp;nbsp;名）；&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;3.修改D:\\sphinx\\bin\\sphinx.conf，我这里&amp;nbsp;列出需要修改的几个：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;mysql&amp;nbsp;#&amp;nbsp;数据源，我这里是mysql&amp;nbsp;sql_host&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;localhost&amp;nbsp;#&amp;nbsp;数据库服务器&amp;nbsp;sql_user&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;root&amp;nbsp;#&amp;nbsp;数据库用户名&amp;nbsp;sql_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;&amp;nbsp;#&amp;nbsp;数据库密码&amp;nbsp;sql_db&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;test&amp;nbsp;#&amp;nbsp;数据库&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_port&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3306&amp;nbsp;#&amp;nbsp;数据库端口&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_query_pre&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;SET&amp;nbsp;NAMES&amp;nbsp;utf8&amp;nbsp;#&amp;nbsp;去掉此行前面的注释，如果你的数据库是uft8编码的&amp;nbsp;index&amp;nbsp;test1&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;放索引的目录&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;D:/sphinx/data/&amp;nbsp;#&amp;nbsp;编码&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;charset_type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;utf-8&amp;nbsp;&amp;nbsp;#&amp;nbsp;&amp;nbsp;指定utf-8的编码表&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;charset_table&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;0..9,&amp;nbsp;A..Z-&amp;gt;a..z,&amp;nbsp;_,&amp;nbsp;a..z,&amp;nbsp;U+410..U+42F-&amp;gt;U+430..U+44F,&amp;nbsp;U+430..U+44F&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;简单分词，只支持0和1，如果要搜索中文，请指定为1&amp;nbsp;&amp;nbsp;ngram_len&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;需要分词的字符，如果要搜索中文，去掉前面的注释&amp;nbsp;&amp;nbsp;ngram_chars&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;U+3000..U+2FA1F&amp;nbsp;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;index&amp;nbsp;test1stemmed&amp;nbsp;:&amp;nbsp;test1&amp;nbsp;#&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;@CONFDIR@/data/test1stemmed&amp;nbsp;&amp;nbsp;#&amp;nbsp;morphology&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;stem_en&amp;nbsp;#&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp;如果没有分布式索引，注释掉下面的内容&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;index&amp;nbsp;dist1&amp;nbsp;#&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;&amp;#39;distributed&amp;#39;&amp;nbsp;index&amp;nbsp;type&amp;nbsp;MUST&amp;nbsp;be&amp;nbsp;specified&amp;nbsp;&amp;nbsp;#&amp;nbsp;type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;distributed&amp;nbsp;#&amp;nbsp;local&amp;nbsp;index&amp;nbsp;to&amp;nbsp;be&amp;nbsp;searched&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;there&amp;nbsp;can&amp;nbsp;be&amp;nbsp;many&amp;nbsp;local&amp;nbsp;indexes&amp;nbsp;configured&amp;nbsp;&amp;nbsp;#&amp;nbsp;local&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;test1&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;local&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;test1stemmed&amp;nbsp;#&amp;nbsp;remote&amp;nbsp;agent&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;multiple&amp;nbsp;remote&amp;nbsp;agents&amp;nbsp;may&amp;nbsp;be&amp;nbsp;specified&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;syntax&amp;nbsp;is&amp;nbsp;&amp;#39;hostname:port:index1,[index2[,...]]&amp;nbsp;&amp;nbsp;#&amp;nbsp;agent&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;localhost:3313:remote1&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;agent&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;localhost:3314:remote2,remote3&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;remote&amp;nbsp;agent&amp;nbsp;connection&amp;nbsp;timeout,&amp;nbsp;milliseconds&amp;nbsp;&amp;nbsp;#&amp;nbsp;optional,&amp;nbsp;default&amp;nbsp;is&amp;nbsp;1000&amp;nbsp;ms,&amp;nbsp;ie.&amp;nbsp;1&amp;nbsp;sec&amp;nbsp;&amp;nbsp;#&amp;nbsp;agent_connect_timeout&amp;nbsp;=&amp;nbsp;1000&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;remote&amp;nbsp;agent&amp;nbsp;query&amp;nbsp;timeout,&amp;nbsp;milliseconds&amp;nbsp;&amp;nbsp;#&amp;nbsp;optional,&amp;nbsp;default&amp;nbsp;is&amp;nbsp;3000&amp;nbsp;ms,&amp;nbsp;ie.&amp;nbsp;3&amp;nbsp;sec&amp;nbsp;&amp;nbsp;#&amp;nbsp;agent_query_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3000&amp;nbsp;#&amp;nbsp;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;搜索服务需要修改的部分&amp;nbsp;searchd&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;#&amp;nbsp;日志&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;D:/sphinx/log/searchd.log&amp;nbsp;#&amp;nbsp;PID&amp;nbsp;file,&amp;nbsp;searchd&amp;nbsp;process&amp;nbsp;ID&amp;nbsp;file&amp;nbsp;name&amp;nbsp;&amp;nbsp;pid_file&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;D:/sphinx/log/searchd.pid&amp;nbsp;#&amp;nbsp;windows下启动searchd服务一定要注释掉这个&amp;nbsp;&amp;nbsp;#&amp;nbsp;seamless_rotate&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&amp;nbsp;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;4.导入测试数据&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql&amp;nbsp;文件在D:/sphinx/example.sql&amp;nbsp;C:\\Program&amp;nbsp;Files\\MySQL\\MySQL&amp;nbsp;Server&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;5.0\\bin&amp;gt;mysql&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;-uroot&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;test&amp;lt;d:/sphinx/example.sql&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;5.建立索引&amp;nbsp;&lt;em id=&quot;__mceDel&quot; style=&quot;margin: 0px; padding: 0px; line-height: 1.5;&quot;&gt;&amp;nbsp;&lt;/em&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;D:\\sphinx\\bin&amp;gt;indexer.exe&amp;nbsp;test1&amp;nbsp;(备注:test1为&amp;nbsp;sphinx.conf&amp;nbsp;的&amp;nbsp;index&amp;nbsp;test1()&amp;nbsp;)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1533)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;‘./sphinx.conf’…&amp;nbsp;indexing&amp;nbsp;index&amp;nbsp;‘test1′…&amp;nbsp;collected&amp;nbsp;4&amp;nbsp;docs,&amp;nbsp;0.0&amp;nbsp;MB&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sorted&amp;nbsp;0.0&amp;nbsp;Mhits,&amp;nbsp;100.0%&amp;nbsp;done&amp;nbsp;total&amp;nbsp;4&amp;nbsp;docs,&amp;nbsp;193&amp;nbsp;bytes&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;total&amp;nbsp;0.101&amp;nbsp;sec,&amp;nbsp;1916.30&amp;nbsp;bytes/sec,&amp;nbsp;39.72&amp;nbsp;docs/sec&amp;nbsp;D:\\sphinx\\bin&amp;gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;6.搜索’test’试试&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;D:\\sphinx\\bin&amp;gt;search.exe&amp;nbsp;test1&amp;nbsp;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1533)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;‘./sphinx.conf’…&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;index&amp;nbsp;‘test1′:&amp;nbsp;query&amp;nbsp;‘test&amp;nbsp;‘:&amp;nbsp;returned&amp;nbsp;3&amp;nbsp;matches&amp;nbsp;of&amp;nbsp;3&amp;nbsp;total&amp;nbsp;in&amp;nbsp;0.000&amp;nbsp;sec&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;displaying&amp;nbsp;matches:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;document=1,&amp;nbsp;weight=2,&amp;nbsp;group_id=1,&amp;nbsp;date_added=Wed&amp;nbsp;Nov&amp;nbsp;26&amp;nbsp;14:58:59&amp;nbsp;2008&amp;nbsp;id=1&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;group_id=1&amp;nbsp;group_id2=5&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;date_added=2008-11-26&amp;nbsp;14:58:59&amp;nbsp;title=test&amp;nbsp;one&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;content=this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;one.&amp;nbsp;also&amp;nbsp;checking&amp;nbsp;search&amp;nbsp;within&amp;nbsp;phrases.&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2.&amp;nbsp;document=2,&amp;nbsp;weight=2,&amp;nbsp;group_id=1,&amp;nbsp;date_added=Wed&amp;nbsp;Nov&amp;nbsp;26&amp;nbsp;14:58:59&amp;nbsp;2008&amp;nbsp;id=2&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;group_id=1&amp;nbsp;group_id2=6&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;date_added=2008-11-26&amp;nbsp;14:58:59&amp;nbsp;title=test&amp;nbsp;two&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;content=this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;two&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;3.&amp;nbsp;document=4,&amp;nbsp;weight=1,&amp;nbsp;group_id=2,&amp;nbsp;date_added=Wed&amp;nbsp;Nov&amp;nbsp;26&amp;nbsp;14:58:59&amp;nbsp;2008&amp;nbsp;id=4&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;group_id=2&amp;nbsp;group_id2=8&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;date_added=2008-11-26&amp;nbsp;14:58:59&amp;nbsp;title=doc&amp;nbsp;number&amp;nbsp;four&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;content=this&amp;nbsp;is&amp;nbsp;to&amp;nbsp;test&amp;nbsp;groups&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;words:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;‘test’:&amp;nbsp;3&amp;nbsp;documents,&amp;nbsp;5&amp;nbsp;hits&amp;nbsp;D:\\sphinx\\bin&amp;gt;&amp;nbsp;都所出来了吧。&amp;nbsp;6.测试中文搜索&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;修改test数据库中documents数据表，&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;UPDATE&amp;nbsp;`test`.`documents`&amp;nbsp;SET&amp;nbsp;`title`&amp;nbsp;=&amp;nbsp;‘测试中文’,&amp;nbsp;`content`&amp;nbsp;=&amp;nbsp;‘this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;two，应该搜的到吧’&amp;nbsp;WHERE&amp;nbsp;`documents`.`id`&amp;nbsp;=&amp;nbsp;2;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;重建索引：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\sphinx\\bin&amp;gt;indexer.exe&amp;nbsp;test1&amp;nbsp;搜索’中文’试试：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\sphinx\\bin&amp;gt;search.exe&amp;nbsp;中文&amp;nbsp;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1533)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;‘./sphinx.conf’…&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;index&amp;nbsp;‘test1′:&amp;nbsp;query&amp;nbsp;‘中文&amp;nbsp;‘:&amp;nbsp;returned&amp;nbsp;0&amp;nbsp;matches&amp;nbsp;of&amp;nbsp;0&amp;nbsp;total&amp;nbsp;in&amp;nbsp;0.000&amp;nbsp;sec&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;words:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\sphinx\\bin&amp;gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;貌似没有搜到，这是因为windows命令行中的编码是gbk，当然搜不出来。我们可以用程序试试，在D:\\sphinx\\api下新建一个&amp;nbsp;foo.php的文件，注意utf-8编码&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;lt;?php&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;require&amp;nbsp;’sphinxapi.php’;&amp;nbsp;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-134&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-135&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-136&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-137&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-138&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-139&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-140&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-141&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-142&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-143&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-144&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-145&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-146&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-147&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-148&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-149&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-150&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-151&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-152&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-153&quot; style=&quot;margin: 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-154&quot; style=&quot;margin: 0px 0.222em 0px 0em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-6-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;s-&amp;gt;SetServer(’localhost’,9312);&amp;nbsp;&lt;span class=&quot;MathJax_Preview&quot; style=&quot;margin: 0px; padding: 0px; color: inherit; line-height: 1.5;&quot;&gt;&lt;span class=&quot;MJXp-math&quot; id=&quot;MJXp-Span-155&quot; style=&quot;margin: 0px; padding: 0px; display: inline-block; line-height: 1.5; font-family: &amp;quot;Times New Roman&amp;quot;, Times, STIXGeneral, serif; border-collapse: collapse;&quot;&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-156&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-157&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-158&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-159&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-160&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;MJXp-mi MJXp-italic&quot; id=&quot;MJXp-Span-161&quot; style=&quot;margin: 0px; padding: 0px; font-style: italic; line-height: 1.5; display: inline-block;&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;MJXp-mo&quot; id=&quot;MJXp-Span-162&quot; style=&quot;margin: 0px 0.333em; padding: 0px; line-height: 1.5; display: inline-block;&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;MathJax MathJax_Processing&quot; id=&quot;MathJax-Element-7-Frame&quot; tabindex=&quot;0&quot; style=&quot;margin: 0px; padding: 0px; display: inline; line-height: 1.5; word-spacing: normal; word-wrap: normal; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; visibility: hidden; position: fixed; width: 0px; height: 0px; overflow: hidden;&quot;&gt;&lt;/span&gt;s-&amp;gt;Query(’中文’);&amp;nbsp;var_dump($result);&amp;nbsp;?&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;启动Sphinx&amp;nbsp;searchd服务&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\sphinx\\bin&amp;gt;searchd.exe&amp;nbsp;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1533)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;WARNING:&amp;nbsp;forcing&amp;nbsp;–console&amp;nbsp;mode&amp;nbsp;on&amp;nbsp;Windows&amp;nbsp;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;‘./sphinx.conf’…&amp;nbsp;creating&amp;nbsp;server&amp;nbsp;socket&amp;nbsp;on&amp;nbsp;0.0.0.0:9312&amp;nbsp;accepting&amp;nbsp;connections&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;已经表示服务器已经开启&amp;nbsp;不要关闭&amp;nbsp;命令行&amp;nbsp;(目前本人无法将此服务安装成系统服务器&amp;nbsp;所以每次PHP测试前注意开启&amp;nbsp;searchd&amp;nbsp;服务)&amp;nbsp;执行PHP查询：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;访问&amp;nbsp;&lt;a title=&quot;鸿鹄IT网络学院&quot; href=&quot;http://www.hacktea8.com/&quot; style=&quot;margin: 0px; padding: 0px; color: rgb(51, 51, 51);&quot;&gt;http://www.test.com/sphinx/api/foo.php&lt;/a&gt;&amp;nbsp;(自己配置的虚拟主机)&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;结果是不是出来？剩下的工作就是去看手册，慢慢摸索高阶的配置。&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Windows下的Sphinx+MySQL简单配置及调试&amp;nbsp;2010年01月15日&amp;nbsp;星期五&amp;nbsp;02:44&amp;nbsp;P.M.&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;首先我们要从&amp;nbsp;Sphinx&amp;nbsp;官网上&amp;nbsp;http://www.sphinxsearch.com/downloads.html&amp;nbsp;下载&amp;nbsp;mysql-5.0.45-sphinxse-0.9.8-win32.zip&amp;nbsp;和&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sphinx-0.9.8.1-win32.zip，假设你已经安装好了&amp;nbsp;MySQL&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;先将&amp;nbsp;mysql&amp;nbsp;服务停掉&amp;nbsp;解压&amp;nbsp;mysql-5.0.45-sphinxse-0.9.8-win32.zip&amp;nbsp;将&amp;nbsp;bin&amp;nbsp;和&amp;nbsp;share&amp;nbsp;覆盖掉&amp;nbsp;mysql&amp;nbsp;目录中的&amp;nbsp;bin&amp;nbsp;和&amp;nbsp;share&amp;nbsp;解压&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sphinx-0.9.8.1-win32.zip&amp;nbsp;到独立的目录，如:d:/www/sphinx/中&amp;nbsp;接着开启&amp;nbsp;mysql&amp;nbsp;服务，建立&amp;nbsp;&amp;quot;test&amp;quot;&amp;nbsp;数据库，并导入&amp;nbsp;sql&amp;nbsp;语句,如下：&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;-----------------------------------------------------------&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;CREATE&amp;nbsp;TABLE&amp;nbsp;`documents`&amp;nbsp;(&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;`id`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;auto_increment,&amp;nbsp;`group_id`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;`group_id2`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;`date_added`&amp;nbsp;datetime&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;`title`&amp;nbsp;varchar(255)&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;`content`&amp;nbsp;text&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`id`)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;AUTO_INCREMENT=5;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`documents`&amp;nbsp;VALUES&amp;nbsp;(&amp;#39;1&amp;#39;,&amp;nbsp;&amp;#39;1&amp;#39;,&amp;nbsp;&amp;#39;5&amp;#39;,&amp;nbsp;&amp;#39;2008-09-13&amp;nbsp;21:37:47&amp;#39;,&amp;nbsp;&amp;#39;test&amp;nbsp;one&amp;#39;,&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;one.&amp;nbsp;also&amp;nbsp;checking&amp;nbsp;search&amp;nbsp;within&amp;nbsp;phrases.&amp;#39;);&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`documents`&amp;nbsp;VALUES&amp;nbsp;(&amp;#39;2&amp;#39;,&amp;nbsp;&amp;#39;1&amp;#39;,&amp;nbsp;&amp;#39;6&amp;#39;,&amp;nbsp;&amp;#39;2008-09-13&amp;nbsp;21:37:47&amp;#39;,&amp;nbsp;&amp;#39;test&amp;nbsp;two&amp;#39;,&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;two&amp;#39;);&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`documents`&amp;nbsp;VALUES&amp;nbsp;(&amp;#39;3&amp;#39;,&amp;nbsp;&amp;#39;2&amp;#39;,&amp;nbsp;&amp;#39;7&amp;#39;,&amp;nbsp;&amp;#39;2008-09-13&amp;nbsp;21:37:47&amp;#39;,&amp;nbsp;&amp;#39;another&amp;nbsp;doc&amp;#39;,&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;#39;);&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`documents`&amp;nbsp;VALUES&amp;nbsp;(&amp;#39;4&amp;#39;,&amp;nbsp;&amp;#39;2&amp;#39;,&amp;nbsp;&amp;#39;8&amp;#39;,&amp;nbsp;&amp;#39;2008-09-13&amp;nbsp;21:37:47&amp;#39;,&amp;nbsp;&amp;#39;doc&amp;nbsp;number&amp;nbsp;four&amp;#39;,&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;to&amp;nbsp;test&amp;nbsp;groups&amp;#39;);&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;-------------------------------------------实际上，这个新建立的表就是&amp;nbsp;Sphinx&amp;nbsp;中的&amp;nbsp;example.sql&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;我们的测试表已经建立完成，接下来我们要配置&amp;nbsp;sphinx-doc.conf&amp;nbsp;文件（重要）&amp;nbsp;先将&amp;nbsp;sphinx&amp;nbsp;下的&amp;nbsp;sphinx-min.conf&amp;nbsp;复制一份改名为&amp;nbsp;sphinx-doc.conf，接着&amp;nbsp;修改它:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;--------------------------------------------------------------------&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;Minimal&amp;nbsp;Sphinx&amp;nbsp;configuration&amp;nbsp;sample&amp;nbsp;(clean,&amp;nbsp;simple,&amp;nbsp;functional)&amp;nbsp;#&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;type----------------------------------------数据库类型，目前支持&amp;nbsp;mysql&amp;nbsp;与&amp;nbsp;pgsql&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;strip_html--------------------------------是否去掉html&amp;nbsp;标签&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;sql_host----------------------------------数据库主机地址&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;sql_user----------------------------------数据库用户名&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;sql_pass----------------------------------数据库密码&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;sql_db-------------------------------------数据库名称&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;sql_port-----------------------------------数据库采用的端口&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;sql_query_pre--------------------------执行sql前要设置的字符集，用utf8必须SET&amp;nbsp;NAMES&amp;nbsp;utf8&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;sql_query---------------------------------全文检索要显示的内容，在这里尽可能不使用where或&amp;nbsp;group&amp;nbsp;by，将&amp;nbsp;where&amp;nbsp;与&amp;nbsp;groupby&amp;nbsp;的内容交给&amp;nbsp;sphinx，由&amp;nbsp;sphinx&amp;nbsp;进行条件过滤与&amp;nbsp;groupby&amp;nbsp;效率会更高&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;注意:&amp;nbsp;select&amp;nbsp;出来的字段必须至少包括一个唯一主键&amp;nbsp;(ARTICLESID)&amp;nbsp;以及要全文检索的字段，你计划原本在&amp;nbsp;where&amp;nbsp;中要用到的字段也要&amp;nbsp;select&amp;nbsp;出来&amp;nbsp;#&amp;nbsp;这里不用使用orderby&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;sql_attr_&amp;nbsp;开头的表示一些属性字段，你原计划要用在&amp;nbsp;where,&amp;nbsp;orderby,&amp;nbsp;groupby&amp;nbsp;中的字段要在这里定义(#&amp;nbsp;为自己添加的注释内容)&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#source&amp;nbsp;数据源名:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;source&amp;nbsp;documents&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;mysql&amp;nbsp;sql_host&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;localhost&amp;nbsp;sql_user&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;root&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_pass&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;yourpassword&amp;nbsp;sql_db&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;test&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_port&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3306&amp;nbsp;#&amp;nbsp;optional,&amp;nbsp;default&amp;nbsp;is&amp;nbsp;3306&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_query_pre&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;SET&amp;nbsp;NAMES&amp;nbsp;utf8&amp;nbsp;sql_query&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;\\&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;id,&amp;nbsp;group_id,&amp;nbsp;UNIX_TIMESTAMP(date_added)&amp;nbsp;AS&amp;nbsp;date_added,&amp;nbsp;title,&amp;nbsp;content&amp;nbsp;\\&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;FROM&amp;nbsp;documents&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_attr_uint&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;group_id&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;sql_attr_timestamp&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;date_added&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;sql_query_info&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;documents&amp;nbsp;WHERE&amp;nbsp;id=$id&amp;nbsp;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;index&amp;nbsp;documents&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;source&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;documents&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#path&amp;nbsp;&amp;nbsp;&amp;nbsp;索引记录存放目录，如&amp;nbsp;d:/sphinx/data/cgfinal&amp;nbsp;,实际存放时会存放在&amp;nbsp;d:/sphinx/data&amp;nbsp;目录，然后创建多个&amp;nbsp;cgfinal&amp;nbsp;名称，不同扩展名的索引文件。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;d:/www/sphinx/data/doc&amp;nbsp;docinfo&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;extern&amp;nbsp;enable_star&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&amp;nbsp;&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;min_word_len&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3&amp;nbsp;min_prefix_len&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;0&amp;nbsp;min_infix_len&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3&amp;nbsp;charset_type&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;sbcs&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;其他的配置如&amp;nbsp;min_word_len,&amp;nbsp;charset_type,&amp;nbsp;charset_table,&amp;nbsp;ngrams_chars,&amp;nbsp;ngram_len&amp;nbsp;这些则是支持中文检索需要设置的内容。&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;如果检索的不是中文，则&amp;nbsp;charset_table,&amp;nbsp;ngrams_chars,&amp;nbsp;min_word_len&amp;nbsp;就要设置不同的内容，具体官方网站的论坛中有很多，大家可以去搜索看看。&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;#&amp;nbsp;mem_limit&amp;nbsp;索引使用内存最大限制，根据机器情况而定，默认是32M，太小的会影响索引的性能。&amp;nbsp;indexer&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;mem_limit&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;32M&amp;nbsp;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;搜索的守护进程配置&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;#&amp;nbsp;在进行全文检索过程中，searchd要先开启，mysql在全文检索时才能连接到sphinx，由sphinx进行全文检索，再将结果返回给mysql&amp;nbsp;#&amp;nbsp;address&amp;nbsp;侦听请求的地址，不设置则侦听所有地址&amp;nbsp;#&amp;nbsp;port&amp;nbsp;侦听端口&amp;nbsp;searchd&amp;nbsp;{&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;port&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;3312&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=d:/www/sphinx/logs/searched_doc.log&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;query_log&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;d:/www/sphinx/logs/query_doc.log&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;read_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;5&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;max_children&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;30&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;pid_file&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;d:/www/sphinx/logs/searched-doc.pid&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;max_matches&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1000&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;seamless_rotate&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;0&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;preopen_indexes&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;0&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;unlink_old&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;nbsp;1&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;}&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;--------------------------------------------------------------------&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;为了测试，我们的&amp;nbsp;Sphinx&amp;nbsp;配置文件已经写好，确保我们的&amp;nbsp;Mysql&amp;nbsp;数据库已经启动，如果没有启动则在&amp;nbsp;cmd&amp;nbsp;中键入&amp;quot;&amp;nbsp;net&amp;nbsp;start&amp;nbsp;mysql&amp;nbsp;&amp;quot;&amp;nbsp;接下来，我们的测试正式开始：&amp;nbsp;1，生成数据索引或重建索引：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;（最好再复制一个&amp;nbsp;sphinx-doc.conf&amp;nbsp;配置文件，并把它放入&amp;nbsp;bin&amp;nbsp;文件夹中，下面的举例&amp;nbsp;假设我们已经这样做）：&amp;nbsp;在&amp;nbsp;cmd&amp;nbsp;模式下：输入：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;d:/www/sphinx/bin/indexer.exe&amp;nbsp;--config&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;d:/www/sphinx/bin/sphinx-doc.conf&amp;nbsp;documents&amp;nbsp;2，运行检索守护进程&amp;nbsp;searchd.exe：&amp;nbsp;&amp;nbsp;d:/www/sphinx/bin/searchd.exe&amp;nbsp;--config&amp;nbsp;d:/www/sphinx/bin/sphinx-doc.conf&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;如过这两步没有报错的话，说明我们的&amp;nbsp;Sphinx&amp;nbsp;已经正常运行了！可以通过&amp;nbsp;netstat&amp;nbsp;-an&amp;nbsp;查看是否&amp;nbsp;3312&amp;nbsp;端口是否处如监听状态。&amp;nbsp;3，现在来用&amp;nbsp;sphinx&amp;nbsp;自带的工具&amp;nbsp;search.exe&amp;nbsp;来测试一下：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;测试：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;索引关键字：&amp;nbsp;this&amp;nbsp;is&amp;nbsp;m&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\www\\sphinx\\bin&amp;gt;search.exe&amp;nbsp;-c&amp;nbsp;d:/www/sphinx/bin/sphinx-doc.conf&amp;nbsp;this&amp;nbsp;is&amp;nbsp;m&amp;nbsp;结果：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1371)&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;&amp;#39;d:/www/sphinx/bin/sphinx-doc.conf&amp;#39;...&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;WARNING:&amp;nbsp;index&amp;nbsp;&amp;#39;documents&amp;#39;:&amp;nbsp;invalid&amp;nbsp;morphology&amp;nbsp;option&amp;nbsp;&amp;#39;extern&amp;#39;&amp;nbsp;-&amp;nbsp;IGNORED&amp;nbsp;index&amp;nbsp;&amp;#39;documents&amp;#39;:&amp;nbsp;query&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;m&amp;nbsp;&amp;#39;:&amp;nbsp;returned&amp;nbsp;4&amp;nbsp;matches&amp;nbsp;of&amp;nbsp;4&amp;nbsp;total&amp;nbsp;in&amp;nbsp;0.000&amp;nbsp;s&amp;nbsp;c&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;displaying&amp;nbsp;matches:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;document=1,&amp;nbsp;weight=1,&amp;nbsp;group_id=1,&amp;nbsp;date_added=Sat&amp;nbsp;Sep&amp;nbsp;13&amp;nbsp;21:37:47&amp;nbsp;2008&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id=1&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id=1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id2=5&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;date_added=2008-09-13&amp;nbsp;21:37:47&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title=test&amp;nbsp;one&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content=this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;one.&amp;nbsp;also&amp;nbsp;checking&amp;nbsp;search&amp;nbsp;withi&amp;nbsp;phrases.&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;2.&amp;nbsp;document=2,&amp;nbsp;weight=1,&amp;nbsp;group_id=1,&amp;nbsp;date_added=Sat&amp;nbsp;Sep&amp;nbsp;13&amp;nbsp;21:37:47&amp;nbsp;2008&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id=2&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id=1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id2=6&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;date_added=2008-09-13&amp;nbsp;21:37:47&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title=test&amp;nbsp;two&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content=this&amp;nbsp;is&amp;nbsp;my&amp;nbsp;test&amp;nbsp;document&amp;nbsp;number&amp;nbsp;two&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;3.&amp;nbsp;document=3,&amp;nbsp;weight=1,&amp;nbsp;group_id=2,&amp;nbsp;date_added=Sat&amp;nbsp;Sep&amp;nbsp;13&amp;nbsp;21:37:47&amp;nbsp;2008&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id=3&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id=2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id2=7&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;date_added=2008-09-13&amp;nbsp;21:37:47&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title=another&amp;nbsp;doc&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content=this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;4.&amp;nbsp;document=4,&amp;nbsp;weight=1,&amp;nbsp;group_id=2,&amp;nbsp;date_added=Sat&amp;nbsp;Sep&amp;nbsp;13&amp;nbsp;21:37:47&amp;nbsp;2008&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id=4&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id=2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id2=8&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;date_added=2008-09-13&amp;nbsp;21:37:47&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title=doc&amp;nbsp;number&amp;nbsp;four&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content=this&amp;nbsp;is&amp;nbsp;to&amp;nbsp;test&amp;nbsp;groups&amp;nbsp;words:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;&amp;#39;this&amp;#39;:&amp;nbsp;4&amp;nbsp;documents,&amp;nbsp;4&amp;nbsp;hits&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;索引关键字：&amp;nbsp;this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;D:\\www\\sphinx\\bin&amp;gt;search.exe&amp;nbsp;-c&amp;nbsp;d:/www/sphinx/bin/sphinx-doc.conf&amp;nbsp;this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;nbsp;结果：&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Sphinx&amp;nbsp;0.9.8-release&amp;nbsp;(r1371)&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;Copyright&amp;nbsp;(c)&amp;nbsp;2001-2008,&amp;nbsp;Andrew&amp;nbsp;Aksyonoff&amp;nbsp;&amp;nbsp;-------------------&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;到此sphinx在win上算正常运行了，sphinx-doc.conf文件配置比较灵活，根据你需要索引的数据库进行灵活配置来达到你需要的效果&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;如果配置过程中出现运行参数配置问题可以查看&amp;nbsp;doc/sphinx.html文件，里面对各种参数都要详细的说明&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;using&amp;nbsp;config&amp;nbsp;file&amp;nbsp;&amp;#39;d:/www/sphinx/bin/sphinx-doc.conf&amp;#39;...&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;WARNING:&amp;nbsp;index&amp;nbsp;&amp;#39;documents&amp;#39;:&amp;nbsp;invalid&amp;nbsp;morphology&amp;nbsp;option&amp;nbsp;&amp;#39;extern&amp;#39;&amp;nbsp;-&amp;nbsp;IGNORED&amp;nbsp;index&amp;nbsp;&amp;#39;documents&amp;#39;:&amp;nbsp;query&amp;nbsp;&amp;#39;this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;nbsp;&amp;#39;:&amp;nbsp;returned&amp;nbsp;1&amp;nbsp;matches&amp;nbsp;of&amp;nbsp;1&amp;nbsp;total&amp;nbsp;in&amp;nbsp;0.000&amp;nbsp;sec&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; line-height: 1.5;&quot;&gt;displaying&amp;nbsp;matches:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;document=3,&amp;nbsp;weight=4,&amp;nbsp;group_id=2,&amp;nbsp;date_added=Sat&amp;nbsp;Sep&amp;nbsp;13&amp;nbsp;21:37:47&amp;nbsp;2008&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;id=3&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id=2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group_id2=7&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;date_added=2008-09-13&amp;nbsp;21:37:47&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title=another&amp;nbsp;doc&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content=this&amp;nbsp;is&amp;nbsp;another&amp;nbsp;group&amp;nbsp;words:&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px;&quot;/&gt;1.&amp;nbsp;&amp;#39;this&amp;#39;:&amp;nbsp;4&amp;nbsp;documents,&amp;nbsp;4&amp;nbsp;hits&amp;nbsp;2.&amp;nbsp;&amp;#39;another&amp;#39;:&amp;nbsp;1&amp;nbsp;documents,&amp;nbsp;2&amp;nbsp;hits&amp;nbsp;3.&amp;nbsp;&amp;#39;group&amp;#39;:&amp;nbsp;1&amp;nbsp;documents,&amp;nbsp;1&amp;nbsp;hits&amp;nbsp;&lt;/p&gt;&lt;p&gt;只有想不到,没有做不到！！！&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1487906032','1'),
('28','1',' ThinkPHP 之 手机端API开发','1','app接口开发','&lt;h3 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.5em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;规划&lt;/h3&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;API请求的执行流程：&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;router：路由，把请求路由到controller&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;权限认证：&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;list-style-type: square;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;登录验证&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;行为权限判断&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;模型拥有权限判断&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;请求被转发到控制器执行&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;返回数据结果&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;模型拥有权限判断 :&lt;/span&gt;&amp;nbsp;比如店长具有写店铺信息的权限：即“行为权限判断”，但是要判断他写入的对象是不是belong to 他，所以有了这个判断，应该很好理解吧&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;计划好上面的流程，所以我们可以想想TP要怎么做呢？&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;路由：Tp本身就有路由啦，直接拿来用，不多说了。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;请求被转发到控制器执行：这个也是由TP的路由自己有的，所以也没啥好多说的，主要还是控制器中间的逻辑&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;权限验证：this is a big question！既然router可以直接把请求转到控制器下，那么我们要怎么做权限验证呢？难道要在每个控制器里面写一遍吗？当然，其实我们有其他的解决方法：大家不知道有没有看到其实tp也支持apo面向切入的，在tp叫做&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;Behavior&lt;/span&gt;。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.5em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;关于ThinkPHP基础&lt;/h3&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;下载thinkphp：&lt;a href=&quot;http://www.thinkphp.cn/down.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://www.thinkphp.cn/down.html&lt;/a&gt;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;thinphp文档地址：&lt;a href=&quot;http://www.kancloud.cn/manual/thinkphp/1678&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://www.kancloud.cn/manual/thinkphp/1...&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后把它放到本地服务器下，我用的是MAMP，window系统建议使用xmapp&lt;/p&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;（如不会请自行百度，xmapp已经算傻瓜操作了，下载就能用，还附带mysql和phpmyadmin）&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;访问&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;http://localhost&lt;/code&gt;&lt;/p&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;就可以看到Application目录下面多了Home目录，以后我们主要在这下面进行开发。然后你需要做的是填写好数据库的信息，与数据建立连接&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.5em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;建立Router&lt;/h3&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;在配置&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Home/Conf/config.php&lt;/code&gt;中开启路由，同时为了将路由单独分离出来，我们在这个文件夹下面单独建一个&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;router.php&lt;/code&gt;，并在&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Home/Conf/config.php&lt;/code&gt;这样写：&lt;/p&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;?phpreturn&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;#39;配置项&amp;#39;=&amp;gt;&amp;#39;配置值&amp;#39;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;URL_ROUTER_ON&amp;#39;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;gt;&amp;nbsp;true,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;URL_ROUTE_RULES&amp;#39;=&amp;gt;&amp;nbsp;include_once&amp;nbsp;__DIR__.&amp;#39;/router.php&amp;#39;,
);&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;之后我们在router.php添加测试路由&lt;/p&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;?phpreturn&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;news/:id&amp;#39;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;Index/index&amp;#39;,
);&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;访问&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;http://localhost/news/1&lt;/code&gt;，之后我们发现&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;无法加载模块:News&lt;/code&gt;的错误提示，那是因为我们没有绑定默认模块，所以必须用&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;http://localhost/Home/news/1&lt;/code&gt;访问，或者在&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;index.php&lt;/code&gt;添加&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;define(&amp;#39;BIND_MODULE&amp;#39;,&amp;#39;Home&amp;#39;);&lt;/code&gt;&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;解决好上面问题，我们就能看主页了。&lt;/p&gt;&lt;h3 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.5em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;设置权限验证类&lt;/h3&gt;&lt;h4 style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px; font-size: 1.25em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;建立数据库&lt;/h4&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;建立用户表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;`users`&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`id`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;AUTO_INCREMENT,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`tel`&amp;nbsp;varchar(19)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;手机号&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`password`&amp;nbsp;char(32)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;密码&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`avatar`&amp;nbsp;varchar(500)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;头像&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`nick`&amp;nbsp;varchar(45)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;昵称&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`id`)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;建立AccessToken表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;`access_token`&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`id`&amp;nbsp;int(11)&amp;nbsp;unsigned&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;AUTO_INCREMENT,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`token`&amp;nbsp;char(60)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;DEFAULT&amp;nbsp;&amp;#39;&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`uid`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;用户id&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`failuretime`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;失效时间&amp;nbsp;时间戳&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`id`)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;建立角色组表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;`role_group`&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`id`&amp;nbsp;int(11)&amp;nbsp;unsigned&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;AUTO_INCREMENT,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`name`&amp;nbsp;varchar(20)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;用户组名称&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`rules`&amp;nbsp;varchar(1000)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;规则数组&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`id`)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;建立规则表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;`rule`&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`id`&amp;nbsp;int(11)&amp;nbsp;unsigned&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;AUTO_INCREMENT,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`action`&amp;nbsp;varchar(20)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;动作标识&amp;nbsp;唯一标识&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`name`&amp;nbsp;varchar(30)&amp;nbsp;DEFAULT&amp;nbsp;NULL&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;规则名称&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`condition`&amp;nbsp;varchar(300)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;DEFAULT&amp;nbsp;&amp;#39;&amp;#39;&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;条件&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`type`&amp;nbsp;int(1)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;DEFAULT&amp;nbsp;&amp;#39;0&amp;#39;&amp;nbsp;COMMENT&amp;nbsp;&amp;#39;\\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;-&amp;nbsp;member\\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;-&amp;nbsp;owner\\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2&amp;nbsp;-&amp;nbsp;&amp;nbsp;everyone&amp;nbsp;&amp;#39;,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`id`),&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;UNIQUE&amp;nbsp;KEY&amp;nbsp;`action`&amp;nbsp;(`action`)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;AUTO_INCREMENT=2&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;建立用户归属角色组表&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;`role_user_play`&amp;nbsp;(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`uid`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`rid`&amp;nbsp;int(11)&amp;nbsp;NOT&amp;nbsp;NULL,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`uid`,`rid`)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;ENGINE=InnoDB&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/pre&gt;&lt;h4 style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px; font-size: 1.25em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;编写权限验证类&lt;/h4&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;建立好以上表，下面我们来建立权限验证的类库扩展&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;在&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ThinkPHP/Libaray/Org/Util&lt;/code&gt;下建立&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Auth.class.php&lt;/code&gt;&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;代码如下&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;lt;?php/**
&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;PhpStorm.
&amp;nbsp;*&amp;nbsp;User:&amp;nbsp;rojer
&amp;nbsp;*&amp;nbsp;Date:&amp;nbsp;16/3/30
&amp;nbsp;*&amp;nbsp;Time:&amp;nbsp;下午1:38
&amp;nbsp;*/namespace&amp;nbsp;Org\\Util;class&amp;nbsp;Auth{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$user&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$table_users&amp;nbsp;=&amp;nbsp;&amp;#39;users&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$table_access_token&amp;nbsp;=&amp;nbsp;&amp;#39;access_token&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$table_role_group&amp;nbsp;=&amp;nbsp;&amp;#39;role_group&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$table_rule&amp;nbsp;=&amp;nbsp;&amp;#39;rule&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$table_role_user_play&amp;nbsp;=&amp;nbsp;&amp;#39;role_user_play&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;const&amp;nbsp;TYPE_MEMBER&amp;nbsp;=&amp;nbsp;0;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;const&amp;nbsp;TYPE_OWNER&amp;nbsp;=&amp;nbsp;1;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;const&amp;nbsp;TYPE_EVERYONE&amp;nbsp;=&amp;nbsp;2;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$targetModel&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$targetKey&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;$foreignKey&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;__construct()&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;foreignKey&amp;nbsp;=&amp;nbsp;$this-&amp;gt;table_users.&amp;#39;_id&amp;#39;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;设置检查模块对象信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$t&amp;nbsp;对象模块名称
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$key&amp;nbsp;目标主键
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;null&amp;nbsp;$f&amp;nbsp;外键
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;setTargetModel($arr){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$t&amp;nbsp;=&amp;nbsp;$arr[0];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$key&amp;nbsp;=&amp;nbsp;$arr[1];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$f&amp;nbsp;=&amp;nbsp;$arr[2];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$f&amp;nbsp;==&amp;nbsp;null&amp;nbsp;||&amp;nbsp;$this-&amp;gt;foreignKey&amp;nbsp;=&amp;nbsp;$f;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;targetModel&amp;nbsp;=&amp;nbsp;$t;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;targetKey&amp;nbsp;=&amp;nbsp;$key;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;判断用户是否已经登录
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$accesstoken
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;bool
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;function&amp;nbsp;checkLogin(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$userModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_users);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accesstoken&amp;nbsp;=&amp;nbsp;I(&amp;#39;server.HTTP_ACCESS_TOKEN&amp;#39;,null);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$accesstoken){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;请输入您的accesstoken!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accessTokenModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_access_token);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$tokenInfo&amp;nbsp;=&amp;nbsp;$accessTokenModel-&amp;gt;where(&amp;quot;&amp;#39;token&amp;nbsp;=&amp;nbsp;&amp;#39;%s&amp;#39;&amp;quot;,$accesstoken)-&amp;gt;find();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$tokenInfo){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;认证失败!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($tokenInfo[&amp;#39;failuretime&amp;#39;]&amp;nbsp;&amp;lt;&amp;nbsp;time()){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;认证已经失效,请重新认证!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;user&amp;nbsp;=&amp;nbsp;$userModel-&amp;gt;find($tokenInfo[&amp;#39;uid&amp;#39;]);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;true;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;refreshToken(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accesstoken&amp;nbsp;=&amp;nbsp;I(&amp;#39;server.HTTP_ACCESS_TOKEN&amp;#39;,null);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$accesstoken){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;请输入您的accesstoken!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accessTokenModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_access_token);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$tokenInfo&amp;nbsp;=&amp;nbsp;$accessTokenModel-&amp;gt;where(&amp;quot;&amp;#39;token&amp;nbsp;=&amp;nbsp;&amp;#39;%s&amp;#39;&amp;quot;,$accesstoken)-&amp;gt;find();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$tokenInfo){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;无效请输入您的accesstoken!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($tokenInfo[&amp;#39;failuretime&amp;#39;]&amp;nbsp;&amp;lt;&amp;nbsp;time()){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;认证已经失效,请重新认证!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$time&amp;nbsp;=&amp;nbsp;strtotime(&amp;quot;+30&amp;nbsp;day&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data&amp;nbsp;=&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;failuretime&amp;#39;=&amp;gt;&amp;nbsp;$time
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accessTokenModel-&amp;gt;where(&amp;quot;&amp;#39;token&amp;nbsp;=&amp;nbsp;&amp;#39;%s&amp;#39;&amp;quot;,$accesstoken)-&amp;gt;save($data);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$time;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;判断用户是否具有操作权限
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$actionname
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;bool
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;checkPermission($actionname){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//获取动作的定义信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$rule&amp;nbsp;=&amp;nbsp;$ruleModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_rule)-&amp;gt;where(&amp;quot;action&amp;nbsp;=&amp;nbsp;&amp;#39;%s&amp;#39;&amp;quot;,$actionname)-&amp;gt;find();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//未定义的动作和允许任何人操作的动作直接通过
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$rule&amp;nbsp;||&amp;nbsp;$rule[&amp;#39;type&amp;#39;]&amp;nbsp;==&amp;nbsp;$this::TYPE_EVERYONE)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;true;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//判断用户登录与非
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$this-&amp;gt;checkLogin())&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$checkResult&amp;nbsp;=&amp;nbsp;false;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//获取该用户的用户组并关联出该用户组拥有的全部动作id集合
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$roleUserPlayModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_role_user_play)-&amp;gt;where(&amp;#39;uid&amp;nbsp;=&amp;nbsp;%d&amp;#39;,$this-&amp;gt;user[&amp;#39;id&amp;#39;]);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$roleUserPlayModel&amp;nbsp;=&amp;nbsp;$roleUserPlayModel-&amp;gt;join($this-&amp;gt;table_role_group.&amp;#39;&amp;nbsp;AS&amp;nbsp;table_role_group&amp;nbsp;on&amp;nbsp;&amp;#39;.$this-&amp;gt;table_rule.&amp;#39;.rid&amp;nbsp;=&amp;nbsp;table_role_group.id&amp;#39;,&amp;#39;LEFT&amp;#39;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$groups&amp;nbsp;=&amp;nbsp;$roleUserPlayModel-&amp;gt;select();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$permission_ids&amp;nbsp;=&amp;nbsp;array();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($groups&amp;nbsp;as&amp;nbsp;$group){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ids&amp;nbsp;=&amp;nbsp;explode(&amp;#39;,&amp;#39;,$groups[&amp;#39;rules&amp;#39;]);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$permission_ids&amp;nbsp;=&amp;nbsp;array_merge($permission_ids,$ids);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$permission_ids&amp;nbsp;=&amp;nbsp;array_unique($permission_ids);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//判断动作是否
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(in_array($rule[&amp;#39;id&amp;#39;],$permission_ids))&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$checkResult&amp;nbsp;=&amp;nbsp;true;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!empty($rule[&amp;#39;condition&amp;#39;]))&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//条件验证
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$user&amp;nbsp;=&amp;nbsp;$this-&amp;gt;user;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$command&amp;nbsp;=&amp;nbsp;preg_replace(&amp;#39;/\\{(\\w*?)\\}/&amp;#39;,&amp;nbsp;&amp;#39;$user[\\&amp;#39;\\\\1\\&amp;#39;]&amp;#39;,&amp;nbsp;$rule[&amp;#39;condition&amp;#39;]);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//dump($command);//debug
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$condition&amp;nbsp;=&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@(eval(&amp;#39;$condition=(&amp;#39;&amp;nbsp;.&amp;nbsp;$command&amp;nbsp;.&amp;nbsp;&amp;#39;);&amp;#39;));&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!$condition)&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;quot;用户&amp;nbsp;$command&amp;nbsp;,不符合要求的&amp;nbsp;&amp;quot;.$rule[&amp;#39;condition&amp;#39;].&amp;quot;&amp;nbsp;条件!&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//判断是否需要验证用户是否拥有模块
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($rule[&amp;#39;type&amp;#39;]&amp;nbsp;==&amp;nbsp;$this::TYPE_OWNER){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$checkResult&amp;nbsp;=&amp;nbsp;$this-&amp;gt;checkOwner();
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$checkResult;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;判断操作对象所有权
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$checkmodel
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;string&amp;nbsp;$foreign
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;bool
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;function&amp;nbsp;checkOwner(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($this-&amp;gt;targetModel&amp;nbsp;==&amp;nbsp;null&amp;nbsp;||&amp;nbsp;$this-&amp;gt;targetKey&amp;nbsp;==&amp;nbsp;null)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;targetModel)-&amp;gt;find($this-&amp;gt;targetKey);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if($result[$this-&amp;gt;foreignKey]&amp;nbsp;==&amp;nbsp;$this-&amp;gt;user[&amp;#39;id&amp;#39;]){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;true;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;errormsg&amp;nbsp;=&amp;nbsp;&amp;#39;您没有权限操作该资源!&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;false;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;颁发用户token
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$uid
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;int&amp;nbsp;$days
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;$time
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;null|string
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;awardAccessToken($uid,$days&amp;nbsp;=&amp;nbsp;30,&amp;amp;$time){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$token&amp;nbsp;=&amp;nbsp;$this-&amp;gt;getRandChar();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accessTokenModel&amp;nbsp;=&amp;nbsp;M($this-&amp;gt;table_access_token);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$time&amp;nbsp;=&amp;nbsp;strtotime(&amp;quot;+$days&amp;nbsp;day&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data&amp;nbsp;=&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;token&amp;#39;=&amp;gt;$token,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;uid&amp;#39;=&amp;gt;$uid,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;failuretime&amp;#39;=&amp;gt;&amp;nbsp;$time
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$accessTokenModel-&amp;gt;add($data);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$token;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;获取错误信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;string
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;getErroeMsg(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$this-&amp;gt;errormsg;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;生成随机字符串
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;int&amp;nbsp;$length
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;null|string
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private&amp;nbsp;function&amp;nbsp;getRandChar($length&amp;nbsp;=&amp;nbsp;60){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$strPol&amp;nbsp;=&amp;nbsp;&amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz&amp;quot;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$max&amp;nbsp;=&amp;nbsp;strlen($strPol)-1;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for($i=0;$i&amp;lt;$length;$i++){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str.=$strPol[mt_rand(0,$max)];//mt_rand($min,$max)生成介于min和max两个数之间的一个随机整数
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$str;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&lt;/pre&gt;&lt;h3 id=&quot;articleHeader4&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.5em; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;设置验证权限行为&lt;/h3&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;在&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Application/Common/Conf&lt;/code&gt;下建立&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;tags.php&lt;/code&gt;内容如下：&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;lt;?php/**
&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;PhpStorm.
&amp;nbsp;*&amp;nbsp;User:&amp;nbsp;rojer
&amp;nbsp;*&amp;nbsp;Date:&amp;nbsp;16/3/30
&amp;nbsp;*&amp;nbsp;Time:&amp;nbsp;下午1:59
&amp;nbsp;*/return&amp;nbsp;array(&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;auth&amp;#39;=&amp;gt;array(&amp;#39;Home\\\\Behaviors\\\\AuthBehavior&amp;#39;),
);&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后我们在Application/Home/Behaviors下建立AuthBehavior.class.php，代码如下：&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;lt;?phpnamespace&amp;nbsp;Home\\Behaviors;/**
&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;PhpStorm.
&amp;nbsp;*&amp;nbsp;User:&amp;nbsp;rojer
&amp;nbsp;*&amp;nbsp;Date:&amp;nbsp;16/3/30
&amp;nbsp;*&amp;nbsp;Time:&amp;nbsp;下午2:01
&amp;nbsp;*/class&amp;nbsp;AuthBehavior&amp;nbsp;extends&amp;nbsp;\\Think\\Behavior{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;执行行为&amp;nbsp;run方法是Behavior唯一的接口
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@access&amp;nbsp;public
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;mixed&amp;nbsp;$params&amp;nbsp;行为参数
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;void
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;run(&amp;amp;$params)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$auth&amp;nbsp;=&amp;nbsp;new&amp;nbsp;\\Org\\Util\\Auth();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$params-&amp;gt;setAuth($auth);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$auth-&amp;gt;setTargetModel($params-&amp;gt;getTargetModel());&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$auth_result&amp;nbsp;=&amp;nbsp;$auth-&amp;gt;checkPermission(CONTROLLER_NAME.&amp;#39;::&amp;#39;.ACTION_NAME);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!$auth_result){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$params-&amp;gt;error($auth-&amp;gt;getErroeMsg());
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;之后我们要建立一个抽象类&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Application/Home/Controller/BaseController.class.php&lt;/code&gt;继承自&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Controller&lt;/code&gt;代码如下：&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;lt;?php/**
&amp;nbsp;*&amp;nbsp;Created&amp;nbsp;by&amp;nbsp;PhpStorm.
&amp;nbsp;*&amp;nbsp;User:&amp;nbsp;rojer
&amp;nbsp;*&amp;nbsp;Date:&amp;nbsp;16/4/5
&amp;nbsp;*&amp;nbsp;Time:&amp;nbsp;下午9:28
&amp;nbsp;*/namespace&amp;nbsp;Home\\Controller;use&amp;nbsp;Think\\Controller;abstract&amp;nbsp;class&amp;nbsp;BaseController&amp;nbsp;extends&amp;nbsp;Controller{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;abstract&amp;nbsp;function&amp;nbsp;getTargetModel();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected&amp;nbsp;$auth&amp;nbsp;=&amp;nbsp;null;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;setAuth($self){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;auth&amp;nbsp;=&amp;nbsp;$self;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;_initialize(){
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\\Think\\Hook::listen(&amp;#39;auth&amp;#39;,&amp;nbsp;$this);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;error($data,$status=-1){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$this-&amp;gt;ajaxReturn(array(&amp;#39;msg&amp;#39;=&amp;gt;$data,&amp;#39;status&amp;#39;=&amp;gt;$status));
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;最后我们把&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;Application/Home/Controller/IndexController.class.php&lt;/code&gt;继承自&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;BaseController&lt;/code&gt;并实现&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;getTargetModel&lt;/code&gt;方法即可：&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;&amp;lt;?phpnamespace&amp;nbsp;Home\\Controller;use&amp;nbsp;Think\\Controller;class&amp;nbsp;IndexController&amp;nbsp;extends&amp;nbsp;BaseController&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;function&amp;nbsp;index(){
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;getTargetModel()
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;array(&amp;#39;test&amp;#39;,I(&amp;#39;a&amp;#39;),&amp;#39;uid&amp;#39;);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;在数据库中，我们插入&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`rule`&amp;nbsp;(`id`,&amp;nbsp;`action`,&amp;nbsp;`name`,&amp;nbsp;`condition`,&amp;nbsp;`type`)VALUES
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(1,&amp;nbsp;&amp;#39;Index::index&amp;#39;,&amp;nbsp;&amp;#39;测试&amp;#39;,&amp;nbsp;&amp;#39;{nick}=\\&amp;#39;1\\&amp;#39;&amp;#39;,&amp;nbsp;0);&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;之后访问&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;http://localhost/news/1&lt;/code&gt;就能看到&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-top: 1.5em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative;&quot;&gt;{&amp;quot;msg&amp;quot;:&amp;nbsp;&amp;quot;请输入您的accesstoken!&amp;quot;,&amp;nbsp;&amp;quot;status&amp;quot;:&amp;nbsp;-1}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;的提示。&lt;/p&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;基础Auth部分完毕&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;Git地址：&lt;a href=&quot;https://github.com/enjory520/shizai.git&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;https://github.com/enjory520/shizai.git&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586294','1'),
('29','1','PC端微信扫码支付','1','PC端微信扫码支付','&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;第一步 首先把官方的微信demo下载下来进行配置部署&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;给大家个传送门-&amp;gt;&amp;nbsp;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_1&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;PHP微信支付demo下载&lt;/a&gt;&lt;/p&gt;&lt;pre class=&quot;hljs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;nbsp;拿到文件后解压，解压后把文件夹改名为payment（也可以随意改，但是博主觉得这样规范点！）而后上传至项目的根目录，各位大佬不知道什么是根目录就请看这（/）.其实我是逗你们的。
&amp;nbsp;
&amp;nbsp;
&amp;nbsp;而后进入微信的商户后台，设置api的key注意看下图（网上随意找的~丑了点，将就吧！）设置完后，下载证书文件。而后把证书解压出来！放到微信支付demo里面，也就是上一步上传服务器的demo文件夹中！下面是详细步骤：&lt;/pre&gt;&lt;ol style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;设置密钥（如图）&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;img data-src=&quot;/img/bVKgHt?w=1722&amp;amp;h=614&quot; src=&quot;https://segmentfault.com/img/bVKgHt?w=1722&amp;h=614&quot; style=&quot;box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;下载证书，得到压缩文件夹，解压后上传到payment中的cert中！（如图，图上有路径）&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;img data-src=&quot;/img/bVKgIb?w=1350&amp;amp;h=382&quot; src=&quot;https://segmentfault.com/img/bVKgIb?w=1350&amp;h=382&quot; style=&quot;box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;在此顺便给logs文件夹（支付日志）一个写入的权限&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;img data-src=&quot;/img/bVKgKy?w=766&amp;amp;h=982&quot; src=&quot;https://segmentfault.com/img/bVKgKy?w=766&amp;h=982&quot; style=&quot;box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;修改微信支付demo中的配置文件WxPay.Config.php(如图：路径)&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;&lt;img data-src=&quot;/img/bVKgIR?w=1166&amp;amp;h=328&quot; src=&quot;https://segmentfault.com/img/bVKgIR?w=1166&amp;h=328&quot; style=&quot;box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; max-width: 100%; position: static !important; padding: 3px; cursor: pointer; display: inline;&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre class=&quot;hljs cs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;//只用修改第25、26、27、28行（示例）const&amp;nbsp;APPID&amp;nbsp;=&amp;nbsp;&amp;#39;wx2a3f1e5246886123&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//微信公众号的APPIDconst&amp;nbsp;MCHID&amp;nbsp;=&amp;nbsp;&amp;#39;1300778123&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//微信商户号&amp;nbsp;&amp;nbsp;&amp;nbsp;const&amp;nbsp;KEY&amp;nbsp;=&amp;nbsp;&amp;#39;619fd0f3f9c64550964bbe5b94dba123&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//微信商户密钥（上面步骤中设置的那个）const&amp;nbsp;APPSECRET&amp;nbsp;=&amp;nbsp;&amp;#39;5c8289b72600936f813ec1939e68f123&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//微信公众号的APPSECRET&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;第一步分的配置咋们就完成了，请各位大佬继续跟着小的往下走！&lt;/p&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;第二部 调整前段代码 大部分都是JS，不懂JS得直接略过吧，否则看着难受！&lt;/p&gt;&lt;/blockquote&gt;&lt;pre class=&quot;hljs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;对于点击后弹出支付的这一块逻辑，撸主的思路是：点击支付按钮-&amp;gt;执行Ajax获取到二维码展示在页面-&amp;gt;开始执行轮询获取支付状态；（撸主虽然JS很菜，但是每一条代码后面都会注释给大家，比我菜的可以看一下）&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;创建获取二维码的文件 getPayQrcode.php&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;?php
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;放入老衲前不久写的curl函数&amp;nbsp;用curl方法获取二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;curlGet($url)&amp;nbsp;{&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ch&amp;nbsp;=&amp;nbsp;curl_init();&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_URL,&amp;nbsp;$url);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_RETURNTRANSFER,&amp;nbsp;1);&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_HEADER,&amp;nbsp;false);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_FOLLOWLOCATION,&amp;nbsp;1);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;curl_exec($ch);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;正式流程开始&amp;nbsp;返回的二维码是带信息的，所以需要先接收商品信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;比如:我是get过来商品的id，而后再进行查询数据库；这里大家随意；
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsId&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsId&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;利用商品ID查询到商品名称和价格
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsName&amp;nbsp;=&amp;nbsp;&amp;#39;好日子牌姨妈巾&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsPrice&amp;nbsp;=&amp;nbsp;&amp;#39;250&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;下面构造请求二维码的链接（由于是获取二维码支付，所以咋们请求的是native.php;后面会对该文件进行详细讲解）
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$url&amp;nbsp;=&amp;nbsp;&amp;#39;http://www.baidu.com/payment/example/native.php?goodsName=&amp;#39;.$goodsName.&amp;#39;&amp;amp;goodsPrice=&amp;#39;.goodsPrice;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;执行curlGet()函数
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data&amp;nbsp;=&amp;nbsp;curlGet($url);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;preg_match_all函数进行全局正则表达式匹配,获取到二维码的链接。&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;preg_match(&amp;#39;/&amp;lt;\\s*img\\s+[^&amp;gt;]*?src\\s*=\\s*(\\&amp;#39;|\\&amp;quot;)(.*?)\\\\1[^&amp;gt;]*?\\/?\\s*&amp;gt;/i&amp;#39;,$data,$matches);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;preg_match(&amp;#39;/\\|\\|(.*)\\|\\|/&amp;#39;,$matches[0],$aac);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;构造返回信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;status&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;success&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;code&amp;#39;]&amp;nbsp;=&amp;nbsp;$aac[1];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;此值为返回交易码【用来确认订单支付状态的】
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;price&amp;#39;]&amp;nbsp;=&amp;nbsp;$goodsPrice;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;msg&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;/payment/example/&amp;#39;.$matches[&amp;#39;2&amp;#39;];&amp;nbsp;//&amp;nbsp;请求返回的二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;json_encode($obj);//&amp;nbsp;返回json
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;获取二维码的文件已经ok！继续下一步&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;设置微信支付demo中的扫码支付文件 payment/example/native.php&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs php&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;//在大概19行找到该代码&amp;nbsp;$notify&amp;nbsp;=&amp;nbsp;new&amp;nbsp;NativePay();&amp;nbsp;并在下方添加获取商品名字和商品价格的代码//&amp;nbsp;接收get过来的商品价格和名称$goodsPrice&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsPrice&amp;#39;];$goodsName&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsName&amp;#39;];//下面修改从第32号开始的一大堆$input开头的$input&amp;nbsp;=&amp;nbsp;new&amp;nbsp;WxPayUnifiedOrder();$input-&amp;gt;SetBody($goodsName);//商品名称$input-&amp;gt;SetAttach(&amp;quot;大姨妈商城&amp;quot;);//自己设置$num&amp;nbsp;=&amp;nbsp;WxPayConfig::MCHID.date(&amp;quot;YmdHis&amp;quot;);//订单号$input-&amp;gt;SetOut_trade_no($num);$input-&amp;gt;SetTotal_fee($goodsPrice*100);//注意！！！！！！！！！由于是以分为单位结算，所以一定要记得商品价格*100；别到时候下岗了来怪撸主$input-&amp;gt;SetTime_start(date(&amp;quot;YmdHis&amp;quot;));$input-&amp;gt;SetTime_expire(date(&amp;quot;YmdHis&amp;quot;,&amp;nbsp;time()&amp;nbsp;+&amp;nbsp;600));$input-&amp;gt;SetGoods_tag($goodsName);//下面的这些参数大家自己看一下文档吧！意义都不大，撸主肾虚，要早点写完早点睡!$input-&amp;gt;SetNotify_url(&amp;quot;/payment/example/notify.php&amp;quot;);$input-&amp;gt;SetTrade_type(&amp;quot;NATIVE&amp;quot;);$input-&amp;gt;SetProduct_id(&amp;quot;123456789&amp;quot;);$result&amp;nbsp;=&amp;nbsp;$notify-&amp;gt;GetPayUrl($input);//print_r($result);//最终的信息，大家可以打印了进行调试$url2&amp;nbsp;=&amp;nbsp;$result[&amp;quot;code_url&amp;quot;];//&amp;nbsp;ok！整个文件的PHP代码就完毕了！在这以下的html代码全部把它干掉，把撸主准备的这段贴上去&amp;nbsp;这段代码不做什么解释了，也是用于查询订单状态的轮询，调试用的~！下面还会用到一次，讲的很详细&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;meta&amp;nbsp;http-equiv=&amp;quot;content-type&amp;quot;&amp;nbsp;content=&amp;quot;text/html;charset=utf-8&amp;quot;/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;meta&amp;nbsp;name=&amp;quot;viewport&amp;quot;&amp;nbsp;content=&amp;quot;width=device-width,&amp;nbsp;initial-scale=1&amp;quot;&amp;nbsp;/&amp;gt;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;title&amp;gt;微信支付样例&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;style=&amp;quot;margin-left:&amp;nbsp;10px;color:#556B2F;font-size:30px;font-weight:&amp;nbsp;bolder;&amp;quot;&amp;gt;扫描支付模式二&amp;lt;/div&amp;gt;&amp;lt;br/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;img&amp;nbsp;alt=&amp;quot;||&amp;lt;?php&amp;nbsp;echo&amp;nbsp;$num?&amp;gt;||&amp;quot;&amp;nbsp;src=&amp;quot;qrcode.php?data=&amp;lt;?php&amp;nbsp;echo&amp;nbsp;urlencode($url2);?&amp;gt;&amp;quot;&amp;nbsp;style=&amp;quot;width:150px;height:150px;&amp;quot;/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;id=&amp;quot;myDiv&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;timer&amp;quot;&amp;gt;0&amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;script&amp;gt;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//设置每隔1000毫秒执行一次load()&amp;nbsp;方法&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;myIntval=setInterval(function(){load()},1000);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;load(){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;timer&amp;quot;).innerHTML=parseInt(document.getElementById(&amp;quot;timer&amp;quot;).innerHTML)+1;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;xmlhttp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(window.XMLHttpRequest){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE7+,&amp;nbsp;Firefox,&amp;nbsp;Chrome,&amp;nbsp;Opera,&amp;nbsp;Safari&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;XMLHttpRequest();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE6,&amp;nbsp;IE5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.onreadystatechange=function(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(xmlhttp.readyState==4&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;xmlhttp.status==200){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;trade_state=xmlhttp.responseText;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(trade_state==&amp;#39;SUCCESS&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付成功&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//alert(transaction_id);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//延迟3000毫秒执行tz()&amp;nbsp;方法
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setTimeout(&amp;quot;location.href=&amp;#39;success.php&amp;#39;&amp;quot;,3000);&amp;nbsp;&amp;nbsp;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;REFUND&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;转入退款&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;NOTPAY&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;请扫码支付&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;CLOSED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已关闭&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;REVOKED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已撤销&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;USERPAYING&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;用户支付中&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;PAYERROR&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付失败&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//orderquery.php&amp;nbsp;文件返回订单状态，通过订单状态确定支付状态&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.open(&amp;quot;POST&amp;quot;,&amp;quot;orderquery.php&amp;quot;,false);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//下面这句话必须有&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把标签/值对添加到要发送的头文件。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.setRequestHeader(&amp;quot;Content-type&amp;quot;,&amp;quot;application/x-www-form-urlencoded&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.send(&amp;quot;out_trade_no=&amp;lt;?php&amp;nbsp;echo&amp;nbsp;$num;?&amp;gt;&amp;quot;);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;微信支付demo订单查询文件 payment/example/orderquery.php&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs php&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;header(&amp;quot;Access-Control-Allow-Origin:*&amp;quot;);&amp;nbsp;//&amp;nbsp;因为撸主的支付实在另外一台服务器上，所以给了一个域头ini_set(&amp;#39;date.timezone&amp;#39;,&amp;#39;Asia/Shanghai&amp;#39;);//&amp;nbsp;设置一下时区error_reporting(E_ERROR);&amp;nbsp;//&amp;nbsp;关闭报错require_once&amp;nbsp;&amp;quot;../lib/WxPay.Api.php&amp;quot;;require_once&amp;nbsp;&amp;#39;log.php&amp;#39;;&amp;nbsp;
//初始化日志$logHandler=&amp;nbsp;new&amp;nbsp;CLogFileHandler(&amp;quot;./logs/&amp;quot;.date(&amp;#39;Y-m-d&amp;#39;).&amp;#39;.log&amp;#39;);$log&amp;nbsp;=&amp;nbsp;Log::Init($logHandler,&amp;nbsp;15);&amp;nbsp;
function&amp;nbsp;printf_info($data){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($data&amp;nbsp;as&amp;nbsp;$key=&amp;gt;$value){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;lt;font&amp;nbsp;color=&amp;#39;#f00;&amp;#39;&amp;gt;$key&amp;lt;/font&amp;gt;&amp;nbsp;:&amp;nbsp;$value&amp;nbsp;&amp;lt;br/&amp;gt;&amp;quot;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&amp;nbsp;
//&amp;nbsp;一下两个if的判断均为判断订单的状态，这里撸主建议去微信官网进行查阅，下面有传送门送你过去if(isset($_REQUEST[&amp;quot;transaction_id&amp;quot;])&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;$_REQUEST[&amp;quot;transaction_id&amp;quot;]&amp;nbsp;!=&amp;nbsp;&amp;quot;&amp;quot;){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$transaction_id&amp;nbsp;=&amp;nbsp;$_REQUEST[&amp;quot;transaction_id&amp;quot;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input&amp;nbsp;=&amp;nbsp;new&amp;nbsp;WxPayOrderQuery();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input-&amp;gt;SetTransaction_id($transaction_id);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//printf_info(WxPayApi::orderQuery($input));
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result=WxPayApi::orderQuery($input);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$result[&amp;#39;trade_state&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exit();
}&amp;nbsp;
if(isset($_REQUEST[&amp;quot;out_trade_no&amp;quot;])&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;$_REQUEST[&amp;quot;out_trade_no&amp;quot;]&amp;nbsp;!=&amp;nbsp;&amp;quot;&amp;quot;){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$out_trade_no&amp;nbsp;=&amp;nbsp;$_REQUEST[&amp;quot;out_trade_no&amp;quot;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input&amp;nbsp;=&amp;nbsp;new&amp;nbsp;WxPayOrderQuery();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input-&amp;gt;SetOut_trade_no($out_trade_no);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//printf_info(WxPayApi::orderQuery($input));
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result=WxPayApi::orderQuery($input);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$status[&amp;#39;code&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;nbsp;$result[&amp;#39;trade_state&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$status[&amp;#39;openid&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;nbsp;$result[&amp;#39;openid&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$status[&amp;#39;total_fee&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;nbsp;$result[&amp;#39;total_fee&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$status[&amp;#39;transaction_id&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;nbsp;$result[&amp;#39;transaction_id&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$status[&amp;#39;time&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;nbsp;$result[&amp;#39;time_end&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//print_r($result);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r(json_encode($status));&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exit();
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=9_1&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;传送门&lt;/span&gt;&lt;/a&gt;&amp;nbsp;微信返回错误代码解释&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;点击支付按钮的代码&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs cs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;//&amp;nbsp;前段代码&amp;nbsp;样式用大家自己的就行，不用照抄&amp;lt;div&amp;nbsp;class=&amp;quot;goods_btn&amp;quot;&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;class=&amp;quot;buy&amp;quot;&amp;nbsp;onclick=&amp;quot;GetPay()&amp;quot;&amp;gt;立即购买&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;//&amp;nbsp;JS代码&amp;nbsp;js代码中嵌入的样式，无需修改！和效果图一样的！//接入微信扫码支付function&amp;nbsp;GetPay()&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;用ajax获取到支付的二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payQrcode&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payPrice&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payOrderCode&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;执行Ajax请求
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$.get(&amp;#39;/getPayQrcode.php&amp;#39;,{&amp;quot;goodsId&amp;quot;:&amp;quot;商品的ID&amp;quot;},function(ret){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;obj&amp;nbsp;=&amp;nbsp;JSON.parse(ret)&amp;nbsp;//&amp;nbsp;把字符串进行转换
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;判断返回数据是否正常(由于请求一般不会出问题，所以在获取二维码的getPayQrcode.php文件没有写返回fail)
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(obj.status&amp;nbsp;==&amp;nbsp;&amp;#39;success&amp;#39;)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payQrcode&amp;nbsp;=&amp;nbsp;&amp;#39;http://www.baidu.com&amp;#39;+obj.msg;//二维码链接
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payPrice&amp;nbsp;=&amp;nbsp;obj.price;&amp;nbsp;//商品价格
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payOrderCode&amp;nbsp;=&amp;nbsp;obj.code;&amp;nbsp;//交易码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//执行layer弹层
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;layer.open({
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type:&amp;nbsp;1,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;skin:&amp;nbsp;&amp;#39;layui-layer-demo&amp;#39;,&amp;nbsp;//样式类名，随意！
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;closeBtn:&amp;nbsp;0,&amp;nbsp;//不显示关闭按钮
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title:false,&amp;nbsp;//关闭title部分
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;anim:&amp;nbsp;2,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;area:&amp;nbsp;[&amp;#39;300px&amp;#39;,&amp;nbsp;&amp;#39;450px&amp;#39;],&amp;nbsp;//层的宽高
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;shadeClose:&amp;nbsp;true,&amp;nbsp;//开启遮罩关闭
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content:&amp;nbsp;&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;color:&amp;nbsp;#666;margin:&amp;nbsp;5px&amp;nbsp;0&amp;nbsp;0&amp;nbsp;10px;position:&amp;nbsp;absolute;right:.5rem;&amp;quot;&amp;nbsp;onclick=&amp;quot;layer.closeAll()&amp;quot;&amp;gt;X&amp;lt;/div&amp;gt;&amp;#39;+&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;text-align:&amp;nbsp;center;&amp;quot;&amp;gt;&amp;lt;img&amp;nbsp;style=&amp;quot;width:&amp;nbsp;4rem;padding:2rem&amp;nbsp;0&amp;nbsp;1rem&amp;nbsp;0;&amp;quot;&amp;nbsp;src=&amp;quot;{{&amp;nbsp;asset(&amp;#39;./images/wx.png&amp;#39;)&amp;nbsp;}}&amp;quot;&amp;nbsp;alt=&amp;quot;&amp;quot;&amp;nbsp;/&amp;gt;&amp;lt;br&amp;gt;&amp;lt;b&amp;nbsp;style=&amp;quot;font-weight:&amp;nbsp;100;color:&amp;nbsp;#888;&amp;quot;&amp;gt;请打开微信&amp;nbsp;扫码进行支付&amp;nbsp;&amp;lt;/b&amp;gt;&amp;lt;div&amp;nbsp;class=&amp;quot;blank&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;支付金额：&amp;lt;span&amp;nbsp;style=&amp;quot;color:&amp;nbsp;red;&amp;quot;&amp;gt;&amp;#39;+payPrice+&amp;#39;&amp;lt;/span&amp;gt;&amp;nbsp;元&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;class=&amp;quot;blank&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;#39;+&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;text-align:&amp;nbsp;center&amp;quot;&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;&amp;#39;+payQrcode+&amp;#39;&amp;quot;&amp;nbsp;class=&amp;quot;resize&amp;quot;&amp;nbsp;style=&amp;quot;width:70%;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;myDiv&amp;quot;&amp;nbsp;style=&amp;quot;width:&amp;nbsp;100%;height:&amp;nbsp;1.5rem;bottom:&amp;nbsp;2rem;position:absolute;text-align:center;font-size:&amp;nbsp;1.2rem;color:&amp;nbsp;#04BE02;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;timer&amp;quot;&amp;nbsp;style=&amp;quot;display:none;&amp;quot;&amp;gt;0&amp;lt;/div&amp;gt;&amp;#39;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;轮询代码开始
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;设置每隔1000毫秒执行一次load()&amp;nbsp;方法&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;myIntval=setInterval(function(){load()},1000);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;load(){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;xmlhttp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;轮询的浏览器设置&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(window.XMLHttpRequest){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE7+,&amp;nbsp;Firefox,&amp;nbsp;Chrome,&amp;nbsp;Opera,&amp;nbsp;Safari&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;XMLHttpRequest();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE6,&amp;nbsp;IE5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.onreadystatechange=function(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(xmlhttp.readyState==4&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;xmlhttp.status==200){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;trade_state=JSON.parse(xmlhttp.responseText);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;console.log(trade_state);//打印查看轮询的状态，也可以关闭。
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//判断订单支付状态&amp;nbsp;并用document.getElementById方法赋值到myDiv中；
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(trade_state.code==&amp;#39;SUCCESS&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付成功&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//延迟3000毫秒执行tz()&amp;nbsp;方法
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//进行跳转。
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setTimeout(&amp;quot;location.href=&amp;#39;./&amp;quot;,1500);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;REFUND&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;转入退款&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;NOTPAY&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;请扫码支付&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;CLOSED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已关闭&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;REVOKED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已撤销&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;USERPAYING&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;用户支付中&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;PAYERROR&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付失败&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//orderquery.php&amp;nbsp;文件返回订单状态，通过订单状态确定支付状态&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.open(&amp;quot;POST&amp;quot;,&amp;quot;http://www.baidu.com/payment/example/orderquery.php&amp;quot;,false);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//下面这句话必须有&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把标签/值对添加到要发送的头文件。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.setRequestHeader(&amp;quot;Content-type&amp;quot;,&amp;quot;application/x-www-form-urlencoded&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.send(&amp;quot;out_trade_no=&amp;quot;+payOrderCode+&amp;quot;&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;layer.msg(&amp;#39;请求失败！&amp;#39;,&amp;nbsp;{icon:&amp;nbsp;5});&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});
}//&amp;nbsp;上面的这段js代码稍微有点复杂，愿大家耐心看！撸主是js菜鸡、文盲、白痴；大佬们勿喷！&lt;/pre&gt;&lt;pre class=&quot;hljs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;ok！到此为止，整个流程就已经结束了！~上面的代码仅供参考！~下面撸主会贴出整套代码来造福社会!&lt;/pre&gt;&lt;blockquote style=&quot;box-sizing: border-box; padding: 10.5px 21px; margin: 1.5em 0px; font-size: 14px; border-left: 2px solid rgb(0, 154, 97); background: rgb(246, 246, 246); color: rgb(85, 85, 85); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; white-space: normal;&quot;&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;原装进口代码，麻烦大家记得点赞、关注、收藏，谢谢！&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;此套代码是原生的php！大家随意用！&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;调取支付页面代码&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;div&amp;nbsp;class=&amp;quot;goods_btn&amp;quot;&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;class=&amp;quot;buy&amp;quot;&amp;nbsp;onclick=&amp;quot;GetPay()&amp;quot;&amp;gt;立即购买&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;script&amp;nbsp;type=&amp;quot;text/javascript&amp;quot;&amp;gt;//接入微信扫码支付function&amp;nbsp;GetPay()&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//用ajax获取到支付的二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payQrcode&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payPrice&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;payOrderCode&amp;nbsp;=&amp;nbsp;&amp;#39;&amp;#39;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$.get(&amp;#39;/getPayQrcode.php&amp;#39;,{&amp;quot;goodsId&amp;quot;:&amp;quot;&amp;lt;?php&amp;nbsp;echo&amp;nbsp;$goodsInfo-&amp;gt;id;?&amp;gt;&amp;quot;},function(ret){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;obj&amp;nbsp;=&amp;nbsp;JSON.parse(ret)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(obj.status&amp;nbsp;==&amp;nbsp;&amp;#39;success&amp;#39;)&amp;nbsp;{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payQrcode&amp;nbsp;=&amp;nbsp;&amp;#39;http://www.baidu.com&amp;#39;+obj.msg;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payPrice&amp;nbsp;=&amp;nbsp;obj.price;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;payOrderCode&amp;nbsp;=&amp;nbsp;obj.code;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;layer.open({
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type:&amp;nbsp;1,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;skin:&amp;nbsp;&amp;#39;layui-layer-demo&amp;#39;,&amp;nbsp;//样式类名
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;closeBtn:&amp;nbsp;0,&amp;nbsp;//不显示关闭按钮
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;title:false,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;anim:&amp;nbsp;2,
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;area:&amp;nbsp;[&amp;#39;300px&amp;#39;,&amp;nbsp;&amp;#39;450px&amp;#39;],
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;shadeClose:&amp;nbsp;true,&amp;nbsp;//开启遮罩关闭
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;content:&amp;nbsp;&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;color:&amp;nbsp;#666;margin:&amp;nbsp;5px&amp;nbsp;0&amp;nbsp;0&amp;nbsp;10px;position:&amp;nbsp;absolute;right:.5rem;&amp;quot;&amp;nbsp;onclick=&amp;quot;layer.closeAll()&amp;quot;&amp;gt;X&amp;lt;/div&amp;gt;&amp;#39;+&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;text-align:&amp;nbsp;center;&amp;quot;&amp;gt;&amp;lt;img&amp;nbsp;style=&amp;quot;width:&amp;nbsp;4rem;padding:2rem&amp;nbsp;0&amp;nbsp;1rem&amp;nbsp;0;&amp;quot;&amp;nbsp;src=&amp;quot;./images/wx.png&amp;quot;&amp;nbsp;alt=&amp;quot;&amp;quot;&amp;nbsp;/&amp;gt;&amp;lt;br&amp;gt;&amp;lt;b&amp;nbsp;style=&amp;quot;font-weight:&amp;nbsp;100;color:&amp;nbsp;#888;&amp;quot;&amp;gt;请打开微信&amp;nbsp;扫码进行支付&amp;nbsp;&amp;lt;/b&amp;gt;&amp;lt;div&amp;nbsp;class=&amp;quot;blank&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;支付金额：&amp;lt;span&amp;nbsp;style=&amp;quot;color:&amp;nbsp;red;&amp;quot;&amp;gt;&amp;#39;+payPrice+&amp;#39;&amp;lt;/span&amp;gt;&amp;nbsp;元&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;class=&amp;quot;blank&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;#39;+&amp;#39;&amp;lt;div&amp;nbsp;style=&amp;quot;text-align:&amp;nbsp;center&amp;quot;&amp;gt;&amp;lt;img&amp;nbsp;src=&amp;quot;&amp;#39;+payQrcode+&amp;#39;&amp;quot;&amp;nbsp;class=&amp;quot;resize&amp;quot;&amp;nbsp;style=&amp;quot;width:70%;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;myDiv&amp;quot;&amp;nbsp;style=&amp;quot;width:&amp;nbsp;100%;height:&amp;nbsp;1.5rem;bottom:&amp;nbsp;2rem;position:absolute;text-align:center;font-size:&amp;nbsp;1.2rem;color:&amp;nbsp;#04BE02;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;timer&amp;quot;&amp;nbsp;style=&amp;quot;display:none;&amp;quot;&amp;gt;0&amp;lt;/div&amp;gt;&amp;#39;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;设置每隔1000毫秒执行一次load()&amp;nbsp;方法&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;myIntval=setInterval(function(){load()},1000);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;load(){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//document.getElementById(&amp;quot;timer&amp;quot;).innerHTML=parseInt(document.getElementById(&amp;quot;timer&amp;quot;).innerHTML)+1;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;xmlhttp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(window.XMLHttpRequest){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE7+,&amp;nbsp;Firefox,&amp;nbsp;Chrome,&amp;nbsp;Opera,&amp;nbsp;Safari&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;XMLHttpRequest();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE6,&amp;nbsp;IE5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.onreadystatechange=function(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(xmlhttp.readyState==4&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;xmlhttp.status==200){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;trade_state=JSON.parse(xmlhttp.responseText);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;console.log(trade_state);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(trade_state.code==&amp;#39;SUCCESS&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付成功&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//alert(transaction_id);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//延迟3000毫秒执行tz()&amp;nbsp;方法
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setTimeout(&amp;quot;location.href=&amp;#39;./&amp;quot;,1500);&amp;nbsp;&amp;nbsp;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;REFUND&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;转入退款&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;NOTPAY&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;请扫码支付&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;CLOSED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已关闭&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;REVOKED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已撤销&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;USERPAYING&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;用户支付中&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state.code==&amp;#39;PAYERROR&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付失败&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//orderquery.php&amp;nbsp;文件返回订单状态，通过订单状态确定支付状态&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.open(&amp;quot;POST&amp;quot;,&amp;quot;http://www.baidu.com/payment/example/orderquery.php&amp;quot;,false);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//下面这句话必须有&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把标签/值对添加到要发送的头文件。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.setRequestHeader(&amp;quot;Content-type&amp;quot;,&amp;quot;application/x-www-form-urlencoded&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.send(&amp;quot;out_trade_no=&amp;quot;+payOrderCode+&amp;quot;&amp;quot;);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;layer.msg(&amp;#39;请求失败！&amp;#39;,&amp;nbsp;{icon:&amp;nbsp;5});&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});
}&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;获取二维码页面代码(此文件需要根据自身情况进行小小的修改！) getPayQrcode.php&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs php&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;//&amp;nbsp;放入老衲前不久写的curl函数&amp;nbsp;用curl方法获取二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;curlGet($url)&amp;nbsp;{&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ch&amp;nbsp;=&amp;nbsp;curl_init();&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_URL,&amp;nbsp;$url);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_RETURNTRANSFER,&amp;nbsp;1);&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_HEADER,&amp;nbsp;false);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;curl_setopt($ch,&amp;nbsp;CURLOPT_FOLLOWLOCATION,&amp;nbsp;1);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;curl_exec($ch);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;正式流程开始&amp;nbsp;返回的二维码是带信息的，所以需要先接收商品信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;比如:我是get过来商品的id，而后再进行查询数据库；这里大家随意；
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsId&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsId&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;利用商品ID查询到商品名称和价格
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsName&amp;nbsp;=&amp;nbsp;&amp;#39;好日子牌姨妈巾&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$goodsPrice&amp;nbsp;=&amp;nbsp;&amp;#39;250&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;下面构造请求二维码的链接（由于是获取二维码支付，所以咋们请求的是native.php;后面会对该文件进行详细讲解）
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$url&amp;nbsp;=&amp;nbsp;&amp;#39;http://www.baidu.com/payment/example/native.php?goodsName=&amp;#39;.$goodsName.&amp;#39;&amp;amp;goodsPrice=&amp;#39;.goodsPrice;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;执行curlGet()函数
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$data&amp;nbsp;=&amp;nbsp;curlGet($url);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;preg_match_all函数进行全局正则表达式匹配,获取到二维码的链接。&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;preg_match(&amp;#39;/&amp;lt;\\s*img\\s+[^&amp;gt;]*?src\\s*=\\s*(\\&amp;#39;|\\&amp;quot;)(.*?)\\\\1[^&amp;gt;]*?\\/?\\s*&amp;gt;/i&amp;#39;,$data,$matches);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;preg_match(&amp;#39;/\\|\\|(.*)\\|\\|/&amp;#39;,$matches[0],$aac);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;构造返回信息
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;status&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;success&amp;#39;;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;code&amp;#39;]&amp;nbsp;=&amp;nbsp;$aac[1];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;此值为返回交易码【用来确认订单支付状态的】
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;price&amp;#39;]&amp;nbsp;=&amp;nbsp;$goodsPrice;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$obj[&amp;#39;msg&amp;#39;]&amp;nbsp;=&amp;nbsp;&amp;#39;/payment/example/&amp;#39;.$matches[&amp;#39;2&amp;#39;];&amp;nbsp;//&amp;nbsp;请求返回的二维码
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;json_encode($obj);//&amp;nbsp;返回json&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;微信支付demo中的扫码支付文件 payment/example/native.php&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;?phpini_set(&amp;#39;date.timezone&amp;#39;,&amp;#39;Asia/Shanghai&amp;#39;);//error_reporting(E_ERROR);require_once&amp;nbsp;&amp;quot;../lib/WxPay.Api.php&amp;quot;;require_once&amp;nbsp;&amp;quot;WxPay.NativePay.php&amp;quot;;require_once&amp;nbsp;&amp;#39;log.php&amp;#39;;//模式一/**
&amp;nbsp;*&amp;nbsp;流程：
&amp;nbsp;*&amp;nbsp;1、组装包含支付信息的url，生成二维码
&amp;nbsp;*&amp;nbsp;2、用户扫描二维码，进行支付
&amp;nbsp;*&amp;nbsp;3、确定支付之后，微信服务器会回调预先配置的回调地址，在【微信开放平台-微信支付-支付配置】中进行配置
&amp;nbsp;*&amp;nbsp;4、在接到回调通知之后，用户进行统一下单支付，并返回支付信息以完成支付（见：native_notify.php）
&amp;nbsp;*&amp;nbsp;5、支付完成之后，微信服务器会通知支付成功
&amp;nbsp;*&amp;nbsp;6、在支付成功通知中需要查单确认是否真正支付成功（见：notify.php）
&amp;nbsp;*/$notify&amp;nbsp;=&amp;nbsp;new&amp;nbsp;NativePay();$url1&amp;nbsp;=&amp;nbsp;$notify-&amp;gt;GetPrePayUrl(&amp;quot;123456789&amp;quot;);$goodsPrice&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsPrice&amp;#39;];$goodsName&amp;nbsp;=&amp;nbsp;$_GET[&amp;#39;goodsName&amp;#39;];//&amp;nbsp;print_r($goodsPrice);die;//模式二/**
&amp;nbsp;*&amp;nbsp;流程：
&amp;nbsp;*&amp;nbsp;1、调用统一下单，取得code_url，生成二维码
&amp;nbsp;*&amp;nbsp;2、用户扫描二维码，进行支付
&amp;nbsp;*&amp;nbsp;3、支付完成之后，微信服务器会通知支付成功
&amp;nbsp;*&amp;nbsp;4、在支付成功通知中需要查单确认是否真正支付成功（见：notify.php）
&amp;nbsp;*/$input&amp;nbsp;=&amp;nbsp;new&amp;nbsp;WxPayUnifiedOrder();$input-&amp;gt;SetBody($goodsName);$input-&amp;gt;SetAttach(&amp;quot;今知商城&amp;quot;);$num&amp;nbsp;=&amp;nbsp;WxPayConfig::MCHID.date(&amp;quot;YmdHis&amp;quot;);$input-&amp;gt;SetOut_trade_no($num);$input-&amp;gt;SetTotal_fee($goodsPrice*100);$input-&amp;gt;SetTime_start(date(&amp;quot;YmdHis&amp;quot;));$input-&amp;gt;SetTime_expire(date(&amp;quot;YmdHis&amp;quot;,&amp;nbsp;time()&amp;nbsp;+&amp;nbsp;600));$input-&amp;gt;SetGoods_tag($goodsName);$input-&amp;gt;SetNotify_url(&amp;quot;/payment/example/notify.php&amp;quot;);$input-&amp;gt;SetTrade_type(&amp;quot;NATIVE&amp;quot;);$input-&amp;gt;SetProduct_id(&amp;quot;123456789&amp;quot;);$result&amp;nbsp;=&amp;nbsp;$notify-&amp;gt;GetPayUrl($input);//echo&amp;nbsp;&amp;quot;&amp;lt;pre&amp;gt;&amp;quot;;//print_r($result);$url2&amp;nbsp;=&amp;nbsp;$result[&amp;quot;code_url&amp;quot;];?&amp;gt;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;meta&amp;nbsp;http-equiv=&amp;quot;content-type&amp;quot;&amp;nbsp;content=&amp;quot;text/html;charset=utf-8&amp;quot;/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;meta&amp;nbsp;name=&amp;quot;viewport&amp;quot;&amp;nbsp;content=&amp;quot;width=device-width,&amp;nbsp;initial-scale=1&amp;quot;&amp;nbsp;/&amp;gt;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;title&amp;gt;微信支付样例&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;style=&amp;quot;margin-left:&amp;nbsp;10px;color:#556B2F;font-size:30px;font-weight:&amp;nbsp;bolder;&amp;quot;&amp;gt;扫描支付模式二&amp;lt;/div&amp;gt;&amp;lt;br/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;img&amp;nbsp;alt=&amp;quot;||&amp;lt;?php&amp;nbsp;echo&amp;nbsp;$num?&amp;gt;||&amp;quot;&amp;nbsp;src=&amp;quot;qrcode.php?data=&amp;lt;?php&amp;nbsp;echo&amp;nbsp;urlencode($url2);?&amp;gt;&amp;quot;&amp;nbsp;style=&amp;quot;width:150px;height:150px;&amp;quot;/&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;div&amp;nbsp;id=&amp;quot;myDiv&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;nbsp;id=&amp;quot;timer&amp;quot;&amp;gt;0&amp;lt;/div&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;script&amp;gt;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//设置每隔1000毫秒执行一次load()&amp;nbsp;方法&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;myIntval=setInterval(function(){load()},1000);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;load(){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;timer&amp;quot;).innerHTML=parseInt(document.getElementById(&amp;quot;timer&amp;quot;).innerHTML)+1;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;xmlhttp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(window.XMLHttpRequest){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE7+,&amp;nbsp;Firefox,&amp;nbsp;Chrome,&amp;nbsp;Opera,&amp;nbsp;Safari&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;XMLHttpRequest();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;code&amp;nbsp;for&amp;nbsp;IE6,&amp;nbsp;IE5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp=new&amp;nbsp;ActiveXObject(&amp;quot;Microsoft.XMLHTTP&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.onreadystatechange=function(){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(xmlhttp.readyState==4&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;xmlhttp.status==200){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;trade_state=xmlhttp.responseText;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(trade_state==&amp;#39;SUCCESS&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付成功&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//alert(transaction_id);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//延迟3000毫秒执行tz()&amp;nbsp;方法
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setTimeout(&amp;quot;location.href=&amp;#39;success.php&amp;#39;&amp;quot;,3000);&amp;nbsp;&amp;nbsp;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;REFUND&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;转入退款&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;NOTPAY&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;请扫码支付&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;CLOSED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已关闭&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;REVOKED&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;已撤销&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;USERPAYING&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;用户支付中&amp;#39;;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;if(trade_state==&amp;#39;PAYERROR&amp;#39;){&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;document.getElementById(&amp;quot;myDiv&amp;quot;).innerHTML=&amp;#39;支付失败&amp;#39;;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;clearInterval(myIntval);&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//orderquery.php&amp;nbsp;文件返回订单状态，通过订单状态确定支付状态&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.open(&amp;quot;POST&amp;quot;,&amp;quot;orderquery.php&amp;quot;,false);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//下面这句话必须有&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//把标签/值对添加到要发送的头文件。&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.setRequestHeader(&amp;quot;Content-type&amp;quot;,&amp;quot;application/x-www-form-urlencoded&amp;quot;);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;xmlhttp.send(&amp;quot;out_trade_no=&amp;lt;?php&amp;nbsp;echo&amp;nbsp;$num;?&amp;gt;&amp;quot;);&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/script&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/body&amp;gt;&lt;/pre&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 0px;&quot;&gt;微信支付demo 订单查询页面&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span class=&quot;selectCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;全选&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;copyCode code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; data-clipboard-text=&quot;&amp;lt;?php
header(&amp;quot;Access-Control-Allow-Origin:*&amp;quot;); 
ini_set(&amp;#39;date.timezone&amp;#39;,&amp;#39;Asia/Shanghai&amp;#39;);
error_reporting(E_ERROR);
require_once &amp;quot;../lib/WxPay.Api.php&amp;quot;;
require_once &amp;#39;log.php&amp;#39;;
 
//初始化日志
$logHandler= new CLogFileHandler(&amp;quot;./logs/&amp;quot;.date(&amp;#39;Y-m-d&amp;#39;).&amp;#39;.log&amp;#39;);
$log = Log::Init($logHandler, 15);
 
function printf_info($data)
{
    foreach($data as $key=&amp;gt;$value){
        echo &amp;quot;&amp;lt;font color=&amp;#39;#f00;&amp;#39;&amp;gt;$key&amp;lt;/font&amp;gt; : $value &amp;lt;br/&amp;gt;&amp;quot;;
    }
}
 
 
if(isset($_REQUEST[&amp;quot;transaction_id&amp;quot;]) &amp;amp;&amp;amp; $_REQUEST[&amp;quot;transaction_id&amp;quot;] != &amp;quot;&amp;quot;){
    $transaction_id = $_REQUEST[&amp;quot;transaction_id&amp;quot;];
    $input = new WxPayOrderQuery();
    $input-&amp;gt;SetTransaction_id($transaction_id);
    //printf_info(WxPayApi::orderQuery($input));
    $result=WxPayApi::orderQuery($input);
    echo $result[&amp;#39;trade_state&amp;#39;];
    exit();
}
 
if(isset($_REQUEST[&amp;quot;out_trade_no&amp;quot;]) &amp;amp;&amp;amp; $_REQUEST[&amp;quot;out_trade_no&amp;quot;] != &amp;quot;&amp;quot;){
    $out_trade_no = $_REQUEST[&amp;quot;out_trade_no&amp;quot;];
    $input = new WxPayOrderQuery();
    $input-&amp;gt;SetOut_trade_no($out_trade_no);
    //printf_info(WxPayApi::orderQuery($input));
    $result=WxPayApi::orderQuery($input);
    $status[&amp;#39;code&amp;#39;] =  $result[&amp;#39;trade_state&amp;#39;];
    $status[&amp;#39;openid&amp;#39;] =  $result[&amp;#39;openid&amp;#39;];
    $status[&amp;#39;total_fee&amp;#39;] =  $result[&amp;#39;total_fee&amp;#39;];
    $status[&amp;#39;transaction_id&amp;#39;] =  $result[&amp;#39;transaction_id&amp;#39;];
    $status[&amp;#39;time&amp;#39;] =  $result[&amp;#39;time_end&amp;#39;];
    //print_r($result);
    print_r(json_encode($status));
    exit();
}
?&amp;gt;
&quot; title=&quot;&quot; data-original-title=&quot;复制&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -16px 0px !important;&quot;&gt;&lt;/span&gt;&lt;span type=&quot;button&quot; class=&quot;saveToNote code-tool&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;top&quot; title=&quot;&quot; data-original-title=&quot;放进笔记&quot; style=&quot;box-sizing: border-box; cursor: pointer; display: block; float: left; background-image: url(&amp;quot;../img/codeTools.svg&amp;quot;); height: 16px; width: 16px; background-size: auto 16px; margin: 4px 5px; opacity: 0.5; background-position: -31px 0px !important;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;hljs xml&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;lt;?phpheader(&amp;quot;Access-Control-Allow-Origin:*&amp;quot;);&amp;nbsp;
ini_set(&amp;#39;date.timezone&amp;#39;,&amp;#39;Asia/Shanghai&amp;#39;);
error_reporting(E_ERROR);require_once&amp;nbsp;&amp;quot;../lib/WxPay.Api.php&amp;quot;;require_once&amp;nbsp;&amp;#39;log.php&amp;#39;;&amp;nbsp;
//初始化日志$logHandler=&amp;nbsp;new&amp;nbsp;CLogFileHandler(&amp;quot;./logs/&amp;quot;.date(&amp;#39;Y-m-d&amp;#39;).&amp;#39;.log&amp;#39;);$log&amp;nbsp;=&amp;nbsp;Log::Init($logHandler,&amp;nbsp;15);&amp;nbsp;
function&amp;nbsp;printf_info($data){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($data&amp;nbsp;as&amp;nbsp;$key=&amp;gt;$value){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;lt;font&amp;nbsp;color=&amp;#39;#f00;&amp;#39;&amp;gt;$key&amp;lt;/font&amp;gt;&amp;nbsp;:&amp;nbsp;$value&amp;nbsp;&amp;lt;br/&amp;gt;&amp;quot;;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&amp;nbsp;
&amp;nbsp;
if(isset($_REQUEST[&amp;quot;transaction_id&amp;quot;])&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;$_REQUEST[&amp;quot;transaction_id&amp;quot;]&amp;nbsp;!=&amp;nbsp;&amp;quot;&amp;quot;){&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$transaction_id&amp;nbsp;=&amp;nbsp;$_REQUEST[&amp;quot;transaction_id&amp;quot;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input&amp;nbsp;=&amp;nbsp;new&amp;nbsp;WxPayOrderQuery();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$input-&amp;gt;SetTransaction_id($transaction_id);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//printf_info(WxPayApi::orderQuery($input));
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result=WxPayApi::orderQuery($input);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$result[&amp;#39;trade_state&amp;#39;];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;exit();
}&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586356','1'),
('30','1','nginx配置ssl加密（单/双向认证、部分https）','3','nginx配置ssl加密（单/双向认证、部分https）','&lt;h1 id=&quot;articleHeader0&quot; style=&quot;box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1. 全站ssl&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;全站做ssl是最常见的一个使用场景，默认端口443，而且一般是单向认证。&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;server&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;443;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;server_name&amp;nbsp;example.com;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;root&amp;nbsp;/apps/www;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;index&amp;nbsp;index.html&amp;nbsp;index.htm;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl&amp;nbsp;on;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate&amp;nbsp;../SSL/ittest.pem;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate_key&amp;nbsp;../SSL/ittest.key;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_protocols&amp;nbsp;SSLv3&amp;nbsp;TLSv1&amp;nbsp;TLSv1.1&amp;nbsp;TLSv1.2;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_ciphers&amp;nbsp;ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;#&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_prefer_server_ciphers&amp;nbsp;on;}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;如果想把http的请求强制转到https的话：&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;server&amp;nbsp;{&amp;nbsp;&amp;nbsp;listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;80;&amp;nbsp;&amp;nbsp;server_name&amp;nbsp;example.me;&amp;nbsp;&amp;nbsp;rewrite&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;^&amp;nbsp;&amp;nbsp;&amp;nbsp;https://$server_name$request_uri?&amp;nbsp;permanent;###&amp;nbsp;使用return的效率会更高&amp;nbsp;#&amp;nbsp;&amp;nbsp;return&amp;nbsp;301&amp;nbsp;https://$server_name$request_uri;}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_certificate&lt;/code&gt;证书其实是个公钥，它会被发送到连接服务器的每个客户端，&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_certificate_key&lt;/code&gt;私钥是用来解密的，所以它的权限要得到保护但nginx的主进程能够读取。当然私钥和证书可以放在一个证书文件中，这种方式也只有公钥证书才发送到client。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_protocols&lt;/code&gt;指令用于启动特定的加密协议，nginx在1.1.13和1.0.12版本后默认是&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2&lt;/code&gt;，TLSv1.1与TLSv1.2要确保OpenSSL &amp;gt;= 1.0.1 ，SSLv3 现在还有很多地方在用但有不少被攻击的漏洞。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_ciphers&lt;/code&gt;选择加密套件，不同的浏览器所支持的套件（和顺序）可能会不同。这里指定的是OpenSSL库能够识别的写法，你可以通过&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;openssl -v cipher &amp;#39;RC4:HIGH:!aNULL:!MD5&amp;#39;&lt;/code&gt;（后面是你所指定的套件加密算法） 来看所支持算法。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_prefer_server_ciphers on&lt;/code&gt;设置协商加密算法时，优先使用我们服务端的加密套件，而不是客户端浏览器的加密套件。&lt;/p&gt;&lt;h2 id=&quot;articleHeader1&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;https优化参数&lt;/h2&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_session_cache shared:SSL:10m;&lt;/code&gt;&amp;nbsp;: 设置ssl/tls会话缓存的类型和大小。如果设置了这个参数一般是&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;shared&lt;/code&gt;，&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;buildin&lt;/code&gt;可能会参数内存碎片，默认是&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;none&lt;/code&gt;，和&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;off&lt;/code&gt;差不多，停用缓存。如&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;shared:SSL:10m&lt;/code&gt;表示我所有的nginx工作进程共享ssl会话缓存，官网介绍说1M可以存放约4000个sessions。 详细参考serverfault上的问答&lt;a rel=&quot;nofollow&quot; href=&quot;http://serverfault.com/questions/695258/when-shoud-i-use-ssl-session-cache-paramter-in-nginx-ssl-settings&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;ssl_session_cache&lt;/a&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ssl_session_timeout&lt;/code&gt;&amp;nbsp;： 客户端可以重用会话缓存中ssl参数的过期时间，内网系统默认5分钟太短了，可以设成&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;30m&lt;/code&gt;即30分钟甚至&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;4h&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;设置较长的&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;keepalive_timeout&lt;/code&gt;也可以减少请求ssl会话协商的开销，但同时得考虑线程的并发数了。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;提示&lt;/span&gt;：在生成证书请求csr文件时，如果输入了密码，nginx每次启动时都会提示输入这个密码，可以使用私钥来生成解密后的key来代替，效果是一样的，达到免密码重启的效果：&lt;/p&gt;&lt;pre class=&quot;hljs cs&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;openssl&amp;nbsp;rsa&amp;nbsp;-in&amp;nbsp;ittest.key&amp;nbsp;-out&amp;nbsp;ittest_unsecure.key&lt;/pre&gt;&lt;h2 id=&quot;articleHeader2&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;导入证书&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;如果你是找一个知名的ssl证书颁发机构如VeriSign、Wosign、StartSSL签发的证书，浏览器已经内置并信任了这些根证书，如果你是自建C或获得二级CA授权，都需要将CA证书添加到浏览器，这样在访问站点时才不会显示不安全连接。各个浏览的添加方法不在本文探讨范围内。&lt;/p&gt;&lt;h1 id=&quot;articleHeader3&quot; style=&quot;box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2. 部分页面ssl&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;一个站点并不是所有信息都是非常机密的，如网上商城，一般的商品浏览可以不通过https，而用户登录以及支付的时候就强制经过https传输，这样用户访问速度和安全性都得到兼顾。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;但是请注意不要理解错了，是对页面加密而不能针对某个请求加密，一个页面或地址栏的URL一般会发起许多请求的，包括css/png/js等静态文件和动态的java或php请求，所以要加密的内容包含页面内的其它资源文件，否则就会出现http与https内容混合的问题。在http页面混有https内容时，页面排版不会发生乱排现象；在https页面中包含以http方式引入的图片、js等资源时，浏览器为了安全起见会阻止加载。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;下面是只对&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;example.com/account/login&lt;/code&gt;登录页面进行加密的栗子：&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;root&amp;nbsp;/apps/www;index&amp;nbsp;index.html&amp;nbsp;index.htm;server&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;80;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;server_name&amp;nbsp;example.com;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;^~&amp;nbsp;/account/login&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;rewrite&amp;nbsp;^&amp;nbsp;https://$server_name:443$request_uri?&amp;nbsp;permanent;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;/&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_pass&amp;nbsp;&amp;nbsp;http://localhost:8080;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;###&amp;nbsp;Set&amp;nbsp;headers&amp;nbsp;####
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;Host&amp;nbsp;$host;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-Real-IP&amp;nbsp;$remote_addr;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-Forwarded-For&amp;nbsp;$proxy_add_x_forwarded_for;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_redirect&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;off;&amp;nbsp;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}server&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;listen&amp;nbsp;443&amp;nbsp;ssl;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;server_name&amp;nbsp;example.com;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl&amp;nbsp;on;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate&amp;nbsp;../SSL/ittest.pem;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_certificate_key&amp;nbsp;../SSL/ittest.key;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_protocols&amp;nbsp;SSLv3&amp;nbsp;TLSv1&amp;nbsp;TLSv1.1&amp;nbsp;TLSv1.2;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_ciphers&amp;nbsp;ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_prefer_server_ciphers&amp;nbsp;on;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;^~&amp;nbsp;/account/login&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_pass&amp;nbsp;&amp;nbsp;http://localhost:8080;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;Host&amp;nbsp;$host;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-Real-IP&amp;nbsp;$remote_addr;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-Forwarded-For&amp;nbsp;$proxy_add_x_forwarded_for;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_redirect&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;off;&amp;nbsp;

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;###&amp;nbsp;Most&amp;nbsp;PHP,&amp;nbsp;Python,&amp;nbsp;Rails,&amp;nbsp;Java&amp;nbsp;App&amp;nbsp;can&amp;nbsp;use&amp;nbsp;this&amp;nbsp;header&amp;nbsp;-&amp;gt;&amp;nbsp;https&amp;nbsp;###
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-Forwarded-Proto&amp;nbsp;&amp;nbsp;$scheme;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;location&amp;nbsp;/&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;rewrite&amp;nbsp;&amp;nbsp;^&amp;nbsp;&amp;nbsp;http://$server_name$request_uri?&amp;nbsp;permanent;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;关于rewrite与location的写法参考&lt;a rel=&quot;nofollow&quot; href=&quot;http://segmentfault.com/a/1190000002797606&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;这里&lt;/a&gt;。当浏览器访问&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;http://example.com/account/login.xx&lt;/code&gt;时，被301到&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;https://example.com/account/login.xx&lt;/code&gt;，在这个ssl加密的虚拟主机里也匹配到&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;/account/login&lt;/code&gt;，反向代理到后端服务器，后面的传输过程是没有https的。这个login.xx页面下的其它资源也是经过https请求nginx的，登录成功后跳转到首页时的链接使用http，这个可能需要开发代码里面控制。&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;上面配置中使用了&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;proxy_set_header X-Forwarded-Proto $scheme&lt;/code&gt;，在jsp页面使用&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;request.getScheme()&lt;/code&gt;得到的是https 。如果不把请求的$scheme协议设置在header里，后端jsp页面会一直认为是http，将导致响应异常。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ssl配置块还有个与不加密的80端口类似的&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;location /&lt;/code&gt;，它的作用是当用户直接通过https访问首页时，自动跳转到不加密端口，你可以去掉它允许用户这样做。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 id=&quot;articleHeader4&quot; style=&quot;box-sizing: border-box; font-size: 2.25em; margin: 1.5em 0px 0px; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3. 实现双向ssl认证&lt;/h1&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;上面的两种配置都是去认证被访问的站点域名是否真实可信，并对传输过程加密，但服务器端并没有认证客户端是否可信。（实际上除非特别重要的场景，也没必要去认证访问者，除非像银行U盾这样的情况）&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;要实现双向认证HTTPS，nginx服务器上必须导入CA证书（根证书/中间级证书），因为现在是由服务器端通过CA去验证客户端的信息。还有必须在申请服务器证书的同时，用同样的方法生成客户证书。取得客户证书后，还要将它转换成浏览器识别的格式（大部分浏览器都认识PKCS12格式）：&lt;/p&gt;&lt;pre class=&quot;hljs objectivec&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;openssl&amp;nbsp;pkcs12&amp;nbsp;-export&amp;nbsp;-clcerts&amp;nbsp;-in&amp;nbsp;client.crt&amp;nbsp;-inkey&amp;nbsp;client.key&amp;nbsp;-out&amp;nbsp;client.p12&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后把这个&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;client.p12&lt;/code&gt;发给你相信的人，让它导入到浏览器中，访问站点建立连接的时候nginx会要求客户端把这个证书发给自己验证，如果没有这个证书就拒绝访问。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;同时别忘了在 nginx.conf 里配置信任的CA：（如果是二级CA，请把根CA放在后面，形成CA证书链）&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_ignore_client_abort&amp;nbsp;on；

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl&amp;nbsp;on;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_verify_client&amp;nbsp;on;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_verify_depth&amp;nbsp;2;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ssl_client_certificate&amp;nbsp;../SSL/ca-chain.pem;#在双向location下加入：
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;proxy_set_header&amp;nbsp;X-SSL-Client-Cert&amp;nbsp;$ssl_client_cert;&lt;/pre&gt;&lt;h2 id=&quot;articleHeader5&quot; style=&quot;box-sizing: border-box; font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-weight: 500; line-height: 1.2; color: rgb(51, 51, 51); margin: 1.5em 0px 0px; font-size: 1.75em; border-bottom: 1px solid rgb(238, 238, 238); padding-bottom: 10px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;拓展：使用geo模块&lt;/h2&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;nginx默认安装了一个&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;ngx_http_geo_module&lt;/code&gt;，这个geo模块可以根据客户端IP来创建变量的值，用在如来自172.29.73.0/24段的IP访问login时使用双向认证，其它段使用一般的单向认证。&lt;/p&gt;&lt;pre class=&quot;hljs nginx&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;geo&amp;nbsp;$duplexing_user&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;default&amp;nbsp;1;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;include&amp;nbsp;geo.conf;&amp;nbsp;&amp;nbsp;#&amp;nbsp;注意在0.6.7版本以后，include是相对于nginx.conf所在目录而言的}&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;语法&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;geo [$address] $variable { … }&lt;/code&gt;，位于http段，默认地址是&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;$reoute_addr&lt;/code&gt;，假设&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;conf/geo.conf&lt;/code&gt;&amp;nbsp;内容：&lt;/p&gt;&lt;pre class=&quot;hljs coffeescript&quot; style=&quot;box-sizing: border-box; overflow: auto; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; padding: 1em; margin-bottom: 1.5em; line-height: 1.3; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: none; border-radius: 3px; max-height: 35em; position: relative; margin-top: 0px !important;&quot;&gt;127.0.0.1/32&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LOCAL;&amp;nbsp;&amp;nbsp;#&amp;nbsp;本地172.29.73.23/32&amp;nbsp;SEAN;&amp;nbsp;&amp;nbsp;&amp;nbsp;#&amp;nbsp;某个IP172.29.73.0/24&amp;nbsp;&amp;nbsp;1;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#&amp;nbsp;IP段，可以按国家或地域定义后面的不同的值&lt;/pre&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;需要配置另外一个虚拟主机server{ssl 445}，里面使用上面双向认证的写法，然后在80或443里使用变量&lt;code style=&quot;box-sizing: border-box; font-family: &amp;quot;Source Code Pro&amp;quot;, Consolas, Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 0.93em; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); padding: 2px 4px; border-radius: 3px;&quot;&gt;$duplexing_user&lt;/code&gt;去判断，如果为1就rewrite到445，否则rewrite到443。具体用法可以参考&lt;a rel=&quot;nofollow&quot; href=&quot;http://www.ttlsa.com/nginx/using-nginx-geo-method/&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;nginx geo使用方法&lt;/a&gt;。&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;box-sizing: border-box; font-weight: 700;&quot;&gt;参考&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; margin-left: 3em; padding-left: 0px; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://blog.csdn.net/na_tion/article/details/17334669&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;Nginx部署部分https与部分http&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;https://www.zhoufengjie.cn/?p=185&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;Linux+Nginx/Apache/Tomcat新增SSL证书，开启https访问教程&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;https://www.sinosky.org/ssl-and-spdy-enabled.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;SSL &amp;amp; SPDY 已全面部署&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://han.guokai.blog.163.com/blog/static/136718271201211631456811/&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;SSL证书与Https应用部署小结&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://nginx.org/en/docs/http/ngx_http_ssl_module.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;ngx_http_ssl_module docs&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;https://bjornjohansen.no/optimizing-https-nginx&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;Optimizing HTTPS on Nginx&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://zhangge.net/4861.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://zhangge.net/4861.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a rel=&quot;nofollow&quot; href=&quot;http://blog.chinaunix.net/uid-192074-id-3135733.html&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://blog.chinaunix.net/uid-192074-id-3135733.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr style=&quot;box-sizing: content-box; height: 0px; margin: 1.5em auto; border-width: 2px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: dotted; border-top-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 1.5em; margin-bottom: 1.5em; color: rgb(51, 51, 51); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;原文链接地址：&lt;a rel=&quot;nofollow&quot; href=&quot;http://seanlook.com/2015/05/28/nginx-ssl/&quot; target=&quot;_blank&quot; style=&quot;box-sizing: border-box; background: transparent; color: rgb(0, 154, 97); text-decoration: none; outline: 0px;&quot;&gt;http://seanlook.com/2015/05/28/nginx-ssl/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586397','1'),
('31','1','Nginx 反向代理','3','Nginx 反向代理','&lt;p&gt;#负责压缩数据流&lt;/p&gt;&lt;p&gt;gzip &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;on; &amp;nbsp;&lt;/p&gt;&lt;p&gt;gzip_min_length &amp;nbsp; 1000; &amp;nbsp;&lt;/p&gt;&lt;p&gt;gzip_types &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;text/plain text/css application/x-javascript;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;#设定负载均衡的服务器列表&lt;/p&gt;&lt;p&gt;#weigth参数表示权值，权值越高被分配到的几率越大&lt;/p&gt;&lt;p&gt;upstream hello{&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; server 192.168.68.43:8080 weight=1;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; server 192.168.68.45:8080 weight=1; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p&gt;server {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; #侦听的80端口&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; listen &amp;nbsp; &amp;nbsp; &amp;nbsp; 80;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; server_name &amp;nbsp;localhost;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; #设定查看Nginx状态的地址&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; location /nginxstatus{&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;stub_status on;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;access_log on;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;auth_basic &amp;quot;nginxstatus&amp;quot;;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;auth_basic_user_file htpasswd;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; #匹配以jsp结尾的，tomcat的网页文件是以jsp结尾&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; location / {&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; index index.jsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_pass &amp;nbsp; http://hello; &amp;nbsp; &amp;nbsp;#在这里设置一个代理，和upstream的名字一样&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; #以下是一些反向代理的配置可删除&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_redirect &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; off;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; #后端的Web服务器可以通过X-Forwarded-For获取用户真实IP&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_set_header &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Host $host;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_set_header &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; X-Real-IP $remote_addr;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_set_header &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; X-Forwarded-For $proxy_add_x_forwarded_for;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; client_max_body_size &amp;nbsp; &amp;nbsp; &amp;nbsp; 10m; #允许客户端请求的最大单文件字节数&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; client_body_buffer_size &amp;nbsp; &amp;nbsp;128k; #缓冲区代理缓冲用户端请求的最大字节数&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_connect_timeout &amp;nbsp; &amp;nbsp; &amp;nbsp;300; #nginx跟后端服务器连接超时时间(代理连接超时)&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_send_timeout &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 300; #后端服务器数据回传时间(代理发送超时)&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_read_timeout &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 300; #连接成功后，后端服务器响应时间(代理接收超时)&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_buffer_size &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;4k; #设置代理服务器（nginx）保存用户头信息的缓冲区大小&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_buffers &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;4 32k; #proxy_buffers缓冲区，网页平均在32k以下的话，这样设置&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_busy_buffers_size &amp;nbsp; &amp;nbsp;64k; #高负荷下缓冲大小（proxy_buffers*2）&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; proxy_temp_file_write_size 64k; #设定缓存文件夹大小，大于这个值，将从upstream服务器传&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; }&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586528','1'),
('32','1','Nginx反向代理和负载均衡部署','3','Nginx反向代理和负载均衡部署','&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;1.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;安装&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 从Nginx官网下载页面（&lt;a href=&quot;http://nginx.org/en/download.html&quot; style=&quot;margin: 0px; padding: 0px; color: black;&quot;&gt;http://nginx.org/en/download.html&lt;/a&gt;）下载Nginx最新版本（目前是1.5.13版本）安装包；&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 解压后复制到部署目录。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;2.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;启动和停止&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;Nginx&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;Nginx目前只支持命令行操作，操作前先进入Dos命令环境，并进入Nginx部署目录。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 启动Nginx：start nginx&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 停止Nginx：nginx -s stop&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 修改配置后重启：nginx -s reload&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;这三个命令可分别做成bat文件，放在部署目录下，方便后续操作。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;start nginx.bat文件内容：start nginx&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;stop nginx.bat文件内容：nginx -s stop&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;reload nginx.bat文件内容：nginx -s reload&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;3.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;反向代理配置&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;修改部署目录下conf子目录的nginx.conf文件（如nginx-1.5.13\\conf\\nginx.conf）内容，可调整相关配置。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;反向代理配置示例：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;location / {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; #设置主机头和客户端真实地址，以便服务器获取客户端真实IP&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header Host $host;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header X-Real-IP $remote_addr;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #禁用缓存&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_buffering off;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #设置反向代理的地址&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_pass http://192.168.1.1;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;代理地址根据实际情况修改。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;4.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;负载均衡配置&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;nginx 的 upstream默认是以轮询的方式实现负载均衡，这种方式中，每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器down掉，能自动剔除。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;另外一种方式是ip_hash：每个请求按访问ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session的问题。&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;负载均衡配置示例：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;upstream backend {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #ip_hash;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.251;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.252;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.247;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;server {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 80;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server_name&amp;nbsp; trffweb;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; location / {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #反向代理的地址&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_pass http://backend;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;Upstream命名和服务器地址根据实际情况修改。&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;5.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/strong&gt;&lt;strong style=&quot;margin: 0px; padding: 0px;&quot;&gt;完整配置示例&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;nginx.conf：&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;worker_processes&amp;nbsp; 1;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;events {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; worker_connections&amp;nbsp; 1024;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;http {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; include&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mime.types;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; default_type&amp;nbsp; application/octet-stream;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; sendfile&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; on;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; keepalive_timeout&amp;nbsp; 65;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; upstream backend {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #ip_hash;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.251;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.252;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; server 192.168.1.247;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; server {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 80;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server_name&amp;nbsp; 2;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; location / {&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; #设置主机头和客户端真实地址，以便服务器获取客户端真实IP&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header Host $host;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header X-Real-IP $remote_addr;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #禁用缓存&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_buffering off;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; #反向代理的地址&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_pass http://backend;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586614','1'),
('33','1','PHP 后端常见面试题及答案','1','PHP 后端常见面试题及答案','&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;基础题:&lt;br/&gt;1.表单中&amp;nbsp;get与post提交方法的区别?&lt;br/&gt;答:get是发送请求HTTP协议通过url参数传递进行接收,而post是实体数据,可以通过表单提交大量信息.&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2.session与cookie的区别?&lt;br/&gt;答:session:储存用户访问的全局唯一变量,存储在服务器上的&lt;a href=&quot;http://lib.csdn.net/base/php&quot; class=&quot;replace_word&quot; title=&quot;PHP知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;PHP&lt;/a&gt;指定的目录中的（session_dir）的位置进行的存放&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;cookie:用来存储连续訪問一个頁面时所使用，是存储在客户端，对于Cookie来说是存储在用户WIN的Temp目录中的。&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;两者都可通过时间来设置时间长短&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3.&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;数据库&lt;/a&gt;中的事务是什么?&lt;br/&gt;答:事务（transaction）是作为一个单元的一组有序的数据库操作。如果组中的所有操作都成功，则认为事务成功，即使只有一个操作失败，事务也不成功。如果所有操作完成，&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;事务则提交，其修改将作用于所有其他数据库进程。如果一个操作失败，则事务将回滚，该事务所有操作的影响都将取消。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;简述题:&lt;br/&gt;1、用PHP打印出前一天的时间格式是2006-5-10&amp;nbsp;22:21:21(2分)&lt;br/&gt;答:echo&amp;nbsp;date(&amp;#39;Y-m-d&amp;nbsp;H:i:s&amp;#39;,&amp;nbsp;strtotime(&amp;#39;-1&amp;nbsp;days&amp;#39;));&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2、echo(),print(),print_r()的区别(3分)&lt;br/&gt;答:echo是PHP语句,&amp;nbsp;print和print_r是函数,语句没有返回值,函数可以有返回值(即便没有用)&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;print（）&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;只能打印出简单类型变量的值(如int,string)&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;print_r（）&amp;nbsp;可以打印出复杂类型变量的值(如数组,对象)&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;输出一个或者多个字符串&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3、能够使HTML和PHP分离开使用的模板(1分)&lt;br/&gt;答:Smarty,Dwoo,TinyButStrong,Template&amp;nbsp;Lite,Savant,phemplate,XTemplate&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;5、使用哪些工具进行&lt;a href=&quot;http://lib.csdn.net/base/git&quot; class=&quot;replace_word&quot; title=&quot;Git知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;版本控制&lt;/a&gt;?(1分)&lt;br/&gt;答:cvs,svn,vss;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;6、如何实现字符串翻转?(3分)&lt;br/&gt;答:echo&amp;nbsp;strrev($a);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;7、优化&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;MySQL&lt;/a&gt;数据库的方法。(4分，多写多得)&lt;br/&gt;答:&lt;br/&gt;1、选取最适用的字段属性,尽可能减少定义字段长度,尽量把字段设置NOT&amp;nbsp;NULL,例如&amp;#39;省份,性别&amp;#39;,最好设置为ENUM&lt;br/&gt;2、使用连接（JOIN）来代替子查询:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.删除没有任何订单客户:DELETE&amp;nbsp;FROM&amp;nbsp;customerinfo&amp;nbsp;WHERE&amp;nbsp;customerid&amp;nbsp;NOT&amp;nbsp;in(SELECT&amp;nbsp;customerid&amp;nbsp;FROM&amp;nbsp;orderinfo)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;b.提取所有没有订单客户:SELECT&amp;nbsp;FROM&amp;nbsp;customerinfo&amp;nbsp;WHERE&amp;nbsp;customerid&amp;nbsp;NOT&amp;nbsp;in(SELECT&amp;nbsp;customerid&amp;nbsp;FROM&amp;nbsp;orderinfo)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;c.提高b的速度优化:SELECT&amp;nbsp;FROM&amp;nbsp;customerinfo&amp;nbsp;LEFT&amp;nbsp;JOIN&amp;nbsp;orderid&amp;nbsp;customerinfo.customerid=orderinfo.customerid&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;WHERE&amp;nbsp;orderinfo.customerid&amp;nbsp;IS&amp;nbsp;NULL&lt;br/&gt;3、使用联合(UNION)来代替手动创建的临时表&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.创建临时表:SELECT&amp;nbsp;name&amp;nbsp;FROM&amp;nbsp;`nametest`&amp;nbsp;UNION&amp;nbsp;SELECT&amp;nbsp;username&amp;nbsp;FROM&amp;nbsp;`nametest2`&lt;br/&gt;4、事务处理:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.保证数据完整性,例如添加和修改同时,两者成立则都执行,一者失败都失败&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;BEGIN&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;INSERT&amp;nbsp;INTO&amp;nbsp;customerinfo&amp;nbsp;(name)&amp;nbsp;VALUES&amp;nbsp;(&amp;#39;$name1&amp;#39;)&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;`orderinfo`&amp;nbsp;where&amp;nbsp;customerid=&amp;quot;.$id&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;COMMIT&amp;quot;);&lt;br/&gt;5、锁定表,优化事务处理:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.我们用一个&amp;nbsp;SELECT&amp;nbsp;语句取出初始数据，通过一些计算，用&amp;nbsp;UPDATE&amp;nbsp;语句将新值更新到表中。&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;包含有&amp;nbsp;WRITE&amp;nbsp;关键字的&amp;nbsp;LOCK&amp;nbsp;TABLE&amp;nbsp;语句可以保证在&amp;nbsp;UNLOCK&amp;nbsp;TABLES&amp;nbsp;命令被执行之前，&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;不会有其它的访问来对&amp;nbsp;inventory&amp;nbsp;进行插入、更新或者删除的操作&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;LOCK&amp;nbsp;TABLE&amp;nbsp;customerinfo&amp;nbsp;READ,&amp;nbsp;orderinfo&amp;nbsp;WRITE&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;SELECT&amp;nbsp;customerid&amp;nbsp;FROM&amp;nbsp;`customerinfo`&amp;nbsp;where&amp;nbsp;id=&amp;quot;.$id);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;UPDATE&amp;nbsp;`orderinfo`&amp;nbsp;SET&amp;nbsp;ordertitle=&amp;#39;$title&amp;#39;&amp;nbsp;where&amp;nbsp;customerid=&amp;quot;.$id);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;UNLOCK&amp;nbsp;TABLES&amp;quot;);&lt;br/&gt;6、使用外键,优化锁定表&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.把customerinfo里的customerid映射到orderinfo里的customerid,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;任何一条没有合法的customerid的记录不会写到orderinfo里&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;customerinfo&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;customerid&amp;nbsp;INT&amp;nbsp;NOT&amp;nbsp;NULL,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY(customerid)&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;)TYPE&amp;nbsp;=&amp;nbsp;INNODB;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATE&amp;nbsp;TABLE&amp;nbsp;orderinfo&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;orderid&amp;nbsp;INT&amp;nbsp;NOT&amp;nbsp;NULL,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;customerid&amp;nbsp;INT&amp;nbsp;NOT&amp;nbsp;NULL,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY(customerid,orderid),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;FOREIGN&amp;nbsp;KEY&amp;nbsp;(customerid)&amp;nbsp;REFERENCES&amp;nbsp;customerinfo&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(customerid)&amp;nbsp;ON&amp;nbsp;DELETE&amp;nbsp;CASCADE&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;)TYPE&amp;nbsp;=&amp;nbsp;INNODB;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;注意:&amp;#39;ON&amp;nbsp;DELETE&amp;nbsp;CASCADE&amp;#39;,该参数保证当customerinfo表中的一条记录删除的话同时也会删除order&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表中的该用户的所有记录,注意使用外键要定义事务安全类型为INNODB;&lt;br/&gt;7、建立索引:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.格式:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(普通索引)-&amp;gt;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;创建:CREATE&amp;nbsp;INDEX&amp;nbsp;&amp;lt;索引名&amp;gt;&amp;nbsp;ON&amp;nbsp;tablename&amp;nbsp;(索引字段)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;修改:ALTER&amp;nbsp;TABLE&amp;nbsp;tablename&amp;nbsp;ADD&amp;nbsp;INDEX&amp;nbsp;[索引名]&amp;nbsp;(索引字段)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;创表指定索引:CREATE&amp;nbsp;TABLE&amp;nbsp;tablename([...],INDEX[索引名](索引字段))&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(唯一索引)-&amp;gt;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;创建:CREATE&amp;nbsp;UNIQUE&amp;nbsp;&amp;lt;索引名&amp;gt;&amp;nbsp;ON&amp;nbsp;tablename&amp;nbsp;(索引字段)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;修改:ALTER&amp;nbsp;TABLE&amp;nbsp;tablename&amp;nbsp;ADD&amp;nbsp;UNIQUE&amp;nbsp;[索引名]&amp;nbsp;(索引字段)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;创表指定索引:CREATE&amp;nbsp;TABLE&amp;nbsp;tablename([...],UNIQUE[索引名](索引字段))&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(主键)-&amp;gt;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;它是唯一索引,一般在创建表是建立,格式为:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;CREATA&amp;nbsp;TABLE&amp;nbsp;tablename&amp;nbsp;([...],PRIMARY&amp;nbsp;KEY[索引字段])&lt;br/&gt;8、优化查询语句&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;a.最好在相同字段进行比较操作,在建立好的索引字段上尽量减少函数操作&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;例子1:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;YEAR(orderDate)&amp;lt;2008;(慢)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;orderDate&amp;lt;&amp;quot;2008-01-01&amp;quot;;(快)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;例子2:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;addtime/7&amp;lt;24;(慢)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;addtime&amp;lt;24*7;(快)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;例子3:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;title&amp;nbsp;like&amp;nbsp;&amp;quot;%good%&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;order&amp;nbsp;WHERE&amp;nbsp;title&amp;gt;=&amp;quot;good&amp;quot;&amp;nbsp;and&amp;nbsp;name&amp;lt;&amp;quot;good&amp;quot;;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;8、PHP的意思(送1分)&lt;br/&gt;答:PHP是一个基于服务端来创建动态网站的脚本语言，您可以用PHP和HTML生成网站主页&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;9、MYSQL取得当前时间的函数是?，格式化日期的函数是(2分)&lt;br/&gt;答:now(),date()&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;10、实现中文字串截取无乱码的方法。(3分)&lt;br/&gt;答:function&amp;nbsp;GBsubstr($string,&amp;nbsp;$start,&amp;nbsp;$length)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(strlen($string)&amp;gt;$length){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str=null;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$len=$start+$length;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for($i=$start;$i&amp;lt;$len;$i++){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(ord(substr($string,$i,1))&amp;gt;0xa0){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str.=substr($string,$i,2);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$i++;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str.=substr($string,$i,1);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$str.&amp;#39;...&amp;#39;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$string;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;11、您是否用过版本控制软件?&amp;nbsp;如果有您用的版本控制软件的名字是?(1分)&lt;br/&gt;12、您是否用过模板引擎?&amp;nbsp;如果有您用的模板引擎的名字是?(1分)&lt;br/&gt;答:用过,smarty&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;13、请简单阐述您最得意的开发之作(4分)&lt;br/&gt;答:信息分类&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;14、对于大流量的网站,您采用什么样的方法来解决访问量问题?(4分)&lt;br/&gt;答:确认服务器硬件是否足够支持当前的流量,数据库读写分离,优化数据表,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;程序功能规则,禁止外部的盗链,控制大文件的下载,使用不同主机分流主要流量&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;15、用PHP写出显示客户端IP与服务器IP的代码1分)&lt;br/&gt;答:打印客户端IP:echo&amp;nbsp;$_SERVER[‘REMOTE_ADDR’];&amp;nbsp;或者:&amp;nbsp;getenv(&amp;#39;REMOTE_ADDR&amp;#39;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;打印服务器IP:echo&amp;nbsp;gethostbyname(&amp;quot;&lt;a target=&quot;_blank&quot; href=&quot;http://www.bolaiwu.com/&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;www.bolaiwu.com&lt;/a&gt;&amp;quot;)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;16、语句include和require的区别是什么?为避免多次包含同一文件，可用(?)语句代替它们?&amp;nbsp;(2分)&lt;br/&gt;答:require-&amp;gt;require是无条件包含也就是如果一个流程里加入require,无论条件成立与否都会先执行require&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;include-&amp;gt;include有返回值，而require没有(可能因为如此require的速度比include快)&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;注意:包含文件不存在或者语法错误的时候require是致命的,include不是&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;17、如何修改SESSION的生存时间(1分).&lt;br/&gt;答:方法1:将php.ini中的session.gc_maxlifetime设置为9999重启apache&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;方法2:$savePath&amp;nbsp;=&amp;nbsp;&amp;quot;./session_save_dir/&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$lifeTime&amp;nbsp;=&amp;nbsp;小时&amp;nbsp;*&amp;nbsp;秒;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;session_save_path($savePath);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;session_set_cookie_params($lifeTime);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;session_start();&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;方法3:setcookie()&amp;nbsp;and&amp;nbsp;session_set_cookie_params($lifeTime);&lt;br/&gt;&amp;nbsp;&lt;br/&gt;18、有一个网页地址,&amp;nbsp;比如PHP开发资源网主页:&amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://www.phpres.com/index.html&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;http://www.phpres.com/index.html&lt;/a&gt;,如何得到它的内容?($1分)&lt;br/&gt;答:方法1(对于PHP5及更高版本):&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$readcontents&amp;nbsp;=&amp;nbsp;fopen(&amp;quot;&lt;a target=&quot;_blank&quot; href=&quot;http://www.phpres.com/index.html&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;http://www.phpres.com/index.html&lt;/a&gt;&amp;quot;,&amp;nbsp;&amp;quot;rb&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$contents&amp;nbsp;=&amp;nbsp;stream_get_contents($readcontents);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;fclose($readcontents);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$contents;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;方法2:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;file_get_contents(&amp;quot;&lt;a target=&quot;_blank&quot; href=&quot;http://www.phpres.com/index.html&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;http://www.phpres.com/index.html&lt;/a&gt;&amp;quot;);&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;19、在HTTP&amp;nbsp;1.0中，状态码401的含义是(?);如果返回“找不到文件”的提示，则可用&amp;nbsp;header&amp;nbsp;函数，其语句为(?);(2分)&lt;br/&gt;答:状态401代表未被授权,header(&amp;quot;Location:www.xxx.php&amp;quot;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;12、在PHP中，heredoc是一种特殊的字符串，它的结束标志必须?(1分)&lt;br/&gt;答:heredoc的语法是用&amp;quot;&amp;lt;&amp;lt;&amp;lt;&amp;quot;加上自己定义成对的标签，在标签范围內的文字视为一个字符串&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;例子:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$str&amp;nbsp;=&amp;nbsp;&amp;lt;&amp;lt;&amp;lt;SHOW&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;my&amp;nbsp;name&amp;nbsp;is&amp;nbsp;Jiang&amp;nbsp;Qihui!&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;SHOW;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;13、谈谈asp,php,jsp的优缺点(1分)&lt;br/&gt;答:ASP全名Active&amp;nbsp;Server&amp;nbsp;Pages，是一个WEB服务器端的开发环境，&amp;nbsp;利用它可以产生和运&lt;br/&gt;行动态的、交互的、高性能的WEB服务应用程序。ASP采用脚本语言VB&amp;nbsp;Script（&lt;a href=&quot;http://lib.csdn.net/base/javase&quot; class=&quot;replace_word&quot; title=&quot;Java SE知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;Java&lt;/a&gt;&amp;nbsp;script&lt;br/&gt;）作为自己的开发语言。&amp;nbsp;&lt;br/&gt;　　PHP是一种跨平台的服务器端的&lt;a href=&quot;http://lib.csdn.net/base/embeddeddevelopment&quot; class=&quot;replace_word&quot; title=&quot;嵌入式开发知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;嵌入式&lt;/a&gt;脚本语言.&amp;nbsp;它大量地借用C,Java和Perl语言的语法&lt;br/&gt;,&amp;nbsp;并耦合PHP自己的特性,使WEB开发者能够快速地写出动态生成页面.它支持目前绝大多数数&lt;br/&gt;据库。还有一点，PHP是完全免费的，不用花钱，你可以从PHP官方站点(&lt;a target=&quot;_blank&quot; href=&quot;http://www.php.ne/&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;http://www.php.ne&lt;/a&gt;&lt;br/&gt;t)自由下载。而且你可以不受限制地获得源码，甚至可以从中加进你自己需要的特色。&amp;nbsp;&lt;br/&gt;　　JSP&amp;nbsp;是Sun公司推出的新一代站点开发语言，他完全解决了目前ASP,PHP的一个通病－－&lt;br/&gt;脚本级执行（据说PHP4&amp;nbsp;也已经在Zend&amp;nbsp;的支持下，实现编译运行）.Sun&amp;nbsp;公司借助自己在Jav&lt;br/&gt;a&amp;nbsp;上的不凡造诣，将Java&amp;nbsp;从Java&amp;nbsp;应用程序&amp;nbsp;和&amp;nbsp;Java&amp;nbsp;Applet&amp;nbsp;之外，又有新的硕果，就是Js&lt;br/&gt;p－－Java&amp;nbsp;Server&amp;nbsp;Page。Jsp&amp;nbsp;可以在Serverlet和JavaBean的支持下，完成功能强大的站点&lt;br/&gt;程序。&amp;nbsp;&lt;br/&gt;　　三者都提供在&amp;nbsp;HTML&amp;nbsp;代码中混合某种程序代码、由语言引擎解释执行程序代码的能力。&lt;br/&gt;但JSP代码被编译成&amp;nbsp;Servlet&amp;nbsp;并由&amp;nbsp;Java&amp;nbsp;虚拟机解释执行，这种编译操作仅在对&amp;nbsp;JSP&amp;nbsp;页面的&lt;br/&gt;第一次请求时发生。在&amp;nbsp;ASP&amp;nbsp;、PHP、JSP&amp;nbsp;环境下，&amp;nbsp;HTML&amp;nbsp;代码主要负责描述信息的显示样式&lt;br/&gt;，而程序代码则用来描述处理逻辑。普通的&amp;nbsp;HTML&amp;nbsp;页面只依赖于&amp;nbsp;Web&amp;nbsp;服务器，而&amp;nbsp;ASP&amp;nbsp;、PH&lt;br/&gt;P、JSP&amp;nbsp;页面需要附加的语言引擎分析和执行程序代码。程序代码的执行结果被重新嵌入到&amp;nbsp;&lt;br/&gt;HTML&amp;nbsp;代码中，然后一起发送给浏览器。&amp;nbsp;ASP&amp;nbsp;、PHP、&amp;nbsp;JSP三者都是面向&amp;nbsp;Web&amp;nbsp;服务器的技术&lt;br/&gt;，客户端浏览器不需要任何附加的软件支持。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;14、谈谈对mvc的认识(1分)&lt;br/&gt;答:由模型(model),视图(view),控制器(controller)完成的应用程序&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;由模型发出要实现的功能到控制器,控制器接收组织功能传递给视图;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;15、写出发贴数最多的十个人名字的SQL，利用下表：members(id,username,posts,pass,email)(2分)&lt;br/&gt;答:SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;`members`&amp;nbsp;ORDER&amp;nbsp;BY&amp;nbsp;posts&amp;nbsp;DESC&amp;nbsp;limit&amp;nbsp;0,10;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;16.&amp;nbsp;请说明php中传值与传引用的区别。什么时候传值什么时候传引用?(2分)&lt;br/&gt;答:按值传递：函数范围内对值的任何改变在函数外部都会被忽略&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;按引用传递：函数范围内对值的任何改变在函数外部也能反映出这些修改&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;优缺点：按值传递时，php必须复制值。特别是对于大型的字符串和对象来说，这将会是一个代价很大的操作。&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;按引用传递则不需要复制值，对于性能提高很有好处。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;17.&amp;nbsp;在PHP中error_reporting这个函数有什么作用?&amp;nbsp;(1分)&lt;br/&gt;答:设置错误级别与错误信息回报&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;18.&amp;nbsp;请写一个函数验证电子邮件的格式是否正确&amp;nbsp;(2分)&lt;br/&gt;答:function&amp;nbsp;checkEmail($email)&lt;br/&gt;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$pregEmail&amp;nbsp;=&amp;nbsp;&amp;quot;/([a-z0-9]*[-_/.]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[/.][a-z]{2,3}([/.][a-z]{2})?/i&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;preg_match($pregEmail,$email);&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;19.&amp;nbsp;简述如何得到当前执行脚本路径，包括所得到参数。(2分)&lt;br/&gt;答:$script_name&amp;nbsp;=&amp;nbsp;basename(__file__);&amp;nbsp;print_r($script_name);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;21、JS表单弹出对话框函数是?获得输入焦点函数是?&amp;nbsp;(2分)&lt;br/&gt;答:弹出对话框:&amp;nbsp;alert(),prompt(),confirm()&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;获得输入焦点&amp;nbsp;focus()&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;22、JS的转向函数是?怎么引入一个外部JS文件?(2分)&lt;br/&gt;答:window.location.href,&amp;lt;script&amp;nbsp;type=&amp;quot;text/&lt;a href=&quot;http://lib.csdn.net/base/javascript&quot; class=&quot;replace_word&quot; title=&quot;JavaScript知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;JavaScript&lt;/a&gt;&amp;quot;&amp;nbsp;src=&amp;quot;js/js_function.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;23、foo()和@foo()之间有什么区别?(1分)&lt;br/&gt;答:@foo()控制错误输出&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;24、如何声明一个名为”myclass”的没有方法和属性的类?&amp;nbsp;(1分)&lt;br/&gt;答:class&amp;nbsp;myclass{&amp;nbsp;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;25、如何实例化一个名为”myclass”的对象?(1分)&lt;br/&gt;答:new&amp;nbsp;myclass()&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;26、你如何访问和设置一个类的属性?&amp;nbsp;(2分)&lt;br/&gt;答:$object&amp;nbsp;=&amp;nbsp;new&amp;nbsp;myclass();&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$newstr&amp;nbsp;=&amp;nbsp;$object-&amp;gt;test;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$object-&amp;gt;test&amp;nbsp;=&amp;nbsp;&amp;quot;info&amp;quot;;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;27、mysql_fetch_row()&amp;nbsp;和mysql_fetch_array之间有什么区别?&amp;nbsp;(1分)&lt;br/&gt;答:mysql_fetch_row是从结果集取出1行数组,作为枚举&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_fetch_array是从结果集取出一行数组作为关联数组,或数字数组,两者兼得&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;28、GD库是做什么用的?&amp;nbsp;(1分)&lt;br/&gt;答:gd库提供了一系列用来处理图片的API，使用GD库可以处理图片，或者生成图片。&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;在网站上GD库通常用来生成缩略图或者用来对图片加水印或者对网站数据生成报表。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;29、指出一些在PHP输入一段HTML代码的办法。(1分)&lt;br/&gt;答:echo&amp;nbsp;&amp;quot;&amp;lt;a&amp;nbsp;href=&amp;#39;index.php&amp;#39;&amp;gt;aaa&amp;lt;/a&amp;gt;&amp;quot;;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;30、下面哪个函数可以打开一个文件，以对文件进行读和写操作?(1分)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(a)&amp;nbsp;fget()&amp;nbsp;(b)&amp;nbsp;file_open()&amp;nbsp;(c)&amp;nbsp;fopen()&amp;nbsp;(d)&amp;nbsp;open_file()&amp;nbsp;&amp;nbsp;[&amp;nbsp;&amp;nbsp;c&amp;nbsp;&amp;nbsp;]&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;31、下面哪个选项没有将&amp;nbsp;john&amp;nbsp;添加到users&amp;nbsp;数组中?&amp;nbsp;(1分)&lt;br/&gt;　　(a)&amp;nbsp;$users[]&amp;nbsp;=&amp;nbsp;‘john’;&lt;br/&gt;　　(b)&amp;nbsp;array_add($users,’john’);&lt;br/&gt;　　(c)&amp;nbsp;array_push($users,‘john’);&lt;br/&gt;　　(d)&amp;nbsp;$users&amp;nbsp;||=&amp;nbsp;‘john’;&amp;nbsp;&amp;nbsp;[&amp;nbsp;&amp;nbsp;a&amp;nbsp;,&amp;nbsp;c&amp;nbsp;&amp;nbsp;]&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;32、下面的程序会输入是否?(1分)&lt;br/&gt;　　$num&amp;nbsp;=&amp;nbsp;10;&lt;br/&gt;　　function&amp;nbsp;multiply(){&lt;br/&gt;　　$num&amp;nbsp;=&amp;nbsp;$num&amp;nbsp;*&amp;nbsp;10;&lt;br/&gt;　　}&lt;br/&gt;　　multiply();&lt;br/&gt;　　echo&amp;nbsp;$num;&lt;br/&gt;　　?&amp;gt;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;输出:10&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;33、使用php写一段简单查询，查出所有姓名为“张三”的内容并打印出来&amp;nbsp;(2分)&lt;br/&gt;　　表名User&lt;br/&gt;　　Name&amp;nbsp;Tel&amp;nbsp;Content&amp;nbsp;Date&lt;br/&gt;　　张三&amp;nbsp;13333663366&amp;nbsp;大专毕业&amp;nbsp;2006-10-11&lt;br/&gt;　　张三&amp;nbsp;13612312331&amp;nbsp;本科毕业&amp;nbsp;2006-10-15&lt;br/&gt;　　张四&amp;nbsp;021-55665566&amp;nbsp;中专毕业&amp;nbsp;2006-10-15&lt;br/&gt;　　请根据上面的题目完成代码：&lt;br/&gt;　　$mysql_db=mysql_connect(&amp;quot;local&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;pass&amp;quot;);&lt;br/&gt;　　@mysql_select_db(&amp;quot;DB&amp;quot;,$mysql_db);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result&amp;nbsp;=&amp;nbsp;mysql_query(&amp;quot;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;`user`&amp;nbsp;WHERE&amp;nbsp;name=&amp;#39;张三&amp;#39;&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;while($rs&amp;nbsp;=&amp;nbsp;mysql_fetch_array($result)){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$rs[&amp;quot;tel&amp;quot;].$rs[&amp;quot;content&amp;quot;].$rs[&amp;quot;date&amp;quot;];&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;34、如何使用下面的类,并解释下面什么意思?(3)&lt;br/&gt;　　class&amp;nbsp;test{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;Get_test($num){&lt;br/&gt;　　&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$num=md5(md5($num).&amp;quot;En&amp;quot;);&lt;br/&gt;　　&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$num;&lt;br/&gt;　　&amp;nbsp;}&lt;br/&gt;　　}&lt;br/&gt;答:$testnum&amp;nbsp;=&amp;nbsp;&amp;quot;123&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$object&amp;nbsp;=&amp;nbsp;new&amp;nbsp;test();&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$encrypt&amp;nbsp;=&amp;nbsp;$object-&amp;gt;Get_test($testnum);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$encrypt;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;类test里面包含Get_test方法,实例化类调用方法多字符串加密&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;35、写出&amp;nbsp;SQL语句的格式&amp;nbsp;:&amp;nbsp;插入&amp;nbsp;，更新&amp;nbsp;，删除&amp;nbsp;(4分)&lt;br/&gt;　　表名User&lt;br/&gt;　　Name&amp;nbsp;Tel&amp;nbsp;Content&amp;nbsp;Date&lt;br/&gt;　　张三&amp;nbsp;13333663366&amp;nbsp;大专毕业&amp;nbsp;2006-10-11&lt;br/&gt;　　张三&amp;nbsp;13612312331&amp;nbsp;本科毕业&amp;nbsp;2006-10-15&lt;br/&gt;　　张四&amp;nbsp;021-55665566&amp;nbsp;中专毕业&amp;nbsp;2006-10-15&lt;br/&gt;　　(a)&amp;nbsp;有一新记录(小王&amp;nbsp;13254748547&amp;nbsp;高中毕业&amp;nbsp;2007-05-06)请用SQL语句新增至表中&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;INSERT&amp;nbsp;INTO&amp;nbsp;`user`&amp;nbsp;(name,tel,content,date)&amp;nbsp;VALUES&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(&amp;#39;小王&amp;#39;,&amp;#39;13254748547&amp;#39;,&amp;#39;高中毕业&amp;#39;,&amp;#39;2007-05-06&amp;#39;)&amp;quot;)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;　　(b)&amp;nbsp;请用sql语句把张三的时间更新成为当前系统时间&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$nowDate&amp;nbsp;=&amp;nbsp;date(&amp;quot;Ymd&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;UPDATE&amp;nbsp;`user`&amp;nbsp;SET&amp;nbsp;date=&amp;#39;&amp;quot;.$nowDate.&amp;quot;&amp;#39;&amp;nbsp;WHERE&amp;nbsp;name=&amp;#39;张山&amp;#39;&amp;quot;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;　　(c)&amp;nbsp;请写出删除名为张四的全部记录&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mysql_query(&amp;quot;DELETE&amp;nbsp;FROM&amp;nbsp;`user`&amp;nbsp;WHERE&amp;nbsp;name=&amp;#39;张四&amp;#39;&amp;quot;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;36、请写出数据类型(int&amp;nbsp;char&amp;nbsp;varchar&amp;nbsp;datetime&amp;nbsp;text)的意思;&amp;nbsp;请问varchar和char有什么区别(2分)&lt;br/&gt;答:int是数字类型,char固定长度字符串,varchar实际长度字符串,datetime日期时间型,text文本字符串&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;char的场地固定为创建表设置的长度,varchar为可变长度的字符&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;38、写出以下程序的输出结果&amp;nbsp;(1分)&lt;br/&gt;　　$b=201;&lt;br/&gt;　　$c=40;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$a=$b&amp;gt;$c?4:5;&lt;br/&gt;　　echo&amp;nbsp;$a;&lt;br/&gt;　　?&amp;gt;&lt;br/&gt;答:4&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;39、检测一个变量是否有设置的函数是否?是否为空的函数是?(2分)&lt;br/&gt;答:isset($str),empty($str);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;40、取得查询结果集总数的函数是?(1分)&lt;br/&gt;答:mysql_num_rows($result);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;41、$arr&amp;nbsp;=&amp;nbsp;array(&amp;#39;james&amp;#39;,&amp;nbsp;&amp;#39;tom&amp;#39;,&amp;nbsp;&amp;#39;symfony&amp;#39;);&amp;nbsp;请打印出第一个元素的值&amp;nbsp;(1分)&lt;br/&gt;答:echo&amp;nbsp;$array[0];&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;42、请将41题的数组的值用&amp;#39;,&amp;#39;号分隔并合并成字串输出(1分)&lt;br/&gt;答:for($i=0;$i&amp;lt;count($array);$i++){&amp;nbsp;echo&amp;nbsp;$array[$i].&amp;quot;,&amp;quot;;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;43、$a&amp;nbsp;=&amp;nbsp;&amp;#39;abcdef&amp;#39;;&amp;nbsp;请取出$a的值并打印出第一个字母(1分)&lt;br/&gt;答:echo&amp;nbsp;$a{0}&amp;nbsp;或&amp;nbsp;echo&amp;nbsp;substr($a,0,1)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;44、PHP可以和sql&amp;nbsp;server/&lt;a href=&quot;http://lib.csdn.net/base/oracle&quot; class=&quot;replace_word&quot; title=&quot;Oracle知识库&quot; target=&quot;_blank&quot; style=&quot;text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;&quot;&gt;Oracle&lt;/a&gt;等数据库连接吗?(1分)&lt;br/&gt;答:当然可以&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;45、请写出PHP5权限控制修饰符(3分)&lt;br/&gt;答:public(公共),private(私用),protected(继承)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;46、请写出php5的构造函数和析构函数(2分)&lt;br/&gt;答:__construct&amp;nbsp;,&amp;nbsp;__destruct&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;47、完成以下:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;(一)创建新闻发布系统，表名为message有如下字段&amp;nbsp;(3分)&lt;br/&gt;　　id&amp;nbsp;文章id&lt;br/&gt;　　title&amp;nbsp;文章标题&lt;br/&gt;　　content&amp;nbsp;文章内容&lt;br/&gt;　　category_id&amp;nbsp;文章分类id&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hits&amp;nbsp;点击量&lt;br/&gt;答:CREATE&amp;nbsp;TABLE&amp;nbsp;&amp;#39;message&amp;#39;(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;id&amp;#39;&amp;nbsp;int(10)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;auto_increment,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;title&amp;#39;&amp;nbsp;varchar(200)&amp;nbsp;default&amp;nbsp;NULL,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;content&amp;#39;&amp;nbsp;text,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;category_id&amp;#39;&amp;nbsp;int(10)&amp;nbsp;NOT&amp;nbsp;NULL,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;hits&amp;#39;&amp;nbsp;int(20),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;PRIMARY&amp;nbsp;KEY(&amp;#39;id&amp;#39;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;)ENGINE=InnoDB&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=utf8;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(二)同样上述新闻发布系统：表comment记录用户回复内容，字段如下&amp;nbsp;(4分)&lt;br/&gt;　　comment_id&amp;nbsp;回复id&lt;br/&gt;　　id&amp;nbsp;文章id，关联message表中的id&lt;br/&gt;　　comment_content&amp;nbsp;回复内容&lt;br/&gt;　　现通过查询数据库需要得到以下格式的文章标题列表,并按照回复数量排序，回复最高的排在最前面&lt;br/&gt;　　文章id&amp;nbsp;文章标题&amp;nbsp;点击量&amp;nbsp;回复数量&lt;br/&gt;　　用一个SQL语句完成上述查询，如果文章没有回复则回复数量显示为0&lt;br/&gt;答:SELECT&amp;nbsp;message.id&amp;nbsp;id,message.title&amp;nbsp;title,IF(message.`hits`&amp;nbsp;IS&amp;nbsp;NULL,0,message.`hits`)&amp;nbsp;hits,&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;IF(comment.`id`&amp;nbsp;is&amp;nbsp;NULL,0,count(*))&amp;nbsp;number&amp;nbsp;FROM&amp;nbsp;message&amp;nbsp;LEFT&amp;nbsp;JOIN&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;comment&amp;nbsp;ON&amp;nbsp;message.id=comment.id&amp;nbsp;GROUP&amp;nbsp;BY&amp;nbsp;message.`id`;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;　　(三)上述内容管理系统，表category保存分类信息，字段如下&amp;nbsp;(3分)&lt;br/&gt;　　category_id&amp;nbsp;int(4)&amp;nbsp;not&amp;nbsp;null&amp;nbsp;auto_increment;&lt;br/&gt;　　categroy_name&amp;nbsp;varchar(40)&amp;nbsp;not&amp;nbsp;null;&lt;br/&gt;　　用户输入文章时，通过选择下拉菜单选定文章分类&lt;br/&gt;　　写出如何实现这个下拉菜单&lt;br/&gt;答:function&amp;nbsp;categoryList()&lt;br/&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$result=mysql_query(&amp;quot;select&amp;nbsp;category_id,categroy_name&amp;nbsp;from&amp;nbsp;category&amp;quot;)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;or&amp;nbsp;die(&amp;quot;Invalid&amp;nbsp;query:&amp;nbsp;&amp;quot;&amp;nbsp;.&amp;nbsp;mysql_error());&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print(&amp;quot;&amp;lt;select&amp;nbsp;name=&amp;#39;category&amp;#39;&amp;nbsp;value=&amp;#39;&amp;#39;&amp;gt;/n&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;while($rowArray=mysql_fetch_array($result))&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print(&amp;quot;&amp;lt;option&amp;nbsp;value=&amp;#39;&amp;quot;.$rowArray[&amp;#39;category_id&amp;#39;].&amp;quot;&amp;#39;&amp;gt;&amp;quot;.$rowArray[&amp;#39;categroy_name&amp;#39;].&amp;quot;&amp;lt;/option&amp;gt;/n&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;print(&amp;quot;&amp;lt;/select&amp;gt;&amp;quot;);&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;编程题:&lt;br/&gt;1.&amp;nbsp;写一个函数，尽可能高效的，从一个标准&amp;nbsp;url&amp;nbsp;里取出文件的扩展名&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;例如:&amp;nbsp;&lt;a target=&quot;_blank&quot; href=&quot;http://www.sina.com.cn/abc/de/fg.php?id=1&quot; style=&quot;text-decoration: none; color: rgb(12, 137, 207);&quot;&gt;http://www.sina.com.cn/abc/de/fg.php?id=1&lt;/a&gt;&amp;nbsp;需要取出&amp;nbsp;php&amp;nbsp;或&amp;nbsp;.php&lt;br/&gt;答案1:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;getExt($url){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$arr&amp;nbsp;=&amp;nbsp;parse_url($url);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$file&amp;nbsp;=&amp;nbsp;basename($arr[&amp;#39;path&amp;#39;]);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ext&amp;nbsp;=&amp;nbsp;explode(&amp;quot;.&amp;quot;,$file);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$ext[1];&lt;br/&gt;}&lt;br/&gt;答案2:&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;getExt($url)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$url&amp;nbsp;=&amp;nbsp;basename($url);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$pos1&amp;nbsp;=&amp;nbsp;strpos($url,&amp;quot;.&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$pos2&amp;nbsp;=&amp;nbsp;strpos($url,&amp;quot;?&amp;quot;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(strstr($url,&amp;quot;?&amp;quot;)){&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;substr($url,$pos1&amp;nbsp;+&amp;nbsp;1,$pos2&amp;nbsp;-&amp;nbsp;$pos1&amp;nbsp;-&amp;nbsp;1);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;else&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;substr($url,$pos1);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;2.&amp;nbsp;在&amp;nbsp;HTML&amp;nbsp;语言中，页面头部的&amp;nbsp;meta&amp;nbsp;标记可以用来输出文件的编码格式，以下是一个标准的&amp;nbsp;meta&amp;nbsp;语句&lt;br/&gt;　　请使用&amp;nbsp;PHP&amp;nbsp;语言写一个函数，把一个标准&amp;nbsp;HTML&amp;nbsp;页面中的类似&amp;nbsp;meta&amp;nbsp;标记中的&amp;nbsp;charset&amp;nbsp;部分值改为&amp;nbsp;big5&lt;br/&gt;　　请注意:&lt;br/&gt;　　1.&amp;nbsp;需要处理完整的&amp;nbsp;html&amp;nbsp;页面，即不光此&amp;nbsp;meta&amp;nbsp;语句&lt;br/&gt;　　2.&amp;nbsp;忽略大小写&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;3.&amp;nbsp;&amp;#39;&amp;nbsp;和&amp;nbsp;&amp;quot;&amp;nbsp;在此处是可以互换的&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;4.&amp;nbsp;&amp;#39;Content-Type&amp;#39;&amp;nbsp;两侧的引号是可以忽略的，但&amp;nbsp;&amp;#39;text/html;&amp;nbsp;charset=gbk&amp;#39;&amp;nbsp;两侧的不行&lt;br/&gt;　　5.&amp;nbsp;注意处理多余空格&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3.&amp;nbsp;写一个函数，算出两个文件的相对路径&lt;br/&gt;　　如&amp;nbsp;$a&amp;nbsp;=&amp;nbsp;&amp;#39;/a/b/c/d/e.php&amp;#39;;&lt;br/&gt;　　$b&amp;nbsp;=&amp;nbsp;&amp;#39;/a/b/12/34/c.php&amp;#39;;&lt;br/&gt;　　计算出&amp;nbsp;$b&amp;nbsp;相对于&amp;nbsp;$a&amp;nbsp;的相对路径应该是&amp;nbsp;../../c/d将()添上&lt;br/&gt;答:function&amp;nbsp;getRelativePath($a,&amp;nbsp;$b)&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$returnPath&amp;nbsp;=&amp;nbsp;array(dirname($b));&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$arrA&amp;nbsp;=&amp;nbsp;explode(&amp;#39;/&amp;#39;,&amp;nbsp;$a);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$arrB&amp;nbsp;=&amp;nbsp;explode(&amp;#39;/&amp;#39;,&amp;nbsp;$returnPath[0]);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for&amp;nbsp;($n&amp;nbsp;=&amp;nbsp;1,&amp;nbsp;$len&amp;nbsp;=&amp;nbsp;count($arrB);&amp;nbsp;$n&amp;nbsp;&amp;lt;&amp;nbsp;$len;&amp;nbsp;$n++)&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;($arrA[$n]&amp;nbsp;!=&amp;nbsp;$arrB[$n])&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;break;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;($len&amp;nbsp;-&amp;nbsp;$n&amp;nbsp;&amp;gt;&amp;nbsp;0)&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$returnPath&amp;nbsp;=&amp;nbsp;array_merge($returnPath,&amp;nbsp;array_fill(1,&amp;nbsp;$len&amp;nbsp;-&amp;nbsp;$n,&amp;nbsp;&amp;#39;..&amp;#39;));&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$returnPath&amp;nbsp;=&amp;nbsp;array_merge($returnPath,&amp;nbsp;array_slice($arrA,&amp;nbsp;$n));&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;implode(&amp;#39;/&amp;#39;,&amp;nbsp;$returnPath);&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;getRelativePath($a,&amp;nbsp;$b);&amp;nbsp;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;填空题:&lt;br/&gt;1.在PHP中，当前脚本的名称(不包括路径和查询字符串)记录在预定义变量__$_SERVER[&amp;#39;PHP_SELF&amp;#39;]__中;而链接到当前页面的URL记录在预定义变量__$_SERVER[&amp;#39;HTTP_REFERER&amp;#39;]__&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;中&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;2.执行程序段&amp;lt;?php&amp;nbsp;echo&amp;nbsp;8%(-2)&amp;nbsp;?&amp;gt;将输出__0__。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;3.在HTTP&amp;nbsp;1.0中，状态码&amp;nbsp;401&amp;nbsp;的含义是____;如果返回“找不到文件”的提示，则可用&amp;nbsp;header&amp;nbsp;函数，其语句为____。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;4.数组函数&amp;nbsp;arsort&amp;nbsp;的作用是__对数组进行逆向排序并保持索引关系__;语句&amp;nbsp;error_reporting(2047)的作用是__报告所有错误和警告__。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;5.PEAR中的数据库连接字符串格式是____。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;6.写出一个正则表达式，过虑网页上的所有JS/VBS脚本(即把scrīpt标记及其内容都去掉):preg_replace(&amp;quot;&amp;nbsp;/&amp;lt;script[^&amp;gt;].*?&amp;gt;.*?&amp;lt;/script&amp;gt;/si&amp;quot;,&amp;nbsp;&amp;quot;newinfo&amp;quot;,&amp;nbsp;$script);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;7.以Apache模块的方式安装PHP，在文件http.conf中首先要用语句____动态装载PHP模块，然后再用语句____使得Apache把所有扩展名为php的文件都作为PHP脚本处理。&lt;br/&gt;&amp;nbsp;&amp;nbsp;LoadModule&amp;nbsp;php5_module&amp;nbsp;&amp;quot;c:/php/php5apache2.dll&amp;quot;&amp;nbsp;,&amp;nbsp;AddType&amp;nbsp;application/x-httpd-php&amp;nbsp;.php,&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;8.语句&amp;nbsp;include&amp;nbsp;和&amp;nbsp;require&amp;nbsp;都能把另外一个文件包含到当前文件中，它们的区别是____;为了避免多次包含同一文件，可以用语句__require_once||include_once__来代替它们。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;9.类的属性可以序列化后保存到&amp;nbsp;session&amp;nbsp;中，从而以后可以恢复整个类，这要用到的函数是____。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;10.一个函数的参数不能是对变量的引用，除非在php.ini中把__allow_call_time_pass_reference&amp;nbsp;boolean__设为on.&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;11.SQL中LEFT&amp;nbsp;JOIN的含义是__自然左外链接__。如果&amp;nbsp;tbl_user记录了学生的姓名(name)和学号(ID)，tbl_score记录了学生(有的学生考试以后被开除了，没有其记录)的学号(ID)&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;和考试成绩(score)以及考试科目(subject)，要想打印出各个学生姓名及对应的的各科总成绩，则可以用SQL语句____。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;12.在PHP中，heredoc是一种特殊的字符串，它的结束标志必须____。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;编程题:&lt;br/&gt;13.写一个函数，能够遍历一个文件夹下的所有文件和子文件夹。&lt;br/&gt;答:&lt;br/&gt;function&amp;nbsp;my_scandir($dir)&lt;br/&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$files&amp;nbsp;=&amp;nbsp;array();&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(&amp;nbsp;$handle&amp;nbsp;=&amp;nbsp;opendir($dir)&amp;nbsp;)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;while&amp;nbsp;(&amp;nbsp;($file&amp;nbsp;=&amp;nbsp;readdir($handle))&amp;nbsp;!==&amp;nbsp;false&amp;nbsp;)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(&amp;nbsp;$file&amp;nbsp;!=&amp;nbsp;&amp;quot;..&amp;quot;&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;$file&amp;nbsp;!=&amp;nbsp;&amp;quot;.&amp;quot;&amp;nbsp;)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(&amp;nbsp;is_dir($dir&amp;nbsp;.&amp;nbsp;&amp;quot;/&amp;quot;&amp;nbsp;.&amp;nbsp;$file)&amp;nbsp;)&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$files[$file]&amp;nbsp;=&amp;nbsp;scandir($dir&amp;nbsp;.&amp;nbsp;&amp;quot;/&amp;quot;&amp;nbsp;.&amp;nbsp;$file);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$files[]&amp;nbsp;=&amp;nbsp;$file;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;closedir($handle);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$files;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;14.简述论坛中无限分类的实现原理。&lt;br/&gt;答:&lt;br/&gt;&amp;lt;?php&lt;br/&gt;/*&lt;br/&gt;数据表结构如下:&lt;br/&gt;CREATE&amp;nbsp;TABLE&amp;nbsp;`category`&amp;nbsp;(&lt;br/&gt;&amp;nbsp;`categoryID`&amp;nbsp;smallint(5)&amp;nbsp;unsigned&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;auto_increment,&lt;br/&gt;&amp;nbsp;`categoryParentID`&amp;nbsp;smallint(5)&amp;nbsp;unsigned&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;default&amp;nbsp;&amp;#39;0&amp;#39;,&lt;br/&gt;&amp;nbsp;`categoryName`&amp;nbsp;varchar(50)&amp;nbsp;NOT&amp;nbsp;NULL&amp;nbsp;default&amp;nbsp;&amp;#39;&amp;#39;,&lt;br/&gt;&amp;nbsp;PRIMARY&amp;nbsp;KEY&amp;nbsp;(`categoryID`)&lt;br/&gt;)&amp;nbsp;ENGINE=MyISAM&amp;nbsp;DEFAULT&amp;nbsp;CHARSET=gbk;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;INSERT&amp;nbsp;INTO&amp;nbsp;`category`&amp;nbsp;(&amp;nbsp;`categoryParentID`,&amp;nbsp;`categoryName`)&amp;nbsp;VALUES&amp;nbsp;&lt;br/&gt;(0,&amp;nbsp;&amp;#39;一级类别&amp;#39;),&lt;br/&gt;(1,&amp;nbsp;&amp;#39;二级类别&amp;#39;),&lt;br/&gt;(1,&amp;nbsp;&amp;#39;二级类别&amp;#39;),&lt;br/&gt;(1,&amp;nbsp;&amp;#39;二级类别&amp;#39;),&lt;br/&gt;(2,&amp;nbsp;&amp;#39;三级类别&amp;#39;),&lt;br/&gt;(2,&amp;nbsp;&amp;#39;333332&amp;#39;),&lt;br/&gt;(2,&amp;nbsp;&amp;#39;234234&amp;#39;),&lt;br/&gt;(3,&amp;nbsp;&amp;#39;aqqqqqd&amp;#39;),&lt;br/&gt;(4,&amp;nbsp;&amp;#39;哈哈&amp;#39;),&lt;br/&gt;(5,&amp;nbsp;&amp;#39;66333666&amp;#39;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;*/&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;//指定分类id变量$category_id,然后返回该分类的所有子类&lt;br/&gt;//$default_category为默认的选中的分类&lt;br/&gt;function&amp;nbsp;Get_Category($category_id&amp;nbsp;=&amp;nbsp;0,$level&amp;nbsp;=&amp;nbsp;0,&amp;nbsp;$default_category&amp;nbsp;=&amp;nbsp;0)&lt;br/&gt;{&lt;br/&gt;&amp;nbsp;global&amp;nbsp;$DB;&lt;br/&gt;&amp;nbsp;$sql&amp;nbsp;=&amp;nbsp;&amp;quot;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;category&amp;nbsp;ORDER&amp;nbsp;BY&amp;nbsp;categoryID&amp;nbsp;DESC&amp;quot;;&lt;br/&gt;&amp;nbsp;$result&amp;nbsp;=&amp;nbsp;$DB-&amp;gt;query(&amp;nbsp;$sql&amp;nbsp;);&lt;br/&gt;&amp;nbsp;while&amp;nbsp;($rows&amp;nbsp;=&amp;nbsp;$DB-&amp;gt;fetch_array($result))&amp;nbsp;&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;$category_array[$rows[categoryParentID]][$rows[categoryID]]&amp;nbsp;=&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$rows[categoryID],&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$rows[categoryParentID],&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$rows&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;[categoryName]);&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;if&amp;nbsp;(!isset($category_array[$category_id]))&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;return&amp;nbsp;&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;foreach($category_array[$category_id]&amp;nbsp;AS&amp;nbsp;$key&amp;nbsp;=&amp;gt;&amp;nbsp;$category)&lt;br/&gt;&amp;nbsp;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;if&amp;nbsp;($category[&amp;#39;id&amp;#39;]&amp;nbsp;==&amp;nbsp;$default_category)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;lt;option&amp;nbsp;selected&amp;nbsp;value=&amp;quot;.$category[&amp;#39;id&amp;#39;].&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;}else&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;lt;option&amp;nbsp;value=&amp;quot;.$category[&amp;#39;id&amp;#39;].&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;if&amp;nbsp;($level&amp;nbsp;&amp;gt;&amp;nbsp;0)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;gt;&amp;quot;&amp;nbsp;.&amp;nbsp;str_repeat(&amp;nbsp;&amp;quot;&amp;nbsp;&amp;quot;,&amp;nbsp;$level&amp;nbsp;)&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;nbsp;&amp;quot;&amp;nbsp;.&amp;nbsp;$category[&amp;#39;name&amp;#39;]&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;/option&amp;gt;/n&amp;quot;;&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;else&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;echo&amp;nbsp;&amp;quot;&amp;gt;&amp;quot;&amp;nbsp;.&amp;nbsp;$category[&amp;#39;name&amp;#39;]&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;/option&amp;gt;/n&amp;quot;;&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;Get_Category($key,&amp;nbsp;$level&amp;nbsp;+&amp;nbsp;1,&amp;nbsp;$default_category);&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;unset($category_array[$category_id]);&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;/*&lt;br/&gt;函数返回的数组格式如下所示:&lt;br/&gt;Array&amp;nbsp;&lt;br/&gt;(&lt;br/&gt;&amp;nbsp;[1]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;一级类别&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;0&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;0&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[4]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;4&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;二级类别&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[9]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;9&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;哈哈&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;4&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[3]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;3&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;二级类别&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;)&amp;nbsp;&lt;br/&gt;&amp;nbsp;[8]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;8&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;aqqqqqd&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;3&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[2]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;二级类别&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;1&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[7]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;7&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;234234&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;)&lt;br/&gt;&amp;nbsp;[6]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;6&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;333332&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;)&amp;nbsp;&lt;br/&gt;&amp;nbsp;[5]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;5&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;三级类别&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;2&amp;nbsp;)&amp;nbsp;&lt;br/&gt;&amp;nbsp;[10]&amp;nbsp;=&amp;gt;&amp;nbsp;Array&amp;nbsp;(&amp;nbsp;[id]&amp;nbsp;=&amp;gt;&amp;nbsp;10&amp;nbsp;[name]&amp;nbsp;=&amp;gt;&amp;nbsp;66333666&amp;nbsp;[level]&amp;nbsp;=&amp;gt;&amp;nbsp;3&amp;nbsp;[ParentID]&amp;nbsp;=&amp;gt;&amp;nbsp;5&amp;nbsp;)&amp;nbsp;&lt;br/&gt;)&lt;br/&gt;*/&lt;br/&gt;//指定分类id,然后返回数组&lt;br/&gt;function&amp;nbsp;Category_array($category_id&amp;nbsp;=&amp;nbsp;0,$level=0)&lt;br/&gt;{&lt;br/&gt;&amp;nbsp;global&amp;nbsp;$DB;&lt;br/&gt;&amp;nbsp;$sql&amp;nbsp;=&amp;nbsp;&amp;quot;SELECT&amp;nbsp;*&amp;nbsp;FROM&amp;nbsp;category&amp;nbsp;ORDER&amp;nbsp;BY&amp;nbsp;categoryID&amp;nbsp;DESC&amp;quot;;&lt;br/&gt;&amp;nbsp;$result&amp;nbsp;=&amp;nbsp;$DB-&amp;gt;query($sql);&lt;br/&gt;&amp;nbsp;while&amp;nbsp;($rows&amp;nbsp;=&amp;nbsp;$DB-&amp;gt;fetch_array($result))&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;$category_array[$rows[&amp;#39;categoryParentID&amp;#39;]][$rows[&amp;#39;categoryID&amp;#39;]]&amp;nbsp;=&amp;nbsp;$rows;&lt;br/&gt;&amp;nbsp;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;foreach&amp;nbsp;($category_array&amp;nbsp;AS&amp;nbsp;$key=&amp;gt;$val)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;if&amp;nbsp;($key&amp;nbsp;==&amp;nbsp;$category_id)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;foreach&amp;nbsp;($val&amp;nbsp;AS&amp;nbsp;$k=&amp;gt;&amp;nbsp;$v)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;$options[$k]&amp;nbsp;=&lt;br/&gt;&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$v[&amp;#39;categoryID&amp;#39;],&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$v[&amp;#39;categoryName&amp;#39;],&amp;nbsp;&amp;#39;level&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;$level,&amp;nbsp;&amp;#39;ParentID&amp;#39;=&amp;gt;$v[&amp;#39;categoryParentID&amp;#39;]&lt;br/&gt;&amp;nbsp;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;$children&amp;nbsp;=&amp;nbsp;Category_array($k,&amp;nbsp;$level+1);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;if&amp;nbsp;(count($children)&amp;nbsp;&amp;gt;&amp;nbsp;0)&lt;br/&gt;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;$options&amp;nbsp;=&amp;nbsp;$options&amp;nbsp;+&amp;nbsp;$children;&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;unset($category_array[$category_id]);&lt;br/&gt;&amp;nbsp;return&amp;nbsp;$options;&lt;br/&gt;}&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;?&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;?php&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;class&amp;nbsp;cate&lt;br/&gt;{&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;Get_Category($category_id&amp;nbsp;=&amp;nbsp;0,$level&amp;nbsp;=&amp;nbsp;0,&amp;nbsp;$default_category&amp;nbsp;=&amp;nbsp;0)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$category_id;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$arr&amp;nbsp;=&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;0&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;1&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;1,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;0,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;1111&amp;#39;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;2&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;2,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;0,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;2222&amp;#39;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;4&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;4,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;0,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;4444&amp;#39;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;1&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;3&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;3,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;1,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;333333&amp;#39;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;5&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;5,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;1,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;555555&amp;#39;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;3&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;6&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;6,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;3,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;66666&amp;#39;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;7&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;7,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;3,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;77777&amp;#39;)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;4&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;8&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;8,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;4,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;8888&amp;#39;),&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;#39;9&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;array(&amp;#39;id&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;9,&amp;nbsp;&amp;#39;parent&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;4,&amp;nbsp;&amp;#39;name&amp;#39;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;#39;9999&amp;#39;)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!isset($arr[$category_id]))&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($arr[$category_id]&amp;nbsp;AS&amp;nbsp;$key&amp;nbsp;=&amp;gt;&amp;nbsp;$cate)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;($cate[&amp;#39;id&amp;#39;]&amp;nbsp;==&amp;nbsp;$default_category)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$txt&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;lt;option&amp;nbsp;selected&amp;nbsp;value=&amp;quot;.$cate[&amp;#39;id&amp;#39;].&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$txt&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;lt;option&amp;nbsp;value=&amp;quot;.$cate[&amp;#39;id&amp;#39;].&amp;quot;&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;($level&amp;nbsp;&amp;gt;&amp;nbsp;0)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$txt1&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;gt;&amp;quot;&amp;nbsp;.&amp;nbsp;str_repeat(&amp;nbsp;&amp;quot;-&amp;quot;,&amp;nbsp;$level&amp;nbsp;)&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;nbsp;&amp;quot;&amp;nbsp;.&amp;nbsp;$cate[&amp;#39;name&amp;#39;]&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;/option&amp;gt;/n&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}else{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$txt1&amp;nbsp;=&amp;nbsp;&amp;quot;&amp;gt;&amp;quot;&amp;nbsp;.&amp;nbsp;$cate[&amp;#39;name&amp;#39;]&amp;nbsp;.&amp;nbsp;&amp;quot;&amp;lt;/option&amp;gt;/n&amp;quot;;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$val&amp;nbsp;=&amp;nbsp;$txt.$txt1;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;$val;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self::Get_Category($key,&amp;nbsp;$level&amp;nbsp;+&amp;nbsp;1,&amp;nbsp;$default_category);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;getFlush($category_id&amp;nbsp;=&amp;nbsp;0,$level&amp;nbsp;=&amp;nbsp;0,&amp;nbsp;$default_category&amp;nbsp;=&amp;nbsp;0)&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ob_start();&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;self::Get_Category($category_id&amp;nbsp;,$level,&amp;nbsp;$default_category);&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$out&amp;nbsp;=&amp;nbsp;ob_get_contents();&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(85, 85, 85); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ob_end_clean();&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;$out;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;}&lt;br/&gt;$id&amp;nbsp;=$_GET[&amp;#39;id&amp;#39;];&lt;br/&gt;echo&amp;nbsp;&amp;quot;&amp;lt;select&amp;gt;&amp;quot;;&lt;br/&gt;$c&amp;nbsp;=&amp;nbsp;new&amp;nbsp;cate();&lt;br/&gt;//$c-&amp;gt;Get_Category();&lt;br/&gt;$ttt=&amp;nbsp;&amp;nbsp;$c-&amp;gt;getFlush($id,&amp;#39;0&amp;#39;,&amp;#39;3&amp;#39;);&lt;br/&gt;echo&amp;nbsp;$ttt;&lt;br/&gt;echo&amp;nbsp;&amp;quot;&amp;lt;/select&amp;gt;&amp;quot;;&lt;br/&gt;?&amp;gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489586899','1'),
('34','1','MySQL中的if和case语句使用总结','2','MySQL中的if和case语句使用总结','&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;strong&gt;IF表达式&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;93963&quot; class=&quot;copybut&quot; id=&quot;copybut93963&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;IF(expr1,expr2,expr3)&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;如果 expr1 是TRUE (expr1 &amp;lt;&amp;gt; 0 and expr1 &amp;lt;&amp;gt; NULL)，则 IF()的返回值为expr2; 否则返回值则为 expr3。IF() 的返回值为数字值或字符串值，具体情况视其所在语境而定。&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;85677&quot; class=&quot;copybut&quot; id=&quot;copybut85677&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;select *,if(sva=1,&amp;quot;男&amp;quot;,&amp;quot;女&amp;quot;) as ssva from taname where sva != &amp;quot;&amp;quot;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;作为表达式的if也可以用CASE when来实现：&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;63651&quot; class=&quot;copybut&quot; id=&quot;copybut63651&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;select CASE sva WHEN 1 THEN &amp;#39;男&amp;#39; ELSE &amp;#39;女&amp;#39; END as ssva from taname where sva != &amp;#39;&amp;#39;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;在第一个方案的返回结果中， value=compare-value。而第二个方案的返回结果是第一种情况的真实结果。如果没有匹配的结果值，则返回结果为ELSE后的结果，如果没有ELSE 部分，则返回值为 NULL。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;例如：&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;3171&quot; class=&quot;copybut&quot; id=&quot;copybut3171&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;SELECT CASE 1 WHEN 1 THEN &amp;#39;one&amp;#39;&lt;br/&gt;&amp;nbsp; WHEN 2 THEN &amp;#39;two&amp;#39;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp; ELSE &amp;#39;more&amp;#39; END&lt;br/&gt;as testCol&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;将输出one&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;strong&gt;IFNULL(expr1,expr2)&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;假如expr1 不为 NULL，则 IFNULL() 的返回值为 expr1; 否则其返回值为 expr2。IFNULL()的返回值是数字或是字符串，具体情况取决于其所使用的语境。&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;84609&quot; class=&quot;copybut&quot; id=&quot;copybut84609&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;mysql&amp;gt; SELECT IFNULL(1,0);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; -&amp;gt; 1&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;mysql&amp;gt; SELECT IFNULL(NULL,10);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; -&amp;gt; 10&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;mysql&amp;gt; SELECT IFNULL(1/0,10);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; -&amp;gt; 10&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;mysql&amp;gt; SELECT IFNULL(1/0,&amp;#39;yes&amp;#39;);&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; -&amp;gt; &amp;#39;yes&amp;#39;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;IFNULL(expr1,expr2) 的默认结果值为两个表达式中更加“通用”的一个，顺序为STRING、 REAL或 INTEGER。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;strong&gt;IF ELSE 做为流程控制语句使用&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;if实现条件判断，满足不同条件执行不同的操作，这个我们只要学编程的都知道if的作用了，下面我们来看看mysql 存储过程中的if是如何使用的吧。&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;66855&quot; class=&quot;copybut&quot; id=&quot;copybut66855&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;IF search_condition THEN&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; statement_list&amp;nbsp;&amp;nbsp;&lt;br/&gt;[ELSEIF search_condition THEN]&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; statement_list ...&amp;nbsp;&amp;nbsp;&lt;br/&gt;[ELSE&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; statement_list]&amp;nbsp;&amp;nbsp;&lt;br/&gt;END IF&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;与PHP中的IF语句类似，当IF中条件search_condition成立时，执行THEN后的statement_list语句，否则判断ELSEIF中的条件，成立则执行其后的statement_list语句，否则继续判断其他分支。当所有分支的条件均不成立时，执行ELSE分支。search_condition是一个条件表达式，可以由“=、&amp;lt;、&amp;lt;=、&amp;gt;、&amp;gt;=、!=”等条件运算符组成，并且可以使用AND、OR、NOT对多个表达式进行组合。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;例如，建立一个存储过程，该存储过程通过学生学号（student_no）和课程编号（course_no）查询其成绩（grade），返回成绩和成绩的等级，成绩大于90分的为A级，小于90分大于等于80分的为B级，小于80分大于等于70分的为C级，依次到E级。那么，创建存储过程的代码如下：&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;93558&quot; class=&quot;copybut&quot; id=&quot;copybut93558&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;create procedure dbname.proc_getGrade&amp;nbsp;&amp;nbsp;&lt;br/&gt;(stu_no varchar(20),cour_no varchar(10))&amp;nbsp;&amp;nbsp;&lt;br/&gt;BEGIN&amp;nbsp;&lt;br/&gt;declare stu_grade float;&amp;nbsp;&amp;nbsp;&lt;br/&gt;select grade into stu_grade from grade where student_no=stu_no and course_no=cour_no;&amp;nbsp;&amp;nbsp;&lt;br/&gt;if stu_grade&amp;gt;=90 then&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; select stu_grade,&amp;#39;A&amp;#39;;&amp;nbsp;&amp;nbsp;&lt;br/&gt;elseif stu_grade&amp;lt;90 and stu_grade&amp;gt;=80 then&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; select stu_grade,&amp;#39;B&amp;#39;;&amp;nbsp;&amp;nbsp;&lt;br/&gt;elseif stu_grade&amp;lt;80 and stu_grade&amp;gt;=70 then&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; select stu_grade,&amp;#39;C&amp;#39;;&amp;nbsp;&amp;nbsp;&lt;br/&gt;elseif stu_grade70 and stu_grade&amp;gt;=60 then&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; select stu_grade,&amp;#39;D&amp;#39;;&amp;nbsp;&amp;nbsp;&lt;br/&gt;else&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; select stu_grade,&amp;#39;E&amp;#39;;&amp;nbsp;&amp;nbsp;&lt;br/&gt;end if;&amp;nbsp;&amp;nbsp;&lt;br/&gt;END&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;注意：IF作为一条语句，在END IF后需要加上分号“;”以表示语句结束，其他语句如CASE、LOOP等也是相同的。&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px;&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h4 style=&quot;margin: 0px; padding: 0px; font-size: 14px; color: rgb(0, 102, 153);&quot;&gt;您可能感兴趣的文章:&lt;/h4&gt;&lt;ul style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/25659.htm&quot; title=&quot;MySQL中使用case when 语句实现多条件查询的方法&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;MySQL中使用case when 语句实现多条件查询的方法&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/28222.htm&quot; title=&quot;SQL集合函数中case when then 使用技巧&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;SQL集合函数中case when then 使用技巧&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/28680.htm&quot; title=&quot;MySQL 的CASE WHEN 语句使用说明&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;MySQL 的CASE WHEN 语句使用说明&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/32187.htm&quot; title=&quot;mysql中IFNULL,IF,CASE的区别介绍&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;mysql中IFNULL,IF,CASE的区别介绍&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/41240.htm&quot; title=&quot;sum(case when then)(判断男女生的个数)&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;sum(case when then)(判断男女生的个数)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/46205.htm&quot; title=&quot;MYSQL中有关SUM字段按条件统计使用IF函数(case)问题&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;MYSQL中有关SUM字段按条件统计使用IF函数(case)问题&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/50059.htm&quot; title=&quot;MySQL的CASE WHEN语句的几个使用实例&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;MySQL的CASE WHEN语句的几个使用实例&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/51544.htm&quot; title=&quot;sql学习之CASE WHEN THEN ELSE END的用法&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;sql学习之CASE WHEN THEN ELSE END的用法&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jb51.net/article/76997.htm&quot; title=&quot;详解Mysql case then使用&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 102, 0); text-decoration: none;&quot;&gt;详解Mysql case then使用&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489587089','1'),
('35','1','细致说明传值与传引用的区别','1','细致说明传值与传引用的区别','&lt;p&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;传值：是把实参的值赋值给行参 ，那么对行参的修改，不会影响实参的值&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;传引用 ：真正的以地址的方式传递参数传递以后，行参和实参都是同一个对象，只是他们名字不同而已对行参的修改将影响实参的值&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;说明：&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;传值：根copy是一样的。打个比方，我有一橦房子，我给你建筑材料，你建了一个根我的房子一模一样的房子，你在你的房子做什么事都不会影响到我，我在我的房子里做什么事也不会影响到你，彼此独立。&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;传引用：让我想起了上大学时学习C语言的指针了，感觉差不多。打个比方，我有一橦房子，我给你一把钥匙，我们二个都可以进入这个房子，你在房子做什么都会影响到我。&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;strong style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;一，php实例&amp;nbsp;&lt;br/&gt;&lt;/strong&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;1，传值&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;float: right; cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&amp;lt;?php&amp;nbsp;&lt;br/&gt;$param1=1; //定义变量1&amp;nbsp;&lt;br/&gt;$param2=2; //定义变量2&amp;nbsp;&lt;br/&gt;$param2 = $param1; //变量1赋值给变量2&amp;nbsp;&lt;br/&gt;echo $param2; //显示为1&amp;nbsp;&lt;br/&gt;?&amp;gt;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;2，传引用&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;float: right; cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&amp;lt;?php&amp;nbsp;&lt;br/&gt;$param2=1; //定义变量2&amp;nbsp;&lt;br/&gt;$param1 = &amp;amp;$param2; //将变量2的引用传给变量1&amp;nbsp;&lt;br/&gt;echo $param2; //显示为1&amp;nbsp;&lt;br/&gt;$param1 = 2; //把2赋值给变量1&amp;nbsp;&lt;br/&gt;echo $param2; //显示为2&amp;nbsp;&lt;br/&gt;?&amp;gt;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;3，函数传值&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;float: right; cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&amp;lt;?php&amp;nbsp;&lt;br/&gt;//传值&amp;nbsp;&lt;br/&gt;$param1 = 1; //定义变量1&amp;nbsp;&lt;br/&gt;function add($param2) //传参数&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;$param2=3; //把3赋值给变量2&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;$param3=add($param1); //调用方法add，并将变量1传给变量2&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param1==1&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param2==&amp;#39;.$param2.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param2== 因为$param2是局部变量，所以不能影响全局&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param3==&amp;#39;.$param3.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param3== 因为add方法没有返回值，所以$param3为空&amp;nbsp;&lt;br/&gt;?&amp;gt;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;4，函数传引用&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;float: right; cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&amp;lt;?php&amp;nbsp;&lt;br/&gt;//传值&amp;nbsp;&lt;br/&gt;$param1 = 1; //定义变量1&amp;nbsp;&lt;br/&gt;function add(&amp;amp;$param2) //传参数&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;$param2=3; //把3赋值给变量2&amp;nbsp;&lt;br/&gt;// return $param2; //返回变量2&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param1==1 没对变量1进行操作&amp;nbsp;&lt;br/&gt;$param3=add($param1); //调用方法add，并将变量1的引用传给变量2&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param1==3 调用变量过程中，$param2的改变影响变量1，虽然没有return&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param2==&amp;#39;.$param2.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param2== 因为$param2局部变量，所以不能影响全局&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param3==&amp;#39;.$param3.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param3== 如果把方法里面的return注释去掉的话就为$param3==3&amp;nbsp;&lt;br/&gt;?&amp;gt;&amp;nbsp;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;5，函数传引用2&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;color: rgb(17, 17, 17); font-family: 宋体, 微软雅黑, Verdana, Helvetica; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;float: right; cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&amp;lt;?php&amp;nbsp;&lt;br/&gt;//传引用&amp;nbsp;&lt;br/&gt;$param1 = 1;&amp;nbsp;&lt;br/&gt;function &amp;amp;add(&amp;amp;$param2)&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;$param2 = 2;&amp;nbsp;&lt;br/&gt;return $param2;&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;$param3=&amp;amp;add($param1);&amp;nbsp;&lt;br/&gt;$param4=add($param1);&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param3==&amp;#39;.$param3.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param3==2&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param4==&amp;#39;.$param4.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param4==2&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;; //显示为$param1==2 调用变量过程中，$param2的改变影响变量1&amp;nbsp;&lt;br/&gt;$param3++;&amp;nbsp;&lt;br/&gt;/*下面显示为$param1==3，这是因为$param2和$param1引用到同一个地方，&amp;nbsp;&lt;br/&gt;* 返回值前面加了地址符号还是一个引用$param3=&amp;amp;add($param1);&amp;nbsp;&lt;br/&gt;* 这样$param3,$param2和$param1引用到同一个地方，当$param3++;时，&amp;nbsp;&lt;br/&gt;* $param1会被改变*/&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;;&amp;nbsp;&lt;br/&gt;$param4++;&amp;nbsp;&lt;br/&gt;/* 下面显示为$param1==3,这里为什么是3而不是4呢，这是因为返回值前面没有&amp;nbsp;&lt;br/&gt;* 地址符号，它不是一个引用所以当$param4改变时不会影响$param1*/&amp;nbsp;&lt;br/&gt;echo &amp;#39;&amp;lt;br&amp;gt;$param1==&amp;#39;.$param1.&amp;#39;&amp;lt;br&amp;gt;&amp;#39;;&amp;nbsp;&lt;br/&gt;?&amp;gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1489685597','1'),
('36','1','MySQL安装-数据初始化操作时的问题处理','2','MySQL安装-数据初始化操作时的问题处理','&lt;p&gt;										&lt;/p&gt;&lt;p&gt;1、数据初始化-主机名解析错误&lt;/p&gt;&lt;p&gt;系统-Red Hat Enterprise&amp;nbsp;&lt;a href=&quot;http://lib.csdn.net/base/linux&quot; class=&quot;replace_word&quot; title=&quot;Linux知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;&quot;&gt;Linux&lt;/a&gt;&amp;nbsp;Server release 6.6&lt;/p&gt;&lt;p&gt;软件-源码安装&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;&quot;&gt;MySQL&lt;/a&gt;-5.6.27.tar.gz&lt;/p&gt;&lt;p&gt;环境-Linux rhel6.myexample.com 2.6.32-504.el6.x86_64 #1 SMP Tue Sep 16 01:56:35 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;&lt;p&gt;报错：WARNING&lt;/p&gt;&lt;p&gt;[root@rhel6 mysql]# scripts/mysql_install_db --user=mysql&lt;br/&gt;WARNING: The host &amp;#39;rhel6.myexample.com&amp;#39; could not be looked up with ./bin/resolveip.&lt;br/&gt;This probably means that your libc libraries are not 100 % compatible&lt;br/&gt;with this binary MySQL version. The MySQL daemon, mysqld, should work&lt;br/&gt;normally with the exception that host name resolving will not work.&lt;br/&gt;This means that you should use IP addresses instead of hostnames&lt;br/&gt;when specifying MySQL privileges !&lt;br/&gt;&lt;/p&gt;&lt;p&gt;原因：主机名解析错误。&lt;/p&gt;&lt;p&gt;解决：hosts文件中添加如下内容，ok！&lt;/p&gt;&lt;p&gt;[root@rhel6 mysql]# vi /etc/hosts&lt;/p&gt;&lt;p&gt;192.168.56.20 rhel6.myexample.com&lt;br/&gt;&lt;/p&gt;&lt;p&gt;总结：&lt;/p&gt;&lt;p&gt;因为lib库不是很兼容当前MySQL版本。在主机名解析不起作用的情况下，会引起MySQL守护进程、mysqld工作异常，因此在MySQL中授权时需要使用IP地址，而不能使用主机名。&lt;/p&gt;&lt;p&gt;（不解决该问题，依然可以正确执行scripts/mysql_install_db&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;&quot;&gt;数据库&lt;/a&gt;初始化脚本。）&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;2、数据初始化-时间戳问题&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;系统-Red Hat Enterprise Linux Server release 6.6&lt;/p&gt;&lt;p&gt;软件-源码安装mysql-5.6.27.tar.gz&lt;/p&gt;&lt;p&gt;环境-Linux rhel6.myexample.com 2.6.32-504.el6.x86_64 #1 SMP Tue Sep 16 01:56:35 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;&lt;p&gt;报错：Warning&lt;/p&gt;&lt;p&gt;[root@rhel6 mysql]# scripts/mysql_install_db --user=mysql&lt;br/&gt;Installing MySQL system tables...2015-11-04 07:46:37 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).&lt;br/&gt;2015-11-04 07:46:37 0 [Note] ./bin/mysqld (mysqld 5.6.27) starting as process 2867 ...&lt;br/&gt;&lt;/p&gt;&lt;p&gt;原因：机器的系统时间与TIMESTAMP时间戳不匹配。&lt;/p&gt;&lt;p&gt;解决：执行mysql_install_db数据初始化脚本时添加explicit_defaults_for_timestamp选项。&lt;/p&gt;&lt;p&gt;[root@rhel6 mysql]# scripts/mysql_install_db --user=mysql --explicit_defaults_for_timestamp&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;3、数据初始化-重复安装引起多个配置文件，默认配置文件&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;系统-Red Hat Enterprise Linux Server release 6.6&lt;/p&gt;&lt;p&gt;软件-源码安装mysql-5.6.27.tar.gz&lt;/p&gt;&lt;p&gt;环境-Linux rhel6.myexample.com 2.6.32-504.el6.x86_64 #1 SMP Tue Sep 16 01:56:35 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;&lt;p&gt;报错：Warning&lt;/p&gt;&lt;p&gt;WARNING: Found existing config file ./my.cnf on the system.&lt;br/&gt;Because this file might be in use, it was not replaced,&lt;br/&gt;but was used in bootstrap (unless you used --defaults-file)&lt;br/&gt;and when you later start the server.&lt;br/&gt;The new default config file was created as ./my-new.cnf,&lt;br/&gt;please compare it with your file and take the changes you need.&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;WARNING: Default config file /etc/my.cnf exists on the system&lt;br/&gt;This file will be read by default by the MySQL server&lt;br/&gt;If you do not want to use this, either remove it, or use the&lt;br/&gt;--defaults-file argument to mysqld_safe when starting the server&lt;br/&gt;&lt;/p&gt;&lt;p&gt;原因：&lt;/p&gt;&lt;p&gt;Warning1是因为重复安装，导致在安装目录下已经存在my.cnf文件。&lt;/p&gt;&lt;p&gt;Warning2是指默认的my.cnf配置文件在/etc/目录下。&lt;br/&gt;&lt;/p&gt;&lt;p&gt;启动Mysql server时，可指定--default-file=/path/my.cnf参数来启动mysql服务。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;=============================================================================================================================&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;正确执行的显示：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;[root@rhel6 mysql]# scripts/mysql_install_db --user=mysql --explicit_defaults_for_timestamp&lt;br/&gt;Installing MySQL system tables...2015-11-04 08:48:03 0 [Note] ./bin/mysqld (mysqld 5.6.27) starting as process 3147 ...&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Using atomics to ref count buffer pool pages&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: The InnoDB memory heap is disabled&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Memory barrier is not used&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Compressed tables use zlib 1.2.3&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Using CPU crc32 instructions&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Initializing buffer pool, size = 128.0M&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Completed initialization of buffer pool&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Highest supported file format is Barracuda.&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: 128 rollback segment(s) are active.&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: Waiting for purge to start&lt;br/&gt;2015-11-04 08:48:03 3147 [Note] InnoDB: 5.6.27 started; log sequence number 1626007&lt;br/&gt;2015-11-04 08:48:11 3147 [Note] Binlog end&lt;br/&gt;2015-11-04 08:48:11 3147 [Note] InnoDB: FTS optimize thread exiting.&lt;br/&gt;2015-11-04 08:48:11 3147 [Note] InnoDB: Starting shutdown...&lt;br/&gt;2015-11-04 08:48:12 3147 [Note] InnoDB: Shutdown completed; log sequence number 1626017&lt;br/&gt;OK&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Filling help tables...2015-11-04 08:48:12 0 [Note] ./bin/mysqld (mysqld 5.6.27) starting as process 3171 ...&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Using atomics to ref count buffer pool pages&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: The InnoDB memory heap is disabled&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Memory barrier is not used&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Compressed tables use zlib 1.2.3&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Using CPU crc32 instructions&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Initializing buffer pool, size = 128.0M&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Completed initialization of buffer pool&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Highest supported file format is Barracuda.&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: 128 rollback segment(s) are active.&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Waiting for purge to start&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: 5.6.27 started; log sequence number 1626017&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] Binlog end&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: FTS optimize thread exiting.&lt;br/&gt;2015-11-04 08:48:12 3171 [Note] InnoDB: Starting shutdown...&lt;br/&gt;2015-11-04 08:48:14 3171 [Note] InnoDB: Shutdown completed; log sequence number 1626027&lt;br/&gt;OK&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;To start mysqld at boot time you have to copy&lt;br/&gt;support-files/mysql.server to the right place for your system&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !&lt;br/&gt;To do so, start the server, then issue the following commands:&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&amp;nbsp; ./bin/mysqladmin -u root password &amp;#39;new-password&amp;#39;&lt;br/&gt;&amp;nbsp; ./bin/mysqladmin -u root -h rhel6.myexample.com password &amp;#39;new-password&amp;#39;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Alternatively you can run:&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&amp;nbsp; ./bin/mysql_secure_installation&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;which will also give you the option of removing the test&lt;br/&gt;databases and anonymous user created by default. &amp;nbsp;This is&lt;br/&gt;strongly recommended for production servers.&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;See the manual for more instructions.&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;You can start the MySQL daemon with:&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&amp;nbsp; cd . ; ./bin/mysqld_safe &amp;amp;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;You can test the MySQL daemon with mysql-test-run.pl&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&amp;nbsp; cd mysql-test ; perl mysql-test-run.pl&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Please report any problems at http://bugs.mysql.com/&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;The latest information about MySQL is available on the web at&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&amp;nbsp; http://www.mysql.com&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Support MySQL by buying support/licenses at http://shop.mysql.com&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;New default config file was created as ./my.cnf and&lt;br/&gt;will be used by default by the server when you start it.&lt;br/&gt;You may edit this file to change server settings&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;WARNING: Default config file /etc/my.cnf exists on the system&lt;br/&gt;This file will be read by default by the MySQL server&lt;br/&gt;If you do not want to use this, either remove it, or use the&lt;br/&gt;--defaults-file argument to mysqld_safe when starting the server&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;[root@rhel6 mysql]#&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(51, 51, 51); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;–initialize specified but the data directory has files in it. Aborting.&lt;/strong&gt;&amp;nbsp;&lt;br style=&quot;box-sizing: border-box;&quot;/&gt;2017-02-19T07:52:53.809095Z 0 [ERROR] Aborting&lt;/p&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(51, 51, 51); font-family: &amp;quot;microsoft yahei&amp;quot;; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;其中红色字体里面说明，&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration: none; box-sizing: border-box; font-weight: bold;&quot;&gt;MySQL&lt;/a&gt;中的data目录已经有数据了&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;root@DB-02 ~]# mysql -u root&lt;br/&gt;-bash: mysql: command not found&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;原因:这是由于系统默认会查找/usr/bin下的命令，如果这个命令不在这个目录下，当然会找不到命令，我们需要做的就是映射一个链接到/usr/bin目录下，相当于建立一个链接文件。&lt;br/&gt;首先得知道mysql命令或mysqladmin命令的完整路径，比如mysql的路径是：/usr/local/mysql/bin/mysql，我们则可以这样执行命令：&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;# ln -s /usr/local/mysql/bin/mysql /usr/bin&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; color: rgb(255, 0, 0);&quot;&gt;以下是补充：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;linux下，在mysql正常运行的情况下，输入mysql提示：&lt;br/&gt;mysql command not found&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;遇上-bash: mysql: command not found的情况别着急，这个是因为/usr/local/bin目录下缺失mysql导致，只需要一下方法建立软链接，即可以解决：&lt;br/&gt;把mysql安装目录，比如MYSQLPATH/bin/mysql，映射到/usr/local/bin目录下：&amp;nbsp;&lt;br/&gt;# cd /usr/local/bin&lt;br/&gt;# ln -fs /MYSQLPATH/bin/mysql mysql&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;还有其它常用命令mysqladmin、mysqldump等不可用时候都可按用此方法解决。&lt;br/&gt;注：其中MYSQLPATH是mysql的实际安装路径&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;h1 class=&quot;qitem_title&quot; id=&quot;q_title&quot; style=&quot;margin: 10px; padding: 0px; font-size: 16px; color: rgb(64, 64, 64); font-family: &amp;quot;HanHei SC&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, STHeitiSC-Light, Arial, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;a href=&quot;https://q.cnblogs.com/q/69964/&quot; style=&quot;color: rgb(64, 64, 64); text-decoration-line: none;&quot;&gt;编译错误“c++: internal compiler error: Killed (program cc1plus)”&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-right: auto; margin-left: auto; padding: 0px; overflow-x: auto; color: rgb(51, 51, 51); font-family: &amp;quot;HanHei SC&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, STHeitiSC-Light, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 204);&quot;&gt;1. 创建分区文件，大小 2G&lt;/p&gt;&lt;pre style=&quot;margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &amp;quot;Courier New&amp;quot;; font-size: 12px; overflow: auto;&quot;&gt;dd&amp;nbsp;if=/dev/zero&amp;nbsp;of=/swapfile&amp;nbsp;bs=1k&amp;nbsp;count=2048000&lt;/pre&gt;&lt;p style=&quot;margin-right: auto; margin-left: auto; padding: 0px; overflow-x: auto; color: rgb(51, 51, 51); font-family: &amp;quot;HanHei SC&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, STHeitiSC-Light, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 204);&quot;&gt;&lt;span style=&quot;line-height: 1.5;&quot;&gt;2. 生成 swap 文件系统&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &amp;quot;Courier New&amp;quot;; font-size: 12px; overflow: auto;&quot;&gt;mkswap&amp;nbsp;/swapfile&lt;/pre&gt;&lt;p style=&quot;margin-right: auto; margin-left: auto; padding: 0px; overflow-x: auto; color: rgb(51, 51, 51); font-family: &amp;quot;HanHei SC&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, STHeitiSC-Light, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 204);&quot;&gt;&lt;span style=&quot;line-height: 1.5; background-color: initial;&quot;&gt;3. 激活 swap 文件&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &amp;quot;Courier New&amp;quot;; font-size: 12px; overflow: auto;&quot;&gt;swapon&amp;nbsp;/swapfile&lt;/pre&gt;&lt;p style=&quot;margin-right: auto; margin-left: auto; padding: 0px; overflow-x: auto; color: rgb(51, 51, 51); font-family: &amp;quot;HanHei SC&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, STHeitiSC-Light, Arial, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 204);&quot;&gt;4.&amp;nbsp;修改 /etc/fstab 文件，新增如下内容：&lt;/p&gt;&lt;pre style=&quot;margin-top: 10px; margin-bottom: 10px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &amp;quot;Courier New&amp;quot;; font-size: 12px; overflow: auto;&quot;&gt;/swapfile&amp;nbsp;swap&amp;nbsp;swap&amp;nbsp;defaults&amp;nbsp;0&amp;nbsp;0&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491017068','1'),
('37','1','Linux 编译安装Boost','1','Linux 编译安装Boost','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;linux平台下要编译安装除gcc和gcc-c++之外，还需要两个开发库：bzip2-devel 和python-devel，因此在安装前应该先保证这两个库已经安装：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#yum&amp;nbsp;install&amp;nbsp;gcc&amp;nbsp;gcc-c++&amp;nbsp;bzip2&amp;nbsp;bzip2-devel&amp;nbsp;bzip2-libs&amp;nbsp;Python-devel&amp;nbsp;-y&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;然后是去官网下载源码包，&lt;/span&gt;&lt;a target=&quot;_blank&quot; rel=&quot;nofollow&quot; href=&quot;http://www.boost.org/users/download/&quot; style=&quot;color: rgb(51, 102, 153); text-decoration-line: none; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;地址&lt;/a&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;下载，解压，按照如下步骤：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#tar&amp;nbsp;xvzf&amp;nbsp;boost_1_50_0.tar.gz&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;进入boost_1_50_0目录：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#cd&amp;nbsp;boost_1_50_0&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后是编译安装，boost源码包中有配置脚本，直接用就可以：&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#sh&amp;nbsp;./bootstrap.shBuilding&amp;nbsp;Boost.Build&amp;nbsp;engine&amp;nbsp;with&amp;nbsp;toolset&amp;nbsp;gcc...&amp;nbsp;tools/build/v2/engine/bin.linuxx86_64/b2Detecting&amp;nbsp;Python&amp;nbsp;version...&amp;nbsp;2.6Detecting&amp;nbsp;Python&amp;nbsp;root...&amp;nbsp;/usrUnicode/ICU&amp;nbsp;support&amp;nbsp;for&amp;nbsp;Boost.Regex?...&amp;nbsp;not&amp;nbsp;found.Generating&amp;nbsp;Boost.Build&amp;nbsp;configuration&amp;nbsp;in&amp;nbsp;project-config.jam...Bootstrapping&amp;nbsp;is&amp;nbsp;done.&amp;nbsp;To&amp;nbsp;build,&amp;nbsp;run:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;./b2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;To&amp;nbsp;adjust&amp;nbsp;configuration,&amp;nbsp;edit&amp;nbsp;&amp;#39;project-config.jam&amp;#39;.Further&amp;nbsp;information:&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Command&amp;nbsp;line&amp;nbsp;help:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;./b2&amp;nbsp;--help&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Getting&amp;nbsp;started&amp;nbsp;guide:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;http://www.boost.org/more/getting_started/unix-variants.html&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Boost.Build&amp;nbsp;documentation:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;http://www.boost.org/boost-build2/doc/html/index.html&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;接下来就是编译，重点关注是否编译成功：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#./b2&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;然后就是漫长的等待，如果最后出现：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;Boost&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; C&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;Libraries&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; were successfully built&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;!&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; following directory should be added to compiler include paths&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;str&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;/home/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;gang&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;BAK&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;boost_1_50_0&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; following directory should be added to linker library paths&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;str&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;/home/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;gang&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;BAK&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;boost_1_50_0&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;lib&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;最后，sudo ./b2 install --prefix=/usr/local&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 宋体;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、&amp;nbsp; boost中大部分库是不用编译成动态或者静态链接库。&lt;/p&gt;&lt;p&gt;2、&amp;nbsp; 只有regex,thread等几个库比较麻烦一点.要编译。&lt;/p&gt;&lt;p&gt;3、&amp;nbsp; 如果用gcc编译器-l指定动态链接库的路径,还要指定头文件的路径。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: black;&quot;&gt;4、&amp;nbsp; &lt;/span&gt;或者链接的boost库放到.c或.cpp之后，否则链接不能通过，编译可以通过。&lt;/p&gt;&lt;p&gt;如下所示：g++ -lz -lpthread &lt;strong&gt;hh.c -lboost_filesystem -lboost_thread&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;http://blog.163.com/yungang_z/blog/static/175153133201262445539767/&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491017821','1'),
('38','1','Linux 编译安装Boost','1','Linux 编译安装Boost','&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;linux平台下要编译安装除gcc和gcc-c++之外，还需要两个开发库：bzip2-devel 和python-devel，因此在安装前应该先保证这两个库已经安装：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#yum&amp;nbsp;install&amp;nbsp;gcc&amp;nbsp;gcc-c++&amp;nbsp;bzip2&amp;nbsp;bzip2-devel&amp;nbsp;bzip2-libs&amp;nbsp;Python-devel&amp;nbsp;-y&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;然后是去官网下载源码包，&lt;/span&gt;&lt;a target=&quot;_blank&quot; rel=&quot;nofollow&quot; href=&quot;http://www.boost.org/users/download/&quot; style=&quot;color: rgb(51, 102, 153); text-decoration-line: none; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;地址&lt;/a&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;下载，解压，按照如下步骤：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#tar&amp;nbsp;xvzf&amp;nbsp;boost_1_50_0.tar.gz&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;进入boost_1_50_0目录：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#cd&amp;nbsp;boost_1_50_0&lt;/pre&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;然后是编译安装，boost源码包中有配置脚本，直接用就可以：&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#sh&amp;nbsp;./bootstrap.shBuilding&amp;nbsp;Boost.Build&amp;nbsp;engine&amp;nbsp;with&amp;nbsp;toolset&amp;nbsp;gcc...&amp;nbsp;tools/build/v2/engine/bin.linuxx86_64/b2Detecting&amp;nbsp;Python&amp;nbsp;version...&amp;nbsp;2.6Detecting&amp;nbsp;Python&amp;nbsp;root...&amp;nbsp;/usrUnicode/ICU&amp;nbsp;support&amp;nbsp;for&amp;nbsp;Boost.Regex?...&amp;nbsp;not&amp;nbsp;found.Generating&amp;nbsp;Boost.Build&amp;nbsp;configuration&amp;nbsp;in&amp;nbsp;project-config.jam...Bootstrapping&amp;nbsp;is&amp;nbsp;done.&amp;nbsp;To&amp;nbsp;build,&amp;nbsp;run:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;./b2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;To&amp;nbsp;adjust&amp;nbsp;configuration,&amp;nbsp;edit&amp;nbsp;&amp;#39;project-config.jam&amp;#39;.Further&amp;nbsp;information:&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Command&amp;nbsp;line&amp;nbsp;help:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;./b2&amp;nbsp;--help&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Getting&amp;nbsp;started&amp;nbsp;guide:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;http://www.boost.org/more/getting_started/unix-variants.html&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-&amp;nbsp;Boost.Build&amp;nbsp;documentation:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;http://www.boost.org/boost-build2/doc/html/index.html&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;接下来就是编译，重点关注是否编译成功：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;#./b2&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;然后就是漫长的等待，如果最后出现：&lt;/span&gt;&lt;br style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;pre class=&quot;prettyprint&quot; name=&quot;code&quot; style=&quot;white-space: pre-wrap; word-wrap: break-word; position: relative; overflow-y: hidden; overflow-x: auto; padding: 2px; border: 0px solid rgb(136, 136, 136); color: rgb(51, 51, 51); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;Boost&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; C&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;Libraries&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; were successfully built&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;!&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; following directory should be added to compiler include paths&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;str&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;/home/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;gang&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;BAK&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;boost_1_50_0&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;typ&quot; style=&quot;color: rgb(102, 0, 102);&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; following directory should be added to linker library paths&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span class=&quot;str&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;/home/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;gang&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;BAK&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;boost_1_50_0&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;stage&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(102, 102, 0);&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;lib&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;最后，sudo ./b2 install --prefix=/usr/local&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: 宋体;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、&amp;nbsp; boost中大部分库是不用编译成动态或者静态链接库。&lt;/p&gt;&lt;p&gt;2、&amp;nbsp; 只有regex,thread等几个库比较麻烦一点.要编译。&lt;/p&gt;&lt;p&gt;3、&amp;nbsp; 如果用gcc编译器-l指定动态链接库的路径,还要指定头文件的路径。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: black;&quot;&gt;4、&amp;nbsp; &lt;/span&gt;或者链接的boost库放到.c或.cpp之后，否则链接不能通过，编译可以通过。&lt;/p&gt;&lt;p&gt;如下所示：g++ -lz -lpthread &lt;strong&gt;hh.c -lboost_filesystem -lboost_thread&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;http://blog.163.com/yungang_z/blog/static/175153133201262445539767/&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491017823','1'),
('39','1',' mysql存储过程详解以及PHP调用MYSQL存储过程实例','1',' mysql存储过程详解以及PHP调用MYSQL存储过程实例','&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; background-color: rgb(232, 220, 200);&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration-line: none;&quot;&gt;MySQL&lt;/a&gt;存储过程详解&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;1.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程简介&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;我们常用的操作&lt;a href=&quot;http://lib.csdn.net/base/mysql&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; target=&quot;_blank&quot; style=&quot;color: rgb(223, 52, 52); text-decoration-line: none; font-weight: bold;&quot;&gt;数据库&lt;/a&gt;语言&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句在执行的时候需要要先编译，然后执行，而存储过程（&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;Stored Procedure&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;）是一组为了完成特定功能的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句集，经编译后存储在数据库中，用户通过指定存储过程的名字并给定参数（如果该存储过程带有参数）来调用执行它。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;一个存储过程是一个可编程的函数，它在数据库中创建并保存。它可以有&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;SQL&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;语句和一些特殊的控制结构组成。当希望在不同的应用程序或平台上执行相同的函数，或者封装特定功能时，存储过程是非常有用的。数据库中的存储过程可以看做是对编程中面向对象方法的模拟。它允许控制数据的访问方式。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;存储过程通常有以下优点：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(1).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程增强了&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语言的功能和灵活性。存储过程可以用流控制语句编写，有很强的灵活性，可以完成复杂的判断和较复杂的运算。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(2).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程允许标准组件是编程。存储过程被创建后，可以在程序中被多次调用，而不必重新编写该存储过程的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句。而且数据库专业人员可以随时对存储过程进行修改，对应用程序源代码毫无影响。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(3).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程能实现较快的执行速度。如果某一操作包含大量的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;Transaction-SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;代码或分别被多次执行，那么存储过程要比批处理的执行速度快很多。因为存储过程是预编译的。在首次运行一个存储过程时查询，优化器对其进行分析优化，并且给出最终被存储在系统表中的执行计划。而批处理的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;Transaction-SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句在每次运行时都要进行编译和优化，速度相对要慢一些。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(4).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程能过减少网络流量。针对同一个数据库对象的操作（如查询、修改），如果这一操作所涉及的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;Transaction-SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句被组织程存储过程，那么当在客户计算机上调用该存储过程时，网络中传送的只是该调用语句，从而大大增加了网络流量并降低了网络负载。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(5).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程可被作为一种安全机制来充分利用。系统管理员通过执行某一存储过程的权限进行限制，能够实现对相应的数据的访问权限的限制，避免了非授权用户对数据的访问，保证了数据的安全。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;2.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;关于&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;的存储过程&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;存储过程是数据库存储的一个重要的功能，但是&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;MySQL&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;在&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;5.0&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;以前并不支持存储过程，这使得&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;MySQL&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;在应用上大打折扣。好在&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;MySQL 5.0&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;终于开始已经支持存储过程，这样即可以大大提高数据库的处理速度，同时也可以提高数据库编程的灵活性。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;3.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的创建&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(1).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;格式&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程创建的格式：&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;CREATE PROCEDURE&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;过程名&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;([&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;过程参数&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;[,...]])&lt;br/&gt;[&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;特性&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;...]&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;过程体&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;这里先举个例子：&lt;br/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc1(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;OUT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;s&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;COUNT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(*)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;INTO&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;s&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;FROM&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;user&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre style=&quot;white-space: normal; word-wrap: break-word; font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(70, 70, 70); line-height: 21px;&quot;&gt;&amp;nbsp;&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;注：&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;（&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;）这里需要注意的是&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;DELIMITER //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;和&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;DELIMITER ;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;两句，&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;DELIMITER&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;是分割符的意思，因为&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;默认以&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;quot;;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;为分隔符，如果我们没有声明分割符，那么编译器会把存储过程当成&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句进行处理，则存储过程的编译过程会报错，所以要事先用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;DELIMITER&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;关键字申明当前段分隔符，这样&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;才会将&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;quot;;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;当做存储过程中的代码，不会执行这些代码，用完了之后要把分隔符还原。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;（&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;）存储过程根据需要可能会有输入、输出、输入输出参数，这里有一个输出参数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;，类型是&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;型，如果有多个参数用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;分割开。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;（&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;）过程体的开始与结束使用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;与&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;进行标识。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;这样，我们的一个&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程就完成了，是不是很容易呢&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;?&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;看不懂也没关系，接下来，我们详细的讲解。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(2).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;声明分割符&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;其实，关于声明分割符，上面的注解已经写得很清楚，不需要多说，只是稍微要注意一点的是：如果是用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;Administrator&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;管理工具时，可以直接创建，不再需要声明。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(3).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程的参数用在存储过程的定义，共有三种参数类型&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,IN,OUT,INOUT,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;形式如：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;CREATE PROCEDURE([[IN |OUT |INOUT ]&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数名&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;数据类形&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;...])&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;IN&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;输入参数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;表示该参数的值必须在调用存储过程时指定，在存储过程中修改该参数的值不能被返回，为默认值&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;OUT&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;输出参数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;该值可在存储过程内部被改变，并可返回&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;INOUT&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;输入输出参数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;调用时指定，并且可被改变和返回&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;. IN&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数例子&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;创建&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;demo_in_parameter(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;IN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_in&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_in;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_in=2;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_in;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;br/&gt;执行结果&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;:&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@p_in=1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;demo_in_parameter(@p_in); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_in&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;1&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_in&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@p_in; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;@p_in&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;1&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;br/&gt;以上可以看出，&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;p_in&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;虽然在存储过程中被修改，但并不影响&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;@p_id&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;的值&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅱ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.OUT&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数例子&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;创建&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;demo_out_parameter(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;OUT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_out&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_out; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_out=2; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_out; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;执行结果&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@p_out=1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;sp_demo_out_parameter(@p_out); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_out&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;NULL&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_out&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@p_out; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_out&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅲ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;. INOUT&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数例子&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;创建&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;demo_inout_parameter(INOUT&amp;nbsp;&lt;wbr/&gt;p_inout&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_inout; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_inout=2; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p_inout;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;//&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 26.25pt;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;执行结果&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;:&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;SET&amp;nbsp;&lt;wbr/&gt;@&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;p_inout&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;demo_inout_parameter(@p_inout)&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_inout&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;1&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;p_inout&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+---------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;SELECT&amp;nbsp;&lt;wbr/&gt;@p_inout; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+----------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;@p_inout&amp;nbsp;&lt;wbr/&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+----------+ &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+----------+&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;/&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(4).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;变量&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;变量定义&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;DECLARE variable_name [,variable_name...] datatype [DEFAULT value];&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;其中，&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;datatype&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;为&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;的数据类型，如&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:int, float, date, varchar(length)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;例如&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;l_int&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;unsigned&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;4000000; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;l_numeric&amp;nbsp;&lt;wbr/&gt;number(8,2)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;9.95; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;l_date&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;1999-12-31&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;l_datetime&amp;nbsp;&lt;wbr/&gt;datetime&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;1999-12-31&amp;nbsp;&lt;wbr/&gt;23:59:59&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;l_varchar&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(255)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;This&amp;nbsp;&lt;wbr/&gt;will&amp;nbsp;&lt;wbr/&gt;not&amp;nbsp;&lt;wbr/&gt;be&amp;nbsp;&lt;wbr/&gt;padded&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅱ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;变量赋值&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;变量名&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;表达式值&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;[,variable_name = expr&lt;wbr/&gt;ession ...]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅲ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;用户变量&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;客户端使用用户变量&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;Hello&amp;nbsp;&lt;wbr/&gt;World&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@x; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@x; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;@x&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.chengxusheji.com/&quot; style=&quot;color: rgb(144, 80, 50); text-decoration-line: none;&quot;&gt;Hello&amp;nbsp;&lt;wbr/&gt;World&lt;/a&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@y=&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;Goodbye&amp;nbsp;&lt;wbr/&gt;Cruel&amp;nbsp;&lt;wbr/&gt;World&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@y; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;---------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;@y&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;---------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;Goodbye&amp;nbsp;&lt;wbr/&gt;Cruel&amp;nbsp;&lt;wbr/&gt;World&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;---------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@z=1+2+3; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@z; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;@z&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;6&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;ⅱ.&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;在存储过程中使用用户变量&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;GreetWorld(&amp;nbsp;&lt;wbr/&gt;)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;CONCAT(@greeting,&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;&amp;nbsp;&lt;wbr/&gt;World&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@greeting=&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;Hello&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;GreetWorld(&amp;nbsp;&lt;wbr/&gt;); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;CONCAT(@greeting,&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;&amp;nbsp;&lt;wbr/&gt;World&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;Hello&amp;nbsp;&lt;wbr/&gt;World&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;ⅲ&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;在存储过程间传递全局范围的用户变量&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p1()&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;@last_procedure=&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;p1&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;p2()&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SELECT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;CONCAT(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;Last&amp;nbsp;&lt;wbr/&gt;procedure&amp;nbsp;&lt;wbr/&gt;was&amp;nbsp;&lt;wbr/&gt;&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,@last_proc); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;p1(&amp;nbsp;&lt;wbr/&gt;); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;CALL&amp;nbsp;&lt;wbr/&gt;p2(&amp;nbsp;&lt;wbr/&gt;); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;CONCAT(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;Last&amp;nbsp;&lt;wbr/&gt;procedure&amp;nbsp;&lt;wbr/&gt;was&amp;nbsp;&lt;wbr/&gt;&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,@last_proc&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;Last&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;procedure&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;was&amp;nbsp;&lt;wbr/&gt;p1&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------------------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;注意&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(70, 70, 70); font-family: simsun; line-height: 21px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;①&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;用户变量名一般以&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;@&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;开头&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;②&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;滥用用户变量会导致程序难以理解及管理&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(5).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;注释&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程可使用两种风格的注释&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;双模杠：&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;--&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;该风格一般用于单行注释&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;c&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;风格：&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;一般用于多行注释&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;例如：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;--name存储过程名&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;IN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;parameter1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;INTEGER&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;)&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;BEGIN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;DECLARE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;variable1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CHAR&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(10);&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;IF&amp;nbsp;&lt;wbr/&gt;parameter1&amp;nbsp;&lt;wbr/&gt;=&amp;nbsp;&lt;wbr/&gt;17&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;THEN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;variable1&amp;nbsp;&lt;wbr/&gt;=&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;birds&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;ELSE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;SET&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;variable1&amp;nbsp;&lt;wbr/&gt;=&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;beasts&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;IF;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;INSERT&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;INTO&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;table1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;VALUES&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(variable1); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;END&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;4.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的调用&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;用&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: &amp;quot;Times new roman&amp;quot;; font-size: 10.5pt;&quot;&gt;call&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; word-wrap: normal; word-break: normal;&quot;&gt;和你过程名以及一个括号，括号里面根据需要，加入参数，参数包括输入参数、输出参数、输入输出参数。具体的调用方法可以参看上面的例子。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;5.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的查询&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;我们像知道一个数据库下面有那些表，我们一般采用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;show tables;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;进行查看。那么我们要查看某个数据库下面的存储过程，是否也可以采用呢？答案是，我们可以查看某个数据库下面的存储过程，但是是令一钟方式。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;我们可以用&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;select name from mysql.proc where db=’&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;数据库名&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;’;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;或者&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;select routine_name from information_schema.routines where routine_schema=&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;数据库名&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;或者&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;show procedure status where db=&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.redisfans.com/&quot; style=&quot;color: rgb(144, 80, 50); text-decoration-line: none;&quot;&gt;数据库&lt;/a&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;名&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;进行查询。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;如果我们想知道，某个存储过程的详细，那我们又该怎么做呢？是不是也可以像操作表一样用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;describe&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;表名进行查看呢？&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;答案是：我们可以查看存储过程的详细，但是需要用另一种方法：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SHOW CREATE PROCEDURE&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;数据库&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;存储过程名&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;就可以查看当前存储过程的详细。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;6.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的修改&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;ALTER PROCEDURE&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;更改用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;CREATE PROCEDURE&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;建立的预先指定的存储过程，其不会影响相关存储过程或存储功能。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;7.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的删除&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;删除一个存储过程比较简单，和删除表一样：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;DROP PROCEDURE&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;从&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;的表格中删除一个或多个存储过程。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;8.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的控制语句&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(1).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;变量作用域&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 18pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;内部的变量在其作用域范围内享有更高的优先权，当执行到&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;。变量时，内部变量消失，此时已经在其作用域外，变量不再可见了，应为在存储&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;过程外再也不能找到这个申明的变量，但是你可以通过&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;out&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;参数或者将其值指派&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;给会话变量来保存其值。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc3() &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;x1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(5)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;outer&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;x1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;varchar&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(5)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;inner&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;x1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;x1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;(2).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;条件语句&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. if-then -else&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc2(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;IN&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;parameter&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var=parameter+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;if&amp;nbsp;&lt;wbr/&gt;var=0&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(17); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;if; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;if&amp;nbsp;&lt;wbr/&gt;parameter=0&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;update&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;s1=s1+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;update&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;s1=s1+2; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;if; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅱ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. case&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc3&amp;nbsp;&lt;wbr/&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;parameter&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var=parameter+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;case&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;when&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;0&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(17); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;when&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;1&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(18); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(19); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;case&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(3).&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;循环语句&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. while ···· end while&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc4() &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var=0; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;while&amp;nbsp;&lt;wbr/&gt;var&amp;lt;6&amp;nbsp;&lt;wbr/&gt;do &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(var); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;var=var+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;while; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅱ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. repeat···· end repeat&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 26.25pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;它在执行操作后检查结果，而&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;while&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;则是执行前进行检查。&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc5&amp;nbsp;&lt;wbr/&gt;() &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=0; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;repeat &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(v); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=v+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;until&amp;nbsp;&lt;wbr/&gt;v&amp;gt;=5 &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;repeat; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅲ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. loop ·····end loop:&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 26.25pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;loop&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;循环不需要初始条件，这点和&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;while&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;循环相似，同时和&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;repeat&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;循环一样不需要结束条件&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;, leave&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句的意义是离开循环。&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc6&amp;nbsp;&lt;wbr/&gt;() &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=0; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;LOOP_LABLE:loop &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(v); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=v+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;if&amp;nbsp;&lt;wbr/&gt;v&amp;nbsp;&lt;wbr/&gt;&amp;gt;=5&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;leave&amp;nbsp;&lt;wbr/&gt;LOOP_LABLE; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;if; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;loop; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅳ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. LABLES&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;标号：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;标号可以用在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;begin repeat while&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;或者&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;loop&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;语句前，语句标号只能在合法的语句前面使用。可以跳出循环，使运行指令达到复合语句的最后一步。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 21pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(4). ITERATE&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;迭代&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;Ⅰ&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;. ITERATE:&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: 26.25pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;通过引用复合语句的标号&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;来从新开始复合语句&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;PROCEDURE&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;proc10&amp;nbsp;&lt;wbr/&gt;() &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;begin&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;declare&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=0; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;LOOP_LABLE:loop &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;if&amp;nbsp;&lt;wbr/&gt;v=3&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=v+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;ITERATE&amp;nbsp;&lt;wbr/&gt;LOOP_LABLE; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;if; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;insert&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;into&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;t&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(v); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;v=v+1; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;if&amp;nbsp;&lt;wbr/&gt;v&amp;gt;=5&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;leave&amp;nbsp;&lt;wbr/&gt;LOOP_LABLE; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;if; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;loop; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;end&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;; &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;-&amp;gt;&amp;nbsp;&lt;wbr/&gt;// &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;nbsp;&lt;wbr/&gt;&amp;gt;&amp;nbsp;&lt;wbr/&gt;DELIMITER&amp;nbsp;&lt;wbr/&gt;;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: Arial;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt 18pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; text-indent: -18pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;9.&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: normal; font-weight: normal; font-size: 7pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;MySQL&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-family: 宋体; font-size: 12pt;&quot;&gt;存储过程的基本函数&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0cm 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; font-size: 12pt;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(1).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;字符串类&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;CHARSET(str) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;返回字串字符集&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;CONCAT (string2 [,... ]) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;连接字串&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;INSTR (string ,substring ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;返回&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;substring&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;首次在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;中出现的位置&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;不存在返回&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;0&lt;br/&gt;LCASE (string2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;转换成小写&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;LEFT (string2 ,length ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;从&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;string2&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;中的左边起取&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;length&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;个字符&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;LENGTH (string ) //string&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;长度&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;LOAD_FILE (file_name ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;从文件读取内容&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;LOCATE (substring , string [,start_position ] )&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;同&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;INSTR,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;但可指定开始位置&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;LPAD (string2 ,length ,pad ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;重复用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;pad&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;加在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;开头&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;直到字串长度为&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;length&lt;br/&gt;LTRIM (string2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;去除前端空格&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;REPEAT (string2 ,count ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;重复&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;count&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;次&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;REPLACE (str ,search_str ,replace_str ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;str&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;中用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;replace_str&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;替换&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;search_str&lt;br/&gt;RPAD (string2 ,length ,pad) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;str&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;后用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;pad&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;补充&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;直到长度为&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;length&lt;br/&gt;RTRIM (string2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;去除后端空格&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;STRCMP (string1 ,string2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;逐字符比较两字串大小&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;br/&gt;SUBSTRING (str , position [,length ]) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;从&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;str&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;position&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;开始&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;取&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;length&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;个字符&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;注：&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;mysql&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;中处理字符串时，默认第一个字符下标为&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;，即参数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;position&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;必须大于等于&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;substring&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;abcd&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,0,2); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;substring&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;abcd&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,0,2)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&amp;nbsp;&lt;wbr/&gt;row&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(0.00&amp;nbsp;&lt;wbr/&gt;sec) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;substring&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;abcd&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,1,2); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;substring&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;#39;abcd&amp;#39;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;,1,2)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;ab&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-----------------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&amp;nbsp;&lt;wbr/&gt;row&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(0.02&amp;nbsp;&lt;wbr/&gt;sec) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;TRIM([[BOTH|LEADING|TRAILING] [padding] FROM]string2) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;去除指定位置的指定字符&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;UCASE (string2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;转换成大写&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;RIGHT(string2,length) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;取&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;string2&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;最后&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;length&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;个字符&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;SPACE(count) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;生成&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;count&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;个空格&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(2).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;数学类&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;ABS (number2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;绝对值&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;BIN (decimal_number ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;十进制转二进制&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;CEILING (number2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;向上取整&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;CONV(number2,from_base,to_base) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;进制转换&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;FLOOR (number2 ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;向下取整&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;FORMAT (number,decimal_places ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;保留小数位数&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;HEX (DecimalNumber ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;转十六进制&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;注：&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;HEX()&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;中可传入字符串，则返回其&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;ASC&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;-11&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;码&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;，如&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;HEX(&amp;#39;DEF&amp;#39;)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;返回&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;4142143&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;也可以传入十进制整数，返回其十六进制编码，如&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;HEX(25)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;返回&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;19&lt;br/&gt;LEAST (number , number2 [,..]) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;求最小值&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;MOD (numerator ,denominator ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;求余&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;POWER (number ,power ) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;求指数&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;RAND([seed]) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;随机数&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;ROUND (number [,decimals ]) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;四舍五入&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,decimals&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;为小数位数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;注：返回类型并非均为整数，如：&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;(1)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;默认变为整形值&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;round(1.23); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;round(1.23)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;1&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&amp;nbsp;&lt;wbr/&gt;row&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(0.00&amp;nbsp;&lt;wbr/&gt;sec) &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;round(1.56); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;round(1.56)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;2&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;-------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&amp;nbsp;&lt;wbr/&gt;row&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(0.00&amp;nbsp;&lt;wbr/&gt;sec)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;br/&gt;&lt;br/&gt;(2)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;可以设定小数位数，返回浮点型数据&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol style=&quot;list-style-type: none;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;mysql&amp;gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;select&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;round(1.567,2); &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;round(1.567,2)&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;|&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;&amp;nbsp;&lt;wbr/&gt;1.57&amp;nbsp;&lt;wbr/&gt;| &amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;----------------+&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;1&amp;nbsp;&lt;wbr/&gt;row&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;set&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;(0.00&amp;nbsp;&lt;wbr/&gt;sec)&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-align:left;margin: 10.5pt 0cm 0pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;SIGN (number2 ) //&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal; line-height: 24px;&quot;&gt;&amp;nbsp;&lt;wbr/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;margin: 0cm 0cm 3.75pt; padding: 0px; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 18pt; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;(3).&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;日期时间类&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;ADDTIME (date2 ,time_interval ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;将&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;time_interval&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;加到&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;date2&lt;br/&gt;CONVERT_TZ (datetime2 ,fromTZ ,toTZ ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;转换时区&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;CURRENT_DATE ( ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;当前日期&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;CURRENT_TIME ( ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;当前时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;CURRENT_TIMESTAMP ( ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;当前时间戳&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DATE (datetime ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;返回&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;datetime&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;的日期部分&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DATE_ADD (date2 , INTERVAL d_value d_type ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;date2&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;中加上日期或时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DATE_FORMAT (datetime ,FormatCodes ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;使用&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;formatcodes&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;格式显示&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;datetime&lt;br/&gt;DATE_SUB (date2 , INTERVAL d_value d_type ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;date2&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;上减去一个时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DATEDIFF (date1 ,date2 ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;两个日期差&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DAY (date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;返回日期的天&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DAYNAME (date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;英文星期&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DAYOFWEEK (date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;星期&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;(1-7) ,1&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;为星期天&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DAYOFYEAR (date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;一年中的第几天&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;EXTRACT (interval_name FROM date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;从&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;中提取日期的指定部分&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MAKEDATE (year ,day ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;给出年及年中的第几天&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;生成日期串&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MAKETIME (hour ,minute ,second ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;生成时间串&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MONTHNAME (date ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;英文月份名&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;NOW ( ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;当前时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;SEC_TO_TIME (seconds ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;秒数转成时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;STR_TO_DATE (string ,format ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;字串转成时间&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;以&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;format&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;格式显示&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;TIMEDIFF (datetime1 ,datetime2 ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;两个时间差&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;TIME_TO_SEC (time ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;时间转秒数&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;]&lt;br/&gt;WEEK (date_time [,start_of_week ]) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;第几周&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;YEAR (datetime ) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;年份&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;DAYOFMONTH(datetime) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;月的第几天&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;HOUR(datetime) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;小时&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;LAST_DAY(date) //date&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;的月的最后日期&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MICROSECOND(datetime) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;微秒&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MONTH(datetime) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;月&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: &amp;quot;Times new roman&amp;quot;;&quot;&gt;&lt;br/&gt;MINUTE(datetime) //&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-size: 10.5pt; font-family: 宋体;&quot;&gt;分&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: 宋体;&quot;&gt;返回符号&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: 宋体;&quot;&gt;正负或&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;0&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; line-height: 24px; color: rgb(70, 70, 70); font-family: simsun;&quot;&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Times New Roman&amp;quot;; word-wrap: normal; word-break: normal;&quot;&gt;SQRT(number2) //&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;word-wrap: normal; word-break: normal; font-family: 宋体;&quot;&gt;开平方&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;转自&amp;nbsp;http://blog.sina.com.cn/s/blog_52d20fbf0100ofd5.html&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/ewing333/article/details/5906887&quot; style=&quot;color: rgb(0, 0, 0); text-decoration-line: none; font-family: &amp;quot;Microsoft YaHei&amp;quot;; font-size: 20px; line-height: 30px;&quot;&gt;PHP调用MYSQL存储过程实例&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;color: rgb(102, 0, 0); font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例一：无参的存储过程&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;$conn = mysql_connect(&amp;#39;localhost&amp;#39;,&amp;#39;root&amp;#39;,&amp;#39;root&amp;#39;) or die (&amp;quot;数据连接错误!!!&amp;quot;);&lt;br/&gt;mysql_select_db(&amp;#39;test&amp;#39;,$conn);&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce()&lt;br/&gt;begin&lt;br/&gt;INSERT INTO user (id, username, sex) VALUES (NULL, &amp;#39;s&amp;#39;, &amp;#39;0&amp;#39;);&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce的存储过程&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;$sql = &amp;quot;call test.myproce();&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce的存储过程，则&lt;a target=&quot;_blank&quot; href=&quot;http://lib.csdn.net/base/14&quot; class=&quot;replace_word&quot; title=&quot;MySQL知识库&quot; style=&quot;color: rgb(223, 52, 52); text-decoration-line: none; font-weight: bold;&quot;&gt;数据库&lt;/a&gt;中将增加一条新记录。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例二：传入参数的存储过程&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce2(in score int)&lt;br/&gt;begin&lt;br/&gt;if score &amp;gt;= 60 then&lt;br/&gt;select &amp;#39;pass&amp;#39;;&lt;br/&gt;else&lt;br/&gt;select &amp;#39;no&amp;#39;;&lt;br/&gt;end if;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce2的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce2(70);&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce2的存储过程,看不到效果，可以在cmd下看到结果。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例三：传出参数的存储过程&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce3(out score int)&lt;br/&gt;begin&lt;br/&gt;set score=100;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce3的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce3(@score);&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce3的存储过程&lt;br/&gt;$result = mysql_query(&amp;#39;select @score;&amp;#39;);&lt;br/&gt;$array = mysql_fetch_array($result);&lt;br/&gt;echo &amp;#39;&amp;lt;pre&amp;gt;&amp;#39;;print_r($array);&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例四：传出参数的inout存储过程&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce4(inout sexflag int)&lt;br/&gt;begin&lt;br/&gt;SELECT * FROM user WHERE sex = sexflag;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce4的存储过程&lt;br/&gt;$sql = &amp;quot;set @sexflag = 1&amp;quot;;&lt;br/&gt;mysql_query($sql);//设置性别参数为1&lt;br/&gt;$sql = &amp;quot;call test.myproce4(@sexflag);&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce4的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br/&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例五：使用变量的存储过程&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce5(in a int,in b int)&lt;br/&gt;begin&lt;br/&gt;declare s int default 0;&lt;br/&gt;set s=a+b;&lt;br/&gt;select s;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce5的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce5(4,6);&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce5的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例六：case语法&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce6(in score int)&lt;br/&gt;begin&lt;br/&gt;case score&lt;br/&gt;when 60 then select &amp;#39;及格&amp;#39;;&lt;br/&gt;when 80 then select &amp;#39;及良好&amp;#39;;&lt;br/&gt;when 100 then select &amp;#39;优秀&amp;#39;;&lt;br/&gt;else select &amp;#39;未知分数&amp;#39;;&lt;br/&gt;end case;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce6的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce6(100);&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce6的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例七：循环语句&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce7()&lt;br/&gt;begin&lt;br/&gt;declare i int default 0;&lt;br/&gt;declare j int default 0;&lt;br/&gt;while i&amp;lt;10 do&lt;br/&gt;set j=j+i;&lt;br/&gt;set i=i+1;&lt;br/&gt;end while;&lt;br/&gt;select j;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce7的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce7();&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce7的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br/&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例八：repeat语句&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;$sql = &amp;quot;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br/&gt;create procedure myproce8()&lt;br/&gt;begin&lt;br/&gt;declare i int default 0;&lt;br/&gt;declare j int default 0;&lt;br/&gt;repeat&lt;br/&gt;set j=j+i;&lt;br/&gt;set i=i+1;&lt;br/&gt;until j&amp;gt;=10&lt;br/&gt;end repeat;&lt;br/&gt;select j;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce8的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce8();&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce8的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例九：loop语句&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;$sql = &amp;quot;&lt;br/&gt;create procedure myproce9()&lt;br/&gt;begin&lt;br/&gt;declare i int default 0;&lt;br/&gt;declare s int default 0;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;loop_label:loop&lt;br/&gt;set s=s+i;&lt;br/&gt;set i=i+1;&lt;br/&gt;if i&amp;gt;=5 then&lt;br/&gt;leave loop_label;&lt;br/&gt;end if;&lt;br/&gt;end loop;&lt;br/&gt;select s;&lt;br/&gt;end;&amp;nbsp;&lt;br/&gt;&amp;quot;;&lt;br/&gt;mysql_query($sql);//创建一个myproce9的存储过程&lt;br/&gt;$sql = &amp;quot;call test.myproce9();&amp;quot;;&lt;br/&gt;mysql_query($sql);//调用myproce9的存储过程,在cmd下面看效果&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); line-height: 26px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(204, 0, 0);&quot;&gt;实例十：删除存储过程&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;mysql_query(&amp;quot;drop procedure if exists myproce&amp;quot;);//删除test的存储过程&lt;br/&gt;实例十：存储过程中的游标&lt;br/&gt;总结中。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491468706','1'),
('40','1','回调函数的原理及实例','1','回调函数的原理及实例','&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;1 什么是回调&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;软件模块之间总是存在着一定的接口，从调用方式上，可以把他们分为三类：同步调用、回调和异步调用。同步调用是一种阻塞式调用，调用方要等待对方执行完毕才返回，它是一种单向调用；回调是一种双向调用模式，也就是说，被调用方在接口被调用时也会调用对方的接口；异步调用是一种类似消息或事件的机制，不过它的调用方向刚好相反，接口的服务在收到某种讯息或发生某种事件时，会主动通知客户方（即调用客户方的接口）。回调和异步调用的关系非常紧密，通常我们使用回调来实现异步消息的注册，通过异步调用来实现消息的通知。同步调用是三者当中最简单的，而回调又常常是异步调用的基础，因此，下面我们着重讨论回调机制在不同软件架构中的实现。&lt;br/&gt;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 对于不同类型的语言（如结构化语言和对象语言）、平台（Win32、JDK）或构架（CORBA、DCOM、WebService），客户和服务的交互除了同步方式以外，都需要具备一定的异步通知机制，让服务方（或接口提供方）在某些情况下能够主动通知客户，而回调是实现异步的一个最简捷的途径。对于一般的结构化语言，可以通过回调函数来实现回调。回调函数也是一个函数或过程，不过它是一个由调用方自己实现，供被调用方使用的特殊函数。&lt;br/&gt;在面向对象的语言中，回调则是通过接口或抽象类来实现的，我们把实现这种接口的类成为回调类，回调类的对象成为回调对象。对于象C++或Object Pascal这些兼容了过程特性的对象语言，不仅提供了回调对象、回调方法等特性，也能兼容过程语言的回调函数机制。Windows平台的消息机制也可以看作是回调的一种应用，我们通过系统提供的接口注册消息处理函数（即回调函数），从而实现接收、处理消息的目的。由于Windows平台的API是用C语言来构建的，我们可以认为它也是回调函数的一个特例。对于分布式组件代理体系CORBA，异步处理有多种方式，如回调、事件服务、通知服务等。事件服务和通知服务是CORBA用来处理异步消息的标准服务，他们主要负责消息的处理、派发、维护等工作。对一些简单的异步处理过程，我们可以通过回调机制来实现。&lt;br/&gt;&lt;br/&gt;2 PHP的回调函数的实现方法&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;2.1 全局函数的回调&lt;br/&gt;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;这里的全局函数的意思，是直接使用function定义的函数，它不包含在任何对象或类之中。请看下面的例子&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;; //方法名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );//传给参数的值&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( $fnName , $params );&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155242022?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;代码说明：&lt;br/&gt;&amp;nbsp; &amp;nbsp; 这里使用了PHP内置的函数call_user_func_array来进行调用。call_user_func_array有两个参数，第1个参数是一个字符串，表示要调用的函数名，第2个参数是一个数组，表示参数列表，按照顺序依次会传递给要调用的函数。&lt;br/&gt;&lt;br/&gt;2.2 类的静态方法的回调&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;如果我们要回调的方法，是一个类的静态方法，那怎么办呢？我们依然可以利用PHP内置的call_user_func_array方法来进行调用，请看示例：&lt;br/&gt;示例代码：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public static function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$className = &amp;#39;MyClass&amp;#39;; //类名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;//类中的方法名&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );//传给参数的值&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( array( $className , $fnName ) , $params );&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155609236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;代码说明：&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;这段代码和第1种方法的代码很相似，我们将类名（MyClass）也作为call_user_func_array的第1个参数传递进去，就可以实现类的静态方法的回调了。注意，这时call_user_func_array的第1个参数是一个数组了，数组的第1个元素是类名，第二个元素是要调用的函数名&lt;br/&gt;&lt;br/&gt;如果我用这种方法调用一个类的非静态方法（也就是把static去掉），会出现什么结果呢？请看下面代码&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; public function fnCallBack( $msg1 , $msg2 )&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; {&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; }&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$className = &amp;#39;MyClass&amp;#39;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;call_user_func_array( array( $className , $fnName ) , $params );&lt;br/&gt;最终运行的结果跟原来一样&lt;br/&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155746257?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;br/&gt;2.3 对象的方法的回调&lt;br/&gt;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;我先用最原始的字符串形式的调用方法尝试了一下，如下所示：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;private $name = &amp;#39;abc&amp;#39;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public function fnCallBack( $msg1 = &amp;#39;default msg1&amp;#39; , $msg2 = &amp;#39;default msg2&amp;#39; )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;object name:&amp;#39;.$this-&amp;gt;name;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj = new MyClass();&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj-&amp;gt;$fnName();&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;结果：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816155859867?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;调用是成功了，不过如何把参数params传给这个方法呢，如果把params直接传进去，那么它会作为1个参数，怎么把params拆开来传进去呢？查了下PHP手册，找到了create_function函数，这个方法可以用字符串来创建一个匿名函数，好，有思路了，可以创建一个匿名的函数，在这个匿名函数中，调用我们的回调函数，并把参数传进去。&lt;br/&gt;我先手动创建一个匿名函数anonymous，在这个函数中，用前面试出来的方法调用回调函数，如下所示：&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;class MyClass&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;private $name = &amp;#39;abc&amp;#39;;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;public function fnCallBack( $msg1 = &amp;#39;default msg1&amp;#39; , $msg2 = &amp;#39;default msg2&amp;#39; )&lt;br/&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;#39;object name:&amp;#39;.$this-&amp;gt;name;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;#39;msg1:&amp;#39;.$msg1;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;echo &amp;quot;&amp;lt;br /&amp;gt;\\n&amp;quot;;&lt;br/&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;echo &amp;#39;msg2:&amp;#39;.$msg2;&lt;br/&gt;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$myobj = new MyClass();&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$fnName = &amp;quot;fnCallBack&amp;quot;;&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;$params = array( &amp;#39;hello&amp;#39; , &amp;#39;world&amp;#39; );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;//匿名函数的构建&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;function anonymous()&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;{&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; global $myobj;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;&amp;nbsp; global $fnName;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; global $params;&lt;br/&gt;&amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;&amp;nbsp; $myobj-&amp;gt;$fnName( $params[0] , $params[1] );&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;}&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;/span&gt;anonymous();&lt;br/&gt;&lt;br/&gt;成功了。效果如下：&lt;br/&gt;&lt;img src=&quot;http://img.blog.csdn.net/20150816160046423?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center&quot; alt=&quot;&quot; style=&quot;border: none; max-width: 100%;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491815825','1'),
('41','1','事件机制','1','事件机制','&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;主要功能：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; font-size: 14px; font-family: tahoma, arial, 宋体; white-space: normal; background-color: rgb(255, 255, 255);&quot;&gt;1.绑定事件 支持一个事件绑定多个动作，支持绑定一次性事件&lt;br/&gt;2.触发事件&lt;br/&gt;3.注销事件&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;75642&quot; class=&quot;copybut&quot; id=&quot;copybut75642&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;class Event&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; protected static $listens&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = array();&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function listen($event, $callback, $once=false){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!is_callable($callback)) return false;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; self::$listens[$event][]&amp;nbsp;&amp;nbsp;&amp;nbsp; = array(&amp;#39;callback&amp;#39;=&amp;gt;$callback, &amp;#39;once&amp;#39;=&amp;gt;$once);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return true;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function one($event, $callback){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return self::listen($event, $callback, true);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function remove($event, $index=null){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(is_null($index))&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; unset(self::$listens[$event]);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; unset(self::$listens[$event][$index]);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function trigger(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!func_num_args()) return;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $args&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = func_get_args();&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $event&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = array_shift($args);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if(!isset(self::$listens[$event])) return false;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; foreach((array) self::$listens[$event] as $index=&amp;gt;$listen){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $callback&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; = $listen[&amp;#39;callback&amp;#39;];&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $listen[&amp;#39;once&amp;#39;] &amp;amp;&amp;amp; self::remove($event, $index);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; call_user_func_array($callback, $args);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;span style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;以下是一些调用的例子：&lt;/span&gt;&lt;br style=&quot;font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;line-height: 21.6px; font-size: 12px; float: right;&quot;&gt;&lt;a data=&quot;67356&quot; class=&quot;copybut&quot; id=&quot;copybut67356&quot; style=&quot;color: rgb(51, 51, 51); cursor: pointer;&quot;&gt;&lt;span style=&quot;text-decoration:underline;&quot;&gt;复制代码&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;代码如下:&lt;/p&gt;&lt;p&gt;// 增加监听walk事件&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;walk&amp;#39;, function(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am walking...n&amp;quot;;&amp;nbsp;&lt;br/&gt;});&amp;nbsp;&lt;br/&gt;// 增加监听walk一次性事件&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;walk&amp;#39;, function(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am listening...n&amp;quot;;&amp;nbsp;&lt;br/&gt;}, true);&amp;nbsp;&lt;br/&gt;// 触发walk事件&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;walk&amp;#39;);&amp;nbsp;&lt;br/&gt;/*&amp;nbsp;&lt;br/&gt;I am walking...&amp;nbsp;&lt;br/&gt;I am listening...&amp;nbsp;&lt;br/&gt;*/&lt;br/&gt;Event::trigger(&amp;#39;walk&amp;#39;);&amp;nbsp;&lt;br/&gt;/*&amp;nbsp;&lt;br/&gt;I am walking...&amp;nbsp;&lt;br/&gt;*/&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::one(&amp;#39;say&amp;#39;, function($name=&amp;#39;&amp;#39;){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;I am {$name}n&amp;quot;;&amp;nbsp;&lt;br/&gt;});&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;say&amp;#39;, &amp;#39;deeka&amp;#39;); // 输出 I am deeka&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;say&amp;#39;, &amp;#39;deeka&amp;#39;); // not run&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;class Foo&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public function bar(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Foo::bar() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public function test(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Foo::foo() is called, agrs:&amp;quot;.json_encode(func_get_args()).&amp;quot;n&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;$foo&amp;nbsp;&amp;nbsp;&amp;nbsp; = new Foo;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar&amp;#39;, array($foo, &amp;#39;bar&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;test&amp;#39;, array($foo, &amp;#39;test&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;test&amp;#39;, 1, 2, 3);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;class Bar&amp;nbsp;&lt;br/&gt;{&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; public static function foo(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;Bar::foo() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar1&amp;#39;, array(&amp;#39;Bar&amp;#39;, &amp;#39;foo&amp;#39;));&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar1&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar2&amp;#39;, &amp;#39;Bar::foo&amp;#39;);&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar2&amp;#39;);&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;function bar(){&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;bar() is calledn&amp;quot;;&amp;nbsp;&lt;br/&gt;}&amp;nbsp;&lt;br/&gt;&amp;nbsp;&amp;nbsp;&lt;br/&gt;Event::listen(&amp;#39;bar3&amp;#39;, &amp;#39;bar&amp;#39;);&amp;nbsp;&lt;br/&gt;Event::trigger(&amp;#39;bar3&amp;#39;);&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;','0','0','1491816578','1');
DROP TABLE IF EXISTS  `bk_article_hot`;
CREATE TABLE `bk_article_hot` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `art_id` int(10) unsigned NOT NULL COMMENT '文章id',
  `cate_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '分类id',
  `cate_name` varchar(100) NOT NULL COMMENT '分类名称',
  `title` varchar(100) NOT NULL COMMENT '文章标题',
  `hot` int(10) unsigned NOT NULL COMMENT '热度',
  `addtime` int(10) unsigned NOT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='热门文章表';

DROP TABLE IF EXISTS  `bk_article_images`;
CREATE TABLE `bk_article_images` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `art_id` int(10) unsigned NOT NULL COMMENT '文章id',
  `image_url` varchar(255) NOT NULL COMMENT '图片地址',
  `type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '类型 1封面 2内容 3 视频封面 4视频',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='发布文章图片/视频表';

DROP TABLE IF EXISTS  `bk_article_recommend`;
CREATE TABLE `bk_article_recommend` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `art_id` int(10) unsigned NOT NULL COMMENT '文章id',
  `title` varchar(100) NOT NULL COMMENT '标题',
  `addtime` int(10) unsigned NOT NULL COMMENT '点赞时间',
  `sort` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `is_rec` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否推荐 1 是 0否',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COMMENT='文章推荐表';

insert into `bk_article_recommend`(`id`,`art_id`,`title`,`addtime`,`sort`,`is_rec`) values
('1','1','nginx的编译安装','1483946299','2','1'),
('2','2','PHP7的编译安装','1483946299','0','1'),
('3','20','关于mysql处理百万级以上的数据时如何提高其查询速度的方法','1483946299','0','1'),
('4','10','liunx 源码安装 MySQL5.7 ','1483946299','2','1'),
('5','22','支付宝支付开发—当面付条码支付和扫码支付','1483946299','0','1'),
('6','13','MySQL自动备份','1483946299','0','1');
DROP TABLE IF EXISTS  `bk_banner`;
CREATE TABLE `bk_banner` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `show_addr` varchar(100) NOT NULL DEFAULT 'index' COMMENT '显示位置',
  `title` varchar(255) DEFAULT NULL COMMENT '标题',
  `introduce` varchar(255) NOT NULL DEFAULT '0' COMMENT '描述',
  `url` varchar(255) DEFAULT NULL COMMENT '跳转地址',
  `image_url` varchar(255) NOT NULL COMMENT '图片地址',
  `addtime` int(11) NOT NULL COMMENT '添加时间 ',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='轮播表';

insert into `bk_banner`(`id`,`show_addr`,`title`,`introduce`,`url`,`image_url`,`addtime`,`is_show`) values
('1','index','渡人如渡己，渡已，亦是渡','当我们被误解时，会花很多时间去辩白。 但没有用，没人愿意听，大家习惯按自己的所闻、理解做出判别，每个人其实都很固执。与其努力且痛苦的试图扭转别人的评判，不如默默承受，给大家多一点时间和空间去了解。而我们省下辩解的功夫，去实现自身更久远的人生价值。其实，渡人如渡己，渡已，亦是渡人。',null,'Public/picture/art.jpg','1481192598','1');
DROP TABLE IF EXISTS  `bk_category`;
CREATE TABLE `bk_category` (
  `cate_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `name` varchar(100) NOT NULL DEFAULT '0' COMMENT '分类名称',
  `english` varchar(100) DEFAULT NULL COMMENT '英文名称',
  `image` varchar(100) NOT NULL DEFAULT '0' COMMENT 'logo',
  `parent_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '父类id',
  `addtime` int(10) unsigned NOT NULL COMMENT '添加时间',
  `sort` int(11) NOT NULL DEFAULT '0' COMMENT '排序',
  `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示 1是 0否',
  PRIMARY KEY (`cate_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COMMENT='分类表';

insert into `bk_category`(`cate_id`,`name`,`english`,`image`,`parent_id`,`addtime`,`sort`,`is_show`) values
('1','PHP','Hypertext Preprocessor','0','0','1481188403','0','1'),
('2','MYSQL','mysql','0','0','1481188403','0','1'),
('3','NGINX','nginx','0','0','1481188548','0','1'),
('4','前端','html CSS','0','0','1481188548','0','1');
DROP TABLE IF EXISTS  `bk_config`;
CREATE TABLE `bk_config` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `name` varchar(100) NOT NULL COMMENT '配置名称',
  `content` varchar(500) NOT NULL COMMENT '配置内容',
  `addtime` int(10) unsigned NOT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='配置表';

DROP TABLE IF EXISTS  `bk_discuss`;
CREATE TABLE `bk_discuss` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `art_id` int(10) unsigned NOT NULL COMMENT '文章id',
  `art_title` varchar(100) NOT NULL COMMENT '文章标题',
  `parent_id` int(10) unsigned DEFAULT '0' COMMENT '父评论id',
  `reply_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '被回复人id',
  `user_id` int(10) unsigned NOT NULL COMMENT '评论用户id 0游客',
  `content` varchar(255) NOT NULL COMMENT '评论内容',
  `grade` tinyint(1) NOT NULL DEFAULT '4' COMMENT '评分',
  `addtime` int(10) unsigned NOT NULL COMMENT '评论时间',
  `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示 1 是 0否',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COMMENT='评论表';

insert into `bk_discuss`(`id`,`art_id`,`art_title`,`parent_id`,`reply_id`,`user_id`,`content`,`grade`,`addtime`,`is_show`) values
('1','24','正则表达式','0','0','1','get 到新技能','4','1483949276','1');
DROP TABLE IF EXISTS  `bk_discuz_group`;
CREATE TABLE `bk_discuz_group` (
  `group_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id   当parent_id 大于0 为话题id',
  `name` varchar(100) NOT NULL COMMENT '小组名称',
  `introduction` varchar(255) DEFAULT NULL COMMENT '简介',
  `logo` varchar(255) DEFAULT NULL COMMENT '图标',
  `follow_num` int(11) DEFAULT '0' COMMENT '关注人数',
  `post_num` int(11) DEFAULT '0' COMMENT '发帖总数',
  `sort` tinyint(3) DEFAULT '0' COMMENT '排序 值越大 越靠前',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `parent_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '父类id',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`group_id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COMMENT='社区小组表';

insert into `bk_discuz_group`(`group_id`,`name`,`introduction`,`logo`,`follow_num`,`post_num`,`sort`,`addtime`,`parent_id`,`is_show`) values
('1','Database',null,null,'0','0','0','1481682889','0','1'),
('2','programming language',null,null,'0','0','0','1481683281','0','1'),
('3','server',null,null,'0','0','0','1481683281','0','1'),
('4','website',null,null,'0','0','0','1481683514','0','1'),
('17','MySQL',null,null,'0','0','0','1481683514','1','1'),
('18','Java',null,null,'0','0','0','1481683514','2','1'),
('19','Linux',null,null,'0','0','0','1481683514','3','1'),
('20','html',null,null,'0','0','0','1481683514','4','1');
DROP TABLE IF EXISTS  `bk_discuz_post`;
CREATE TABLE `bk_discuz_post` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `group_id` int(11) NOT NULL COMMENT '社区小组id',
  `topic_id` int(11) NOT NULL DEFAULT '0' COMMENT '话题id',
  `user_id` int(11) NOT NULL COMMENT '发帖人id',
  `title` varchar(255) NOT NULL COMMENT '标题',
  `introduction` varchar(255) NOT NULL COMMENT '简介',
  `content` text NOT NULL COMMENT '内容',
  `image` varchar(1024) DEFAULT NULL COMMENT '图片 多个用；间隔 默认第一张封面',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `sort` tinyint(3) DEFAULT '0' COMMENT '排序 值越大 越靠前',
  `like_num` int(11) DEFAULT '0' COMMENT '点赞数',
  `discuss_num` int(11) DEFAULT '0' COMMENT '评论数',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='社区发帖表';

insert into `bk_discuz_post`(`id`,`group_id`,`topic_id`,`user_id`,`title`,`introduction`,`content`,`image`,`addtime`,`sort`,`like_num`,`discuss_num`,`is_show`) values
('1','17','1','5','Using Javascript','Many of us work in an endless stream of tasks, browser tasks, social media, emails, meetings, rushing from one thing to another, never pausing and never ending. Then the day is over, and we are exhausted, and we often have very little to show for it. And ','Many of us work in an endless stream of tasks, browser tasks, social media, emails, meetings, rushing from one thing to another, never pausing and never ending. Then the day is over, and we are exhausted, and we often have very little to show for it. And we start the next day, ready for a mindless stream of tasks and distractions.

I am a fan of going against the stream of what most people do, and taking a step back. Is it really worth it? Is this the best way? Are we losing our lives to busy-ness and distraction?

What if we did less instead? Of course, I’ve been suggesting doing less for six years here on Zen Habits, but it’s a topic worth revisiting, because it is so necessary. Today I offer a short guide to doing less, for those willing to give it a try.

The Benefits
I could probably write an entire book on the benefits of doing less, but here’s the short version:

You accomplish more. No, you don’t get more done (you’re doing less, after all), but if you do less and focus on the important stuff, you actually achieve better results, more meaningful accomplishments. This is how I’m able to work less but still write hundreds of posts a year (on various sites), create ebooks and courses, and more.
You have less anxiety. When you let go of the distractions and the non-essential, you free yourself from the fear that you need to do these things. You learn that your world doesn’t fall apart when you let these things go.
You enjoy life more. Taking time to really focus on an important task, or enjoy the little things, rather than rushing through them, is much more enjoyable.
You create time. When you do less, all of a sudden you have free time! What can you do with all that time? How about spend some time with loved ones, read, write, make music, exercise, cook healthy meals, start your own business, meditate, do yoga?
I’ll stop with those benefits — they’re sufficient for getting started. But I think you’ll discover others as you give this a try.

Savor Your Tasks
I wrote recently about how to savor life … and this applies to your to-do list.

When you do a task — let’s say writing something — create space around that task. Really pay attention, really pour yourself into it, and enjoy it. Any task can be enjoyable with the savor mindset — yes, even cleaning and doing taxes.

When you do the task, don’t rush through it, but be mindful, be present, and smile. When you’re done with the task, savor your accomplishment instead of just looking for what’s next. Breathe between tasks.

Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
Curate Your Tasks
ManIf you normally do 20-30 things a day (as an example), small and large tasks and meetings, that’s great — but are these things important? Are they good enough to make the cut of what should be in your life?

Instead, think of yourself as a collector. Each day is limited, our lives are limited, and we can try to cram as many things as we possibly can into these containers, or we can collect just the experiences worthy of being in these limited days.

What would you include in your day if you were culling experiences and tasks down to the best ones? My day, as an example, often contains these things I love: meditation, writing, coffee and reading, spending time with my wife and kids, exercise, eating healthy meals, helping people, going for a walk, more reading, drinking a glass or two of red wine. Not every day has those things, and not in that order, but those are some of the things I find worthy of my day.

Creating a Day of Less
Can you do less today? How would you do it?

The answer is yes, you can do less today, even if you’ve already started with a rush of small tasks. Here’s what I suggest:

Take a breath. Take a moment to pause in your busy day, and breathe. Pay attention to your breath for a minute, then pay attention to your body, how you’re sitting, whether your jaw is clenched, what is tense.
Now consider your day. What have you done already today? What is on the horizon for the rest of the day? Is there anything you can let go of? Can you create spaces between your tasks? Can you cull your tasks, getting rid of the non-essential, just leaving the best?
Learn to know the essential. It takes time to figure out what tasks give you the most impact on your life, your career, your ability to help others and change the world. But start learning today — pick what you think is most essential, clear some space, and just work on those things. Savor them.
Reduce distractions. Consider going on a digital cleanse — take a day or a week off of social media, news, entertainment/gossip sites, the places you usually spend on distractions. What will you do when you feel like some distraction? Meditate, exercise, create.
Breathe. Enjoy the new space. Savor the beauty of doing less.',null,'1481687956','0','0','0','1'),
('2','17','1','4','Integrating WordPress with Your Website','Many of us work in an endless stream of tasks, browser tasks, social media, emails, meetings, rushing from one thing to another, never pausing and never ending. Then the day is over, and we are exhausted, and we often have very little to show for it. And ','Many of us work in an endless stream of tasks, browser tasks, social media, emails, meetings, rushing from one thing to another, never pausing and never ending. Then the day is over, and we are exhausted, and we often have very little to show for it. And we start the next day, ready for a mindless stream of tasks and distractions.

I am a fan of going against the stream of what most people do, and taking a step back. Is it really worth it? Is this the best way? Are we losing our lives to busy-ness and distraction?

What if we did less instead? Of course, I’ve been suggesting doing less for six years here on Zen Habits, but it’s a topic worth revisiting, because it is so necessary. Today I offer a short guide to doing less, for those willing to give it a try.

The Benefits
I could probably write an entire book on the benefits of doing less, but here’s the short version:

You accomplish more. No, you don’t get more done (you’re doing less, after all), but if you do less and focus on the important stuff, you actually achieve better results, more meaningful accomplishments. This is how I’m able to work less but still write hundreds of posts a year (on various sites), create ebooks and courses, and more.
You have less anxiety. When you let go of the distractions and the non-essential, you free yourself from the fear that you need to do these things. You learn that your world doesn’t fall apart when you let these things go.
You enjoy life more. Taking time to really focus on an important task, or enjoy the little things, rather than rushing through them, is much more enjoyable.
You create time. When you do less, all of a sudden you have free time! What can you do with all that time? How about spend some time with loved ones, read, write, make music, exercise, cook healthy meals, start your own business, meditate, do yoga?
I’ll stop with those benefits — they’re sufficient for getting started. But I think you’ll discover others as you give this a try.

Savor Your Tasks
I wrote recently about how to savor life … and this applies to your to-do list.

When you do a task — let’s say writing something — create space around that task. Really pay attention, really pour yourself into it, and enjoy it. Any task can be enjoyable with the savor mindset — yes, even cleaning and doing taxes.

When you do the task, don’t rush through it, but be mindful, be present, and smile. When you’re done with the task, savor your accomplishment instead of just looking for what’s next. Breathe between tasks.

Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
Curate Your Tasks
ManIf you normally do 20-30 things a day (as an example), small and large tasks and meetings, that’s great — but are these things important? Are they good enough to make the cut of what should be in your life?

Instead, think of yourself as a collector. Each day is limited, our lives are limited, and we can try to cram as many things as we possibly can into these containers, or we can collect just the experiences worthy of being in these limited days.

What would you include in your day if you were culling experiences and tasks down to the best ones? My day, as an example, often contains these things I love: meditation, writing, coffee and reading, spending time with my wife and kids, exercise, eating healthy meals, helping people, going for a walk, more reading, drinking a glass or two of red wine. Not every day has those things, and not in that order, but those are some of the things I find worthy of my day.

Creating a Day of Less
Can you do less today? How would you do it?

The answer is yes, you can do less today, even if you’ve already started with a rush of small tasks. Here’s what I suggest:

Take a breath. Take a moment to pause in your busy day, and breathe. Pay attention to your breath for a minute, then pay attention to your body, how you’re sitting, whether your jaw is clenched, what is tense.
Now consider your day. What have you done already today? What is on the horizon for the rest of the day? Is there anything you can let go of? Can you create spaces between your tasks? Can you cull your tasks, getting rid of the non-essential, just leaving the best?
Learn to know the essential. It takes time to figure out what tasks give you the most impact on your life, your career, your ability to help others and change the world. But start learning today — pick what you think is most essential, clear some space, and just work on those things. Savor them.
Reduce distractions. Consider going on a digital cleanse — take a day or a week off of social media, news, entertainment/gossip sites, the places you usually spend on distractions. What will you do when you feel like some distraction? Meditate, exercise, create.
Breathe. Enjoy the new space. Savor the beauty of doing less.',null,'1481687977','0','0','10','1');
DROP TABLE IF EXISTS  `bk_discuz_post_approve`;
CREATE TABLE `bk_discuz_post_approve` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `post_id` int(11) NOT NULL COMMENT '帖子id',
  `user_id` int(11) DEFAULT '0' COMMENT '点赞用户id,0游客',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='社区帖子点赞表';

DROP TABLE IF EXISTS  `bk_discuz_post_discuss`;
CREATE TABLE `bk_discuz_post_discuss` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `user_id` int(11) DEFAULT '0' COMMENT '评论用户id,0游客',
  `post_id` int(11) NOT NULL COMMENT '帖子id',
  `parent_id` int(10) unsigned DEFAULT '0' COMMENT '父评论id',
  `reply_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '被回复用户id',
  `content` varchar(255) NOT NULL COMMENT '评论内容',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='社区帖子评论表';

DROP TABLE IF EXISTS  `bk_discuz_post_tags`;
CREATE TABLE `bk_discuz_post_tags` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `group_id` int(11) NOT NULL COMMENT '社区分组id',
  `post_id` int(11) NOT NULL COMMENT '帖子id',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `sort` tinyint(3) DEFAULT '0' COMMENT '排序 值越大 越靠前',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='社区帖子标签表';

DROP TABLE IF EXISTS  `bk_discuz_rec_post`;
CREATE TABLE `bk_discuz_rec_post` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `post_id` int(11) NOT NULL COMMENT '帖子id',
  `addtime` int(11) DEFAULT '0' COMMENT '添加时间',
  `sort` tinyint(3) DEFAULT '0' COMMENT '排序 值越大 越靠前',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='社区帖子推荐表';

DROP TABLE IF EXISTS  `bk_message_wall`;
CREATE TABLE `bk_message_wall` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(11) unsigned NOT NULL COMMENT '用户id',
  `title` varchar(1024) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '留言title',
  `content` text COLLATE utf8mb4_bin NOT NULL COMMENT '留言内容',
  `addtime` int(11) unsigned NOT NULL COMMENT '留言时间',
  `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示 1是 0否',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='留言表';

DROP TABLE IF EXISTS  `bk_music`;
CREATE TABLE `bk_music` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '名称',
  `description` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '描述',
  `url` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT '地址',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=45 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='音乐表';

insert into `bk_music`(`id`,`name`,`description`,`url`) values
('1','Dream It Possible','专辑：Dream It Possible
歌手：Delacey
来源：Dream It Possible','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/Delacey%20-%20Dream%20It%20Possible.mp3'),
('2','The Heart Wants What It Wants','专辑：The Heart Wants What It Wants
歌手：Selena Gomez
来源：我下载的音乐','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/Selena%20Gomez%20-%20The%20Heart%20Wants%20What%20It%20Wants.mp3'),
('6','The Heart Wants What It Wants','Selena Gomez ','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/Selena%20Gomez%20-%20The%20Heart%20Wants%20What%20It%20Wants.mp3'),
('7',' Papercut.mp3','Zedd,Troye Sivan ','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/Zedd%2CTroye%20Sivan%20-%20Papercut.mp3'),
('8',' 今天.mp3','刘德华','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%88%98%E5%BE%B7%E5%8D%8E%20-%20%E4%BB%8A%E5%A4%A9.mp3'),
('9','冰雨','刘德华 ','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%88%98%E5%BE%B7%E5%8D%8E%20-%20%E5%86%B0%E9%9B%A8.mp3'),
('10','练习(Live)','刘德华','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%88%98%E5%BE%B7%E5%8D%8E%20-%20%E5%86%B0%E9%9B%A8.mp3'),
('11','谢谢你的爱(国)','刘德华','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%88%98%E5%BE%B7%E5%8D%8E%20-%20%E8%B0%A2%E8%B0%A2%E4%BD%A0%E7%9A%84%E7%88%B1%28%E5%9B%BD%29.mp3'),
('12','生命树','吴雨霏','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%90%B4%E9%9B%A8%E9%9C%8F%20-%20%E7%94%9F%E5%91%BD%E6%A0%91.mp3'),
('13','慢慢','张学友','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E5%BC%A0%E5%AD%A6%E5%8F%8B%20-%20%E6%85%A2%E6%85%A2.mp3'),
('14','老街','李荣浩','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E6%9D%8E%E8%8D%A3%E6%B5%A9%20-%20%E8%80%81%E8%A1%97.mp3'),
('15','丑八怪','薛之谦','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E8%96%9B%E4%B9%8B%E8%B0%A6%20-%20%E4%B8%91%E5%85%AB%E6%80%AA.mp3'),
('16','其实','薛之谦','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E8%96%9B%E4%B9%8B%E8%B0%A6%20-%20%E5%85%B6%E5%AE%9E.mp3'),
('17','演员','薛之谦','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E8%96%9B%E4%B9%8B%E8%B0%A6%20-%20%E6%BC%94%E5%91%98.mp3'),
('18','绅士','薛之谦','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E8%96%9B%E4%B9%8B%E8%B0%A6%20-%20%E7%BB%85%E5%A3%AB.mp3'),
('19','认真的雪','薛之谦','http://chenhuojia.oss-cn-shanghai.aliyuncs.com/%E8%96%9B%E4%B9%8B%E8%B0%A6%20-%20%E8%AE%A4%E7%9C%9F%E7%9A%84%E9%9B%AA.mp3');
DROP TABLE IF EXISTS  `bk_privacy`;
CREATE TABLE `bk_privacy` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `content` text NOT NULL COMMENT '内容',
  `user_id` int(11) unsigned DEFAULT '1',
  `title` varchar(32) DEFAULT NULL,
  `addtime` int(11) unsigned DEFAULT NULL,
  `is_show` tinyint(3) unsigned DEFAULT '1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='隐私';

DROP TABLE IF EXISTS  `bk_third_party`;
CREATE TABLE `bk_third_party` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `user_id` int(10) unsigned NOT NULL COMMENT '表id',
  `qq_openid` varchar(100) DEFAULT NULL COMMENT '用户名',
  `qq` varchar(100) DEFAULT '0' COMMENT 'qq号码',
  `weixin_openid` int(10) unsigned DEFAULT NULL COMMENT '添加时间',
  `weixin` varchar(100) DEFAULT '0' COMMENT '微信号码',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='第三方登陆表';

insert into `bk_third_party`(`id`,`user_id`,`qq_openid`,`qq`,`weixin_openid`,`weixin`,`is_show`) values
('2','4',null,'0','0','0','1');
DROP TABLE IF EXISTS  `bk_user`;
CREATE TABLE `bk_user` (
  `user_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `name` varchar(100) NOT NULL COMMENT '用户名',
  `password` varchar(32) NOT NULL COMMENT '密码',
  `avatar` varchar(1024) DEFAULT '0' COMMENT '头像',
  `profession` varchar(100) DEFAULT '0' COMMENT '职业',
  `phone` varchar(100) DEFAULT '0' COMMENT '电话',
  `email` varchar(100) DEFAULT '0' COMMENT '邮箱',
  `contact_address` varchar(100) DEFAULT '0' COMMENT '联系地址',
  `login_time` int(10) unsigned DEFAULT '0' COMMENT '登陆时间',
  `addtime` int(10) unsigned NOT NULL COMMENT '注册时间',
  `is_admin` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否为管理员 1是 0否',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COMMENT='用户表';

insert into `bk_user`(`user_id`,`name`,`password`,`avatar`,`profession`,`phone`,`email`,`contact_address`,`login_time`,`addtime`,`is_admin`,`is_show`) values
('1','陈伙佳','202cb962ac59075b964b07152d234b70','/bolg/tp3/Public/picture/s1.jpg','苦逼程序员','13725474374','shabi@163.com','帝都','1490666019','1483939059','0','1'),
('2','新之心','e10adc3949ba59abbe56e057f20f883e','/bolg/tp3/Public/picture/s1.jpg','苦逼程序员','13413885166','shabi@163.com','帝都','1484194636','1484194636','0','1'),
('3','test','698d51a19d8a121ce581499d7b701668','/bolg/tp3/Public/picture/s1.jpg','苦逼程序员','13413885166','shabi@163.com','帝都','1489572416','1489572418','0','1'),
('4','小丑','e10adc3949ba59abbe56e057f20f883e','http://wx.qlogo.cn/mmopen/mKmiaR1ZQ7MbD1z0aEz8IZprssWWvqo4T0Bl7ofKvboDlic4fPxcm1aiaDOc5xbMJTSdlfB3ibBpy8mqrANVP1HrpWWibdjLuhHav/0','程序员','13725474374','1126089253@qq.com','广东广州','1494041960','1489664737','0','1');
DROP TABLE IF EXISTS  `bk_user_attr`;
CREATE TABLE `bk_user_attr` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '表id',
  `user_id` int(10) unsigned NOT NULL COMMENT '用户id',
  `is_show` tinyint(1) unsigned DEFAULT '1' COMMENT '是否显示 0否 1是',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户属性表';

SET FOREIGN_KEY_CHECKS = 1;

